{"Headers":{"Last-Modified":"Sat, 20 Jul 2024 16:57:36 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyoqDQogKiBDb3B5cmlnaHQgKGMpIFRpbnkgVGVjaG5vbG9naWVzLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS4NCiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLg0KICogRm9yIGNvbW1lcmNpYWwgbGljZW5zZXMgc2VlIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvDQogKg0KICogVmVyc2lvbjogNS4xMC45ICgyMDIzLTExLTE1KQ0KICovDQohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7aWYodm9pZCAwPT09ZSlyZXR1cm4idW5kZWZpbmVkIjt2YXIgdD10eXBlb2YgZTtyZXR1cm4ib2JqZWN0Ij09dCYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfHxlLmNvbnN0cnVjdG9yJiYiQXJyYXkiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lKT8iYXJyYXkiOiJvYmplY3QiPT10JiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfHxlLmNvbnN0cnVjdG9yJiYiU3RyaW5nIj09PWUuY29uc3RydWN0b3IubmFtZSk/InN0cmluZyI6dH1mdW5jdGlvbiBmKG8pe3JldHVybiBtKGZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49ZS5sZW5ndGgscj0wO3I8bjtyKyspaWYoIW8uZXEoZVtyXSx0W3JdKSlyZXR1cm4hMTtyZXR1cm4hMH0pfWZ1bmN0aW9uIGQobCl7cmV0dXJuIG0oZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT1PYmplY3Qua2V5cyhlKSxhPU9iamVjdC5rZXlzKHQpO2lmKHI9ZihnKSxvPWZ1bmN0aW9uKGUpe3JldHVybiB0PW4sQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkuc29ydCh0KTt2YXIgdH0sIW0oZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5lcShvKGUpLG8odCkpfSkuZXEoaSxhKSlyZXR1cm4hMTtmb3IodmFyIHU9aS5sZW5ndGgscz0wO3M8dTtzKyspe3ZhciBjPWlbc107aWYoIWwuZXEoZVtjXSx0W2NdKSlyZXR1cm4hMX1yZXR1cm4hMH0pfWZ1bmN0aW9uIGUocil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuPXR5cGVvZih0PWUpLChudWxsPT09dD8ibnVsbCI6Im9iamVjdCI9PW4mJihBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KXx8dC5jb25zdHJ1Y3RvciYmIkFycmF5Ij09PXQuY29uc3RydWN0b3IubmFtZSk/ImFycmF5Ijoib2JqZWN0Ij09biYmKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KXx8dC5jb25zdHJ1Y3RvciYmIlN0cmluZyI9PT10LmNvbnN0cnVjdG9yLm5hbWUpPyJzdHJpbmciOm4pPT09cjt2YXIgdCxufX1mdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGU9PT10fX1mdW5jdGlvbiBuKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PWV9fWZ1bmN0aW9uIEsoZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gVihlKXtyZXR1cm4hSyhlKX1mdW5jdGlvbiB0ZSgpe31mdW5jdGlvbiBpKG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBuKHIuYXBwbHkobnVsbCxlKSl9fWZ1bmN0aW9uIGEodCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQobihlKSl9fWZ1bmN0aW9uIEooZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBlPT09dH12YXIgbT1mdW5jdGlvbihlKXtyZXR1cm57ZXE6ZX19LGc9bShmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dH0pLHA9bShmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiEwO3ZhciBuPXIoZSk7cmV0dXJuIG49PT1yKHQpJiYoLTEhPT1bInVuZGVmaW5lZCIsImJvb2xlYW4iLCJudW1iZXIiLCJzdHJpbmciLCJmdW5jdGlvbiIsInhtbCIsIm51bGwiXS5pbmRleE9mKG4pP2U9PT10OiJhcnJheSI9PT1uP2YocCkuZXEoZSx0KToib2JqZWN0Ij09PW4mJmQocCkuZXEoZSx0KSl9KSxYPWUoInN0cmluZyIpLGg9ZSgib2JqZWN0IiksUz1lKCJhcnJheSIpLGw9bihudWxsKSx2PXQoImJvb2xlYW4iKSxiPW4odm9pZCAwKSx5PXQoImZ1bmN0aW9uIiksTj10KCJudW1iZXIiKTtmdW5jdGlvbiBSKHIpe2Zvcih2YXIgbz1bXSxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylvW2UtMV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj1vLmNvbmNhdChlKTtyZXR1cm4gci5hcHBseShudWxsLG4pfX1mdW5jdGlvbiBzKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hdChlKX19ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZSgpfWZ1bmN0aW9uIHgoZSl7ZSgpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gRX12YXIgRD1KKCExKSx3PUooITApLEU9e2ZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSgpfSxpc1NvbWU6RCxpc05vbmU6dyxnZXRPcjp1LGdldE9yVGh1bms6ayxnZXRPckRpZTpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZXx8ImVycm9yOiBnZXRPckRpZSBjYWxsZWQgb24gbm9uZS4iKX0sZ2V0T3JOdWxsOkoobnVsbCksZ2V0T3JVbmRlZmluZWQ6Sih2b2lkIDApLG9yOnUsb3JUaHVuazprLG1hcDpjLGVhY2g6dGUsYmluZDpjLGV4aXN0czpELGZvcmFsbDp3LGZpbHRlcjpmdW5jdGlvbigpe3JldHVybiBFfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW119LHRvU3RyaW5nOkooIm5vbmUoKSIpfTtmdW5jdGlvbiBrKGUpe3JldHVybiBlKCl9ZnVuY3Rpb24gXyhlLHQpe3JldHVybiB5ZS5jYWxsKGUsdCl9ZnVuY3Rpb24gVChlLHQpe3JldHVybi0xPF8oZSx0KX1mdW5jdGlvbiBGKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKHQoZVtuXSxuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBBKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9bmV3IEFycmF5KG4pLG89MDtvPG47bysrKXt2YXIgaT1lW29dO3Jbb109dChpLG8pfXJldHVybiByfWZ1bmN0aW9uIFkoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspdChlW25dLG4pfWZ1bmN0aW9uIE8oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgtMTswPD1uO24tLSl0KGVbbl0sbil9ZnVuY3Rpb24gQihlLHQpe2Zvcih2YXIgbj1bXSxyPVtdLG89MCxpPWUubGVuZ3RoO288aTtvKyspe3ZhciBhPWVbb107KHQoYSxvKT9uOnIpLnB1c2goYSl9cmV0dXJue3Bhc3M6bixmYWlsOnJ9fWZ1bmN0aW9uIFUoZSx0KXtmb3IodmFyIG49W10scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTt0KGkscikmJm4ucHVzaChpKX1yZXR1cm4gbn1mdW5jdGlvbiBQKGUsbixyKXtyZXR1cm4gTyhlLGZ1bmN0aW9uKGUsdCl7cj1uKHIsZSx0KX0pLHJ9ZnVuY3Rpb24gTChlLG4scil7cmV0dXJuIFkoZSxmdW5jdGlvbihlLHQpe3I9bihyLGUsdCl9KSxyfWZ1bmN0aW9uIEkoZSx0LG4pe2Zvcih2YXIgcj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtpZih0KGkscikpcmV0dXJuIHZlLnNvbWUoaSk7aWYobihpLHIpKWJyZWFrfXJldHVybiB2ZS5ub25lKCl9ZnVuY3Rpb24gTShlLHQpe3JldHVybiBJKGUsdCxEKX1mdW5jdGlvbiB6KGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKHQoZVtuXSxuKSlyZXR1cm4gdmUuc29tZShuKTtyZXR1cm4gdmUubm9uZSgpfWZ1bmN0aW9uIEgoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO248cjsrK24pe2lmKCFTKGVbbl0pKXRocm93IG5ldyBFcnJvcigiQXJyLmZsYXR0ZW4gaXRlbSAiK24rIiB3YXMgbm90IGFuIGFycmF5LCBpbnB1dDogIitlKTtDZS5hcHBseSh0LGVbbl0pfXJldHVybiB0fShBKGUsdCkpfWZ1bmN0aW9uIGooZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjsrK24paWYoITAhPT10KGVbbl0sbikpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcShlKXt2YXIgdD1iZS5jYWxsKGUsMCk7cmV0dXJuIHQucmV2ZXJzZSgpLHR9ZnVuY3Rpb24gJChlLHQpe3JldHVybiBVKGUsZnVuY3Rpb24oZSl7cmV0dXJuIVQodCxlKX0pfWZ1bmN0aW9uIFcoZSx0KXt2YXIgbj1iZS5jYWxsKGUsMCk7cmV0dXJuIG4uc29ydCh0KSxufWZ1bmN0aW9uIEcoZSx0KXtyZXR1cm4gMDw9dCYmdDxlLmxlbmd0aD92ZS5zb21lKGVbdF0pOnZlLm5vbmUoKX1mdW5jdGlvbiBRKGUpe3JldHVybiBHKGUsMCl9ZnVuY3Rpb24gWihlKXtyZXR1cm4gRyhlLGUubGVuZ3RoLTEpfWZ1bmN0aW9uIGVlKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPXQoZVtuXSxuKTtpZihyLmlzU29tZSgpKXJldHVybiByfXJldHVybiB2ZS5ub25lKCl9ZnVuY3Rpb24gbmUoZSx0KXtmb3IodmFyIG49d2UoZSkscj0wLG89bi5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9bltyXTt0KGVbaV0saSl9fWZ1bmN0aW9uIHJlKGUsbil7cmV0dXJuIE5lKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm57azp0LHY6bihlLHQpfX0pfWZ1bmN0aW9uIG9lKG4pe3JldHVybiBmdW5jdGlvbihlLHQpe25bdF09ZX19ZnVuY3Rpb24gaWUoZSxuLHIsbyl7cmV0dXJuIG5lKGUsZnVuY3Rpb24oZSx0KXsobihlLHQpP3I6bykoZSx0KX0pLDF9ZnVuY3Rpb24gYWUoZSx0KXt2YXIgbj17fTtyZXR1cm4gaWUoZSx0LG9lKG4pLHRlKSxufWZ1bmN0aW9uIHVlKGUsdCl7cmV0dXJuIEVlKGUsdCk/dmUuZnJvbShlW3RdKTp2ZS5ub25lKCl9ZnVuY3Rpb24gc2UoZSx0KXtyZXR1cm4gRWUoZSx0KSYmdm9pZCAwIT09ZVt0XSYmbnVsbCE9PWVbdF19ZnVuY3Rpb24gY2UoZSx0LG4pe3ZhciByLG87aWYoIWUpcmV0dXJuITE7aWYobj1ufHxlLHZvaWQgMCE9PWUubGVuZ3RoKXtmb3Iocj0wLG89ZS5sZW5ndGg7cjxvO3IrKylpZighMT09PXQuY2FsbChuLGVbcl0scixlKSlyZXR1cm4hMX1lbHNlIGZvcihyIGluIGUpaWYoRWUoZSxyKSYmITE9PT10LmNhbGwobixlW3JdLHIsZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbGUobixyKXt2YXIgbz1bXTtyZXR1cm4gY2UobixmdW5jdGlvbihlLHQpe28ucHVzaChyKGUsdCxuKSl9KSxvfWZ1bmN0aW9uIGZlKG4scil7dmFyIG89W107cmV0dXJuIGNlKG4sZnVuY3Rpb24oZSx0KXtyJiYhcihlLHQsbil8fG8ucHVzaChlKX0pLG99ZnVuY3Rpb24gZGUoZSx0KXtpZihlKWZvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBtZShlLHQsbixyKXtmb3IodmFyIG89YihuKT9lWzBdOm4saT0wO2k8ZS5sZW5ndGg7aSsrKW89dC5jYWxsKHIsbyxlW2ldLGkpO3JldHVybiBvfWZ1bmN0aW9uIGdlKGUsdCxuKXtmb3IodmFyIHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaWYodC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIHBlKGUpe3JldHVybiBlW2UubGVuZ3RoLTFdfXZhciBoZT1mdW5jdGlvbihuKXtmdW5jdGlvbiBlKCl7cmV0dXJuIG99ZnVuY3Rpb24gdChlKXtyZXR1cm4gZShuKX12YXIgcj1KKG4pLG89e2ZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0saXNTb21lOncsaXNOb25lOkQsZ2V0T3I6cixnZXRPclRodW5rOnIsZ2V0T3JEaWU6cixnZXRPck51bGw6cixnZXRPclVuZGVmaW5lZDpyLG9yOmUsb3JUaHVuazplLG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gaGUoZShuKSl9LGVhY2g6ZnVuY3Rpb24oZSl7ZShuKX0sYmluZDp0LGV4aXN0czp0LGZvcmFsbDp0LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZShuKT9vOkV9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bbl19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuInNvbWUoIituKyIpIn19O3JldHVybiBvfSx2ZT17c29tZTpoZSxub25lOmMsZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9FOmhlKGUpfX0sYmU9QXJyYXkucHJvdG90eXBlLnNsaWNlLHllPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLENlPUFycmF5LnByb3RvdHlwZS5wdXNoLHhlPXkoQXJyYXkuZnJvbSk/QXJyYXkuZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4gYmUuY2FsbChlKX0sd2U9T2JqZWN0LmtleXMsU2U9T2JqZWN0Lmhhc093blByb3BlcnR5LE5lPWZ1bmN0aW9uKGUscil7dmFyIG89e307cmV0dXJuIG5lKGUsZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUsdCk7b1tuLmtdPW4udn0pLG99LEVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFNlLmNhbGwoZSx0KX0sa2U9QXJyYXkuaXNBcnJheSxfZT1mdW5jdGlvbigpe3JldHVybihfZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIEFlKGUsdCxuKXtpZihufHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIHIsbz0wLGk9dC5sZW5ndGg7bzxpO28rKykhciYmbyBpbiB0fHwoKHI9cnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwLG8pKVtvXT10W29dKTtyZXR1cm4gZS5jb25jYXQocnx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfWZ1bmN0aW9uIFJlKG4pe3ZhciByLG89ITE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiBvfHwobz0hMCxyPW4uYXBwbHkobnVsbCxlKSkscn19ZnVuY3Rpb24gRGUoZSx0KXt2YXIgbj1TdHJpbmcodCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gTShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlYXJjaChuKX0pfWZ1bmN0aW9uIFRlKGUsdCl7cmV0dXJuLTEhPT1lLmluZGV4T2YodCl9ZnVuY3Rpb24gT2UodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodCwiIil9fWZ1bmN0aW9uIEJlKGUpe3JldHVybiAwPGUubGVuZ3RofWZ1bmN0aW9uIFBlKGUpe3JldHVybiFCZShlKX1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIFRlKGUsdCl9fWZ1bmN0aW9uIEllKGUpe3JldHVybiB3aW5kb3cubWF0Y2hNZWRpYShlKS5tYXRjaGVzfWZ1bmN0aW9uIE1lKGUpe3JldHVybiBudWxsPT1lPyIiOigiIitlKS5yZXBsYWNlKHd0LCIiKX1mdW5jdGlvbiBGZShlLHQpe3JldHVybiB0PyEoImFycmF5IiE9PXR8fCFrZShlKSl8fHR5cGVvZiBlPT09dDp2b2lkIDAhPT1lfWZ1bmN0aW9uIFVlKGUsdCl7Zm9yKHZhciBuPVtdLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ucHVzaChlKSx0KGUpfSxvPXQoZSk7KG89by5iaW5kKHIpKS5pc1NvbWUoKTspO3JldHVybiBufWZ1bmN0aW9uIHplKGUsdCl7dmFyIG49ZS5kb207aWYoMSE9PW4ubm9kZVR5cGUpcmV0dXJuITE7dmFyIHI9bjtpZih2b2lkIDAhPT1yLm1hdGNoZXMpcmV0dXJuIHIubWF0Y2hlcyh0KTtpZih2b2lkIDAhPT1yLm1zTWF0Y2hlc1NlbGVjdG9yKXJldHVybiByLm1zTWF0Y2hlc1NlbGVjdG9yKHQpO2lmKHZvaWQgMCE9PXIud2Via2l0TWF0Y2hlc1NlbGVjdG9yKXJldHVybiByLndlYmtpdE1hdGNoZXNTZWxlY3Rvcih0KTtpZih2b2lkIDAhPT1yLm1vek1hdGNoZXNTZWxlY3RvcilyZXR1cm4gci5tb3pNYXRjaGVzU2VsZWN0b3IodCk7dGhyb3cgbmV3IEVycm9yKCJCcm93c2VyIGxhY2tzIG5hdGl2ZSBzZWxlY3RvcnMiKX1mdW5jdGlvbiBIZShlKXtyZXR1cm4gMSE9PWUubm9kZVR5cGUmJjkhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fDA9PT1lLmNoaWxkRWxlbWVudENvdW50fWZ1bmN0aW9uIGplKGUsdCl7cmV0dXJuIGUuZG9tPT09dC5kb219ZnVuY3Rpb24gVmUoZSx0KXtyZXR1cm4gZHQoKS5icm93c2VyLmlzSUUoKT8obj1lLmRvbSxyPXQuZG9tLG89Tm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlksMCE9KG4uY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikmbykpOihpPWUuZG9tKSE9PShhPXQuZG9tKSYmaS5jb250YWlucyhhKTt2YXIgbixyLG8saSxhfWZ1bmN0aW9uIHFlKCl7cmV0dXJuIFhlKDAsMCl9ZnVuY3Rpb24gJGUoZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbj09PWV9fXZhciBuPWUuY3VycmVudCxyPWUudmVyc2lvbjtyZXR1cm57Y3VycmVudDpuLHZlcnNpb246cixpc0VkZ2U6dCgiRWRnZSIpLGlzQ2hyb21lOnQoIkNocm9tZSIpLGlzSUU6dCgiSUUiKSxpc09wZXJhOnQoIk9wZXJhIiksaXNGaXJlZm94OnQobnQpLGlzU2FmYXJpOnQoIlNhZmFyaSIpfX1mdW5jdGlvbiBXZShlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuPT09ZX19dmFyIG49ZS5jdXJyZW50LHI9ZS52ZXJzaW9uO3JldHVybntjdXJyZW50Om4sdmVyc2lvbjpyLGlzV2luZG93czp0KGl0KSxpc2lPUzp0KCJpT1MiKSxpc0FuZHJvaWQ6dChhdCksaXNPU1g6dCgiT1NYIiksaXNMaW51eDp0KCJMaW51eCIpLGlzU29sYXJpczp0KHV0KSxpc0ZyZWVCU0Q6dChzdCksaXNDaHJvbWVPUzp0KGN0KX19ZnVuY3Rpb24gS2UoZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIik7cmV0dXJue2RvbTplfX12YXIgWGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm57bWFqb3I6ZSxtaW5vcjp0fX0sWWU9e251OlhlLGRldGVjdDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1TdHJpbmcodCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gMD09PWUubGVuZ3RoP3FlKCk6KHI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtpZihyLnRlc3QodCkpcmV0dXJuIHJ9fShlLG49bykpP1hlKGkoMSksaSgyKSk6e21ham9yOjAsbWlub3I6MH07ZnVuY3Rpb24gaShlKXtyZXR1cm4gTnVtYmVyKG4ucmVwbGFjZShyLCIkIitlKSl9fSx1bmtub3duOnFlfSxHZT1mdW5jdGlvbihlLHQpe3JldHVybiIiPT09KG49dCl8fGUubGVuZ3RoPj1uLmxlbmd0aCYmZS5zdWJzdHIoMCwwK24ubGVuZ3RoKT09PW47dmFyIG59LEplPU9lKC9eXHMrfFxzKyQvZyksUWU9T2UoL15ccysvZyksWmU9T2UoL1xzKyQvZyksZXQ9Ly4qP3ZlcnNpb25cL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qLyx0dD17YnJvd3NlcnM6Sihbe25hbWU6IkVkZ2UiLHZlcnNpb25SZWdleGVzOlsvLio/ZWRnZVwvID8oWzAtOV0rKVwuKFswLTldKykkL10sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBUZShlLCJlZGdlLyIpJiZUZShlLCJjaHJvbWUiKSYmVGUoZSwic2FmYXJpIikmJlRlKGUsImFwcGxld2Via2l0Iil9fSx7bmFtZToiQ2hyb21lIixicmFuZDoiQ2hyb21pdW0iLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXC8oWzAtOV0rKVwuKFswLTldKykuKi8sZXRdLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gVGUoZSwiY2hyb21lIikmJiFUZShlLCJjaHJvbWVmcmFtZSIpfX0se25hbWU6IklFIix2ZXJzaW9uUmVnZXhlczpbLy4qP21zaWVcID8oWzAtOV0rKVwuKFswLTldKykuKi8sLy4qP3J2OihbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBUZShlLCJtc2llIil8fFRlKGUsInRyaWRlbnQiKX19LHtuYW1lOiJPcGVyYSIsdmVyc2lvblJlZ2V4ZXM6W2V0LC8uKj9vcGVyYVwvKFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6TGUoIm9wZXJhIil9LHtuYW1lOiJGaXJlZm94Iix2ZXJzaW9uUmVnZXhlczpbLy4qP2ZpcmVmb3hcL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOkxlKCJmaXJlZm94Iil9LHtuYW1lOiJTYWZhcmkiLHZlcnNpb25SZWdleGVzOltldCwvLio/Y3B1IG9zIChbMC05XSspXyhbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuKFRlKGUsInNhZmFyaSIpfHxUZShlLCJtb2JpbGUvIikpJiZUZShlLCJhcHBsZXdlYmtpdCIpfX1dKSxvc2VzOkooW3tuYW1lOiJXaW5kb3dzIixzZWFyY2g6TGUoIndpbiIpLHZlcnNpb25SZWdleGVzOlsvLio/d2luZG93c1wgbnRcID8oWzAtOV0rKVwuKFswLTldKykuKi9dfSx7bmFtZToiaU9TIixzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFRlKGUsImlwaG9uZSIpfHxUZShlLCJpcGFkIil9LHZlcnNpb25SZWdleGVzOlsvLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLC8uKmNwdSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qLywvLipjcHUgaXBob25lIG9zIChbMC05XSspXyhbMC05XSspLiovXX0se25hbWU6IkFuZHJvaWQiLHNlYXJjaDpMZSgiYW5kcm9pZCIpLHZlcnNpb25SZWdleGVzOlsvLio/YW5kcm9pZFwgPyhbMC05XSspXC4oWzAtOV0rKS4qL119LHtuYW1lOiJPU1giLHNlYXJjaDpMZSgibWFjIG9zIHgiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP21hY1wgb3NcIHhcID8oWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOiJMaW51eCIsc2VhcmNoOkxlKCJsaW51eCIpLHZlcnNpb25SZWdleGVzOltdfSx7bmFtZToiU29sYXJpcyIsc2VhcmNoOkxlKCJzdW5vcyIpLHZlcnNpb25SZWdleGVzOltdfSx7bmFtZToiRnJlZUJTRCIsc2VhcmNoOkxlKCJmcmVlYnNkIiksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOiJDaHJvbWVPUyIsc2VhcmNoOkxlKCJjcm9zIiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj9jaHJvbWVcLyhbMC05XSspXC4oWzAtOV0rKS4qL119XSl9LG50PSJGaXJlZm94IixydD1mdW5jdGlvbigpe3JldHVybiAkZSh7Y3VycmVudDp2b2lkIDAsdmVyc2lvbjpZZS51bmtub3duKCl9KX0sb3Q9JGUsaXQ9KEooIkVkZ2UiKSxKKCJDaHJvbWUiKSxKKCJJRSIpLEooIk9wZXJhIiksSihudCksSigiU2FmYXJpIiksIldpbmRvd3MiKSxhdD0iQW5kcm9pZCIsdXQ9IlNvbGFyaXMiLHN0PSJGcmVlQlNEIixjdD0iQ2hyb21lT1MiLGx0PWZ1bmN0aW9uKCl7cmV0dXJuIFdlKHtjdXJyZW50OnZvaWQgMCx2ZXJzaW9uOlllLnVua25vd24oKX0pfSxmdD1XZSxkdD0oSihpdCksSigiaU9TIiksSihhdCksSigiTGludXgiKSxKKCJPU1giKSxKKHV0KSxKKHN0KSxKKGN0KSxSZShmdW5jdGlvbigpe3JldHVybiBlPW5hdmlnYXRvci51c2VyQWdlbnQsdD12ZS5mcm9tKG5hdmlnYXRvci51c2VyQWdlbnREYXRhKSxuPUllLHA9dHQuYnJvd3NlcnMoKSxoPXR0Lm9zZXMoKSx2PXQuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gcj1wLGVlKGUuYnJhbmRzLGZ1bmN0aW9uKHQpe3ZhciBuPXQuYnJhbmQudG9Mb3dlckNhc2UoKTtyZXR1cm4gTShyLGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBuPT09KG51bGw9PT0odD1lLmJyYW5kKXx8dm9pZCAwPT09dD92b2lkIDA6dC50b0xvd2VyQ2FzZSgpKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y3VycmVudDplLm5hbWUsdmVyc2lvbjpZZS5udShwYXJzZUludCh0LnZlcnNpb24sMTApLDApfX0pfSk7dmFyIHJ9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIERlKHAsbj1lKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9WWUuZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsbik7cmV0dXJue2N1cnJlbnQ6ZS5uYW1lLHZlcnNpb246dH19KTt2YXIgbn0pLmZvbGQocnQsb3QpLGI9RGUoaCxyPWUpLm1hcChmdW5jdGlvbihlKXt2YXIgdD1ZZS5kZXRlY3QoZS52ZXJzaW9uUmVnZXhlcyxyKTtyZXR1cm57Y3VycmVudDplLm5hbWUsdmVyc2lvbjp0fX0pLmZvbGQobHQsZnQpLHticm93c2VyOnYsb3M6YixkZXZpY2VUeXBlOihpPXYsYT1lLHU9bixzPShvPWIpLmlzaU9TKCkmJiEwPT09L2lwYWQvaS50ZXN0KGEpLGM9by5pc2lPUygpJiYhcyxmPShsPW8uaXNpT1MoKXx8by5pc0FuZHJvaWQoKSl8fHUoIihwb2ludGVyOmNvYXJzZSkiKSxkPXN8fCFjJiZsJiZ1KCIobWluLWRldmljZS13aWR0aDo3NjhweCkiKSxtPWN8fGwmJiFkLGc9aS5pc1NhZmFyaSgpJiZvLmlzaU9TKCkmJiExPT09L3NhZmFyaS9pLnRlc3QoYSkse2lzaVBhZDpKKHMpLGlzaVBob25lOkooYyksaXNUYWJsZXQ6SihkKSxpc1Bob25lOkoobSksaXNUb3VjaDpKKGYpLGlzQW5kcm9pZDpvLmlzQW5kcm9pZCxpc2lPUzpvLmlzaU9TLGlzV2ViVmlldzpKKGcpLGlzRGVza3RvcDpKKCFtJiYhZCYmIWcpfSl9O3ZhciBlLHQsbixyLG8saSxhLHUscyxjLGwsZixkLG0sZyxwLGgsdixifSkpLG10PW5hdmlnYXRvci51c2VyQWdlbnQsZ3Q9ZHQoKSxwdD1ndC5icm93c2VyLGh0PWd0Lm9zLHZ0PWd0LmRldmljZVR5cGUsYnQ9L1dlYktpdC8udGVzdChtdCkmJiFwdC5pc0VkZ2UoKSx5dD0iRm9ybURhdGEiaW4gd2luZG93JiYiRmlsZVJlYWRlciJpbiB3aW5kb3cmJiJVUkwiaW4gd2luZG93JiYhIVVSTC5jcmVhdGVPYmplY3RVUkwsQ3Q9LTEhPT1tdC5pbmRleE9mKCJXaW5kb3dzIFBob25lIikseHQ9e29wZXJhOnB0LmlzT3BlcmEoKSx3ZWJraXQ6YnQsaWU6ISghcHQuaXNJRSgpJiYhcHQuaXNFZGdlKCkpJiZwdC52ZXJzaW9uLm1ham9yLGdlY2tvOnB0LmlzRmlyZWZveCgpLG1hYzpodC5pc09TWCgpfHxodC5pc2lPUygpLGlPUzp2dC5pc2lQYWQoKXx8dnQuaXNpUGhvbmUoKSxhbmRyb2lkOmh0LmlzQW5kcm9pZCgpLGNvbnRlbnRFZGl0YWJsZTohMCx0cmFuc3BhcmVudFNyYzoiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3IixjYXJldEFmdGVyOiEwLHJhbmdlOndpbmRvdy5nZXRTZWxlY3Rpb24mJiJSYW5nZSJpbiB3aW5kb3csZG9jdW1lbnRNb2RlOnB0LmlzSUUoKT9kb2N1bWVudC5kb2N1bWVudE1vZGV8fDc6MTAsZmlsZUFwaTp5dCxjZUZhbHNlOiEwLGNhY2hlU3VmZml4Om51bGwsY29udGFpbmVyOm51bGwsZXhwZXJpbWVudGFsU2hhZG93RG9tOiExLGNhbkhhdmVDU1A6IXB0LmlzSUUoKSxkZXNrdG9wOnZ0LmlzRGVza3RvcCgpLHdpbmRvd3NQaG9uZTpDdCxicm93c2VyOntjdXJyZW50OnB0LmN1cnJlbnQsdmVyc2lvbjpwdC52ZXJzaW9uLGlzQ2hyb21lOnB0LmlzQ2hyb21lLGlzRWRnZTpwdC5pc0VkZ2UsaXNGaXJlZm94OnB0LmlzRmlyZWZveCxpc0lFOnB0LmlzSUUsaXNPcGVyYTpwdC5pc09wZXJhLGlzU2FmYXJpOnB0LmlzU2FmYXJpfSxvczp7Y3VycmVudDpodC5jdXJyZW50LHZlcnNpb246aHQudmVyc2lvbixpc0FuZHJvaWQ6aHQuaXNBbmRyb2lkLGlzQ2hyb21lT1M6aHQuaXNDaHJvbWVPUyxpc0ZyZWVCU0Q6aHQuaXNGcmVlQlNELGlzaU9TOmh0LmlzaU9TLGlzTGludXg6aHQuaXNMaW51eCxpc09TWDpodC5pc09TWCxpc1NvbGFyaXM6aHQuaXNTb2xhcmlzLGlzV2luZG93czpodC5pc1dpbmRvd3N9LGRldmljZVR5cGU6e2lzRGVza3RvcDp2dC5pc0Rlc2t0b3AsaXNpUGFkOnZ0LmlzaVBhZCxpc2lQaG9uZTp2dC5pc2lQaG9uZSxpc1Bob25lOnZ0LmlzUGhvbmUsaXNUYWJsZXQ6dnQuaXNUYWJsZXQsaXNUb3VjaDp2dC5pc1RvdWNoLGlzV2ViVmlldzp2dC5pc1dlYlZpZXd9fSx3dD0vXlxzKnxccyokL2csU3Q9ZnVuY3Rpb24oZSxuLHIsbyl7bz1vfHx0aGlzLGUmJmNlKGU9cj9lW3JdOmUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hMSE9PW4uY2FsbChvLGUsdCxyKSYmdm9pZCBTdChlLG4scixvKX0pfSxOdD17dHJpbTpNZSxpc0FycmF5OmtlLGlzOkZlLHRvQXJyYXk6ZnVuY3Rpb24oZSl7aWYoa2UoZSkpcmV0dXJuIGU7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspdFtuXT1lW25dO3JldHVybiB0fSxtYWtlTWFwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtmb3IodD10fHwiLCIsbj1ufHx7fSxyPShlPSJzdHJpbmciPT10eXBlb2YoZT1lfHxbXSk/ZS5zcGxpdCh0KTplKS5sZW5ndGg7ci0tOyluW2Vbcl1dPXt9O3JldHVybiBufSxlYWNoOmNlLG1hcDpsZSxncmVwOmZlLGluQXJyYXk6ZGUsaGFzT3duOkVlLGV4dGVuZDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG8saSxhPXRbcl07Zm9yKG8gaW4gYSkhRWUoYSxvKXx8dm9pZCAwIT09KGk9YVtvXSkmJihlW29dPWkpfXJldHVybiBlfSxjcmVhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPXRoaXMsdT0wLHM9KGU9L14oKHN0YXRpYykgKT8oW1x3Ll0rKSg6KFtcdy5dKykpPy8uZXhlYyhlKSlbM10ubWF0Y2goLyhefFwuKShcdyspJC9pKVsyXSxjPWEuY3JlYXRlTlMoZVszXS5yZXBsYWNlKC9cLlx3KyQvLCIiKSxuKTtpZighY1tzXSl7aWYoInN0YXRpYyI9PT1lWzJdKXJldHVybiBjW3NdPXQsdm9pZCh0aGlzLm9uQ3JlYXRlJiZ0aGlzLm9uQ3JlYXRlKGVbMl0sZVszXSxjW3NdKSk7dFtzXXx8KHRbc109ZnVuY3Rpb24oKXt9LHU9MSksY1tzXT10W3NdLGEuZXh0ZW5kKGNbc10ucHJvdG90eXBlLHQpLGVbNV0mJihyPWEucmVzb2x2ZShlWzVdKS5wcm90b3R5cGUsbz1lWzVdLm1hdGNoKC9cLihcdyspJC9pKVsxXSxpPWNbc10sY1tzXT11P2Z1bmN0aW9uKCl7cmV0dXJuIHJbb10uYXBwbHkodGhpcyxhcmd1bWVudHMpfTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD1yW29dLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjW3NdLnByb3RvdHlwZVtzXT1jW3NdLGEuZWFjaChyLGZ1bmN0aW9uKGUsdCl7Y1tzXS5wcm90b3R5cGVbdF09clt0XX0pLGEuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7clt0XT9jW3NdLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD1yW3RdLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTp0IT09cyYmKGNbc10ucHJvdG90eXBlW3RdPWUpfSkpLGEuZWFjaCh0LnN0YXRpYyxmdW5jdGlvbihlLHQpe2Nbc11bdF09ZX0pfX0sd2FsazpTdCxjcmVhdGVOUzpmdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHQ9dHx8d2luZG93LGU9ZS5zcGxpdCgiLiIpLG49MDtuPGUubGVuZ3RoO24rKyl0W3I9ZVtuXV18fCh0W3JdPXt9KSx0PXRbcl07cmV0dXJuIHR9LHJlc29sdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2Zvcih0PXR8fHdpbmRvdyxuPTAscj0oZT1lLnNwbGl0KCIuIikpLmxlbmd0aDtuPHImJih0PXRbZVtuXV0pO24rKyk7cmV0dXJuIHR9LGV4cGxvZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8RmUoZSwiYXJyYXkiKT9lOmxlKGUuc3BsaXQodHx8IiwiKSxNZSl9LF9hZGRDYWNoZVN1ZmZpeDpmdW5jdGlvbihlKXt2YXIgdD14dC5jYWNoZVN1ZmZpeDtyZXR1cm4gdCYmKGUrPSgtMT09PWUuaW5kZXhPZigiPyIpPyI/IjoiJiIpK3QpLGV9fSxFdD17ZnJvbUh0bWw6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKG4uaW5uZXJIVE1MPWUsIW4uaGFzQ2hpbGROb2RlcygpfHwxPG4uY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgY29uc29sZS5lcnJvcigiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZSIsZSksbmV3IEVycm9yKCJIVE1MIG11c3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiKTtyZXR1cm4gS2Uobi5jaGlsZE5vZGVzWzBdKX0sZnJvbVRhZzpmdW5jdGlvbihlLHQpe3ZhciBuPSh0fHxkb2N1bWVudCkuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gS2Uobil9LGZyb21UZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShlKTtyZXR1cm4gS2Uobil9LGZyb21Eb206S2UsZnJvbVBvaW50OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdmUuZnJvbShlLmRvbS5lbGVtZW50RnJvbVBvaW50KHQsbikpLm1hcChLZSl9fTtmdW5jdGlvbiBrdChlKXtyZXR1cm4gZS5kb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBfdChlKXtyZXR1cm4gZS5kb20ubm9kZVR5cGV9ZnVuY3Rpb24gQXQodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBfdChlKT09PXR9fWZ1bmN0aW9uIFJ0KGUpe3JldHVybiBFdC5mcm9tRG9tKGUuZG9tLm93bmVyRG9jdW1lbnQpfWZ1bmN0aW9uIER0KGUpe3JldHVybiBSbihlKT9lOlJ0KGUpfWZ1bmN0aW9uIFR0KGUpe3JldHVybiBFdC5mcm9tRG9tKER0KGUpLmRvbS5kZWZhdWx0Vmlldyl9ZnVuY3Rpb24gT3QoZSl7cmV0dXJuIHZlLmZyb20oZS5kb20ucGFyZW50Tm9kZSkubWFwKEV0LmZyb21Eb20pfWZ1bmN0aW9uIEJ0KGUpe3JldHVybiB2ZS5mcm9tKGUuZG9tLnByZXZpb3VzU2libGluZykubWFwKEV0LmZyb21Eb20pfWZ1bmN0aW9uIFB0KGUpe3JldHVybiB2ZS5mcm9tKGUuZG9tLm5leHRTaWJsaW5nKS5tYXAoRXQuZnJvbURvbSl9ZnVuY3Rpb24gTHQoZSl7cmV0dXJuIHEoVWUoZSxCdCkpfWZ1bmN0aW9uIEl0KGUpe3JldHVybiBVZShlLFB0KX1mdW5jdGlvbiBNdChlLHQpe3ZhciBuPWUuZG9tLmNoaWxkTm9kZXM7cmV0dXJuIHZlLmZyb20oblt0XSkubWFwKEV0LmZyb21Eb20pfWZ1bmN0aW9uIEZ0KGUpe3JldHVybiBNdChlLDApfWZ1bmN0aW9uIFV0KGUpe3JldHVybiBNdChlLGUuZG9tLmNoaWxkTm9kZXMubGVuZ3RoLTEpfWZ1bmN0aW9uIHp0KGUpe3JldHVybiBlLmRvbS5jaGlsZE5vZGVzLmxlbmd0aH1mdW5jdGlvbiBIdChlKXtyZXR1cm4gRG4oZSkmJlYoZS5kb20uaG9zdCl9ZnVuY3Rpb24ganQodCl7cmV0dXJuIEh0KHQpP3Q6ZnVuY3Rpb24oKXt2YXIgZT1EdCh0KS5kb20uaGVhZDtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcigiSGVhZCBpcyBub3QgYXZhaWxhYmxlIHlldCIpO3JldHVybiBFdC5mcm9tRG9tKGUpfSgpfWZ1bmN0aW9uIFZ0KGUpe3JldHVybiBFdC5mcm9tRG9tKGUuZG9tLmhvc3QpfWZ1bmN0aW9uIHF0KHQsbil7T3QodCkuZWFjaChmdW5jdGlvbihlKXtlLmRvbS5pbnNlcnRCZWZvcmUobi5kb20sdC5kb20pfSl9ZnVuY3Rpb24gJHQoZSx0KXtQdChlKS5mb2xkKGZ1bmN0aW9uKCl7T3QoZSkuZWFjaChmdW5jdGlvbihlKXtMbihlLHQpfSl9LGZ1bmN0aW9uKGUpe3F0KGUsdCl9KX1mdW5jdGlvbiBXdCh0LG4pe0Z0KHQpLmZvbGQoZnVuY3Rpb24oKXtMbih0LG4pfSxmdW5jdGlvbihlKXt0LmRvbS5pbnNlcnRCZWZvcmUobi5kb20sZS5kb20pfSl9ZnVuY3Rpb24gS3QodCxlKXtZKGUsZnVuY3Rpb24oZSl7TG4odCxlKX0pfWZ1bmN0aW9uIFh0KGUpe2UuZG9tLnRleHRDb250ZW50PSIiLFkoVG4oZSksZnVuY3Rpb24oZSl7SW4oZSl9KX1mdW5jdGlvbiBZdChlKXt2YXIgdCxuPVRuKGUpOzA8bi5sZW5ndGgmJih0PWUsWShuLGZ1bmN0aW9uKGUpe3F0KHQsZSl9KSksSW4oZSl9ZnVuY3Rpb24gR3QoZSx0KXtyZXR1cm4gdm9pZCAwIT09ZT9lOnZvaWQgMCE9PXQ/dDowfWZ1bmN0aW9uIEp0KGUpe3ZhciB0PXZvaWQgMCE9PWU/ZS5kb206ZG9jdW1lbnQsbj10LmJvZHkuc2Nyb2xsTGVmdHx8dC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxyPXQuYm9keS5zY3JvbGxUb3B8fHQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtyZXR1cm4gVW4obixyKX1mdW5jdGlvbiBRdChlLHQsbil7dmFyIHI9KHZvaWQgMCE9PW4/bi5kb206ZG9jdW1lbnQpLmRlZmF1bHRWaWV3O3ImJnIuc2Nyb2xsVG8oZSx0KX1mdW5jdGlvbiBadChlLHQpe2R0KCkuYnJvd3Nlci5pc1NhZmFyaSgpJiZ5KGUuZG9tLnNjcm9sbEludG9WaWV3SWZOZWVkZWQpP2UuZG9tLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoITEpOmUuZG9tLnNjcm9sbEludG9WaWV3KHQpfWZ1bmN0aW9uIGVuKGUsdCxuLHIpe3JldHVybnt4OmUseTp0LHdpZHRoOm4saGVpZ2h0OnIscmlnaHQ6ZStuLGJvdHRvbTp0K3J9fWZ1bmN0aW9uIHRuKGUpe3ZhciByPXZvaWQgMD09PWU/d2luZG93OmUsdD1yLmRvY3VtZW50LG89SnQoRXQuZnJvbURvbSh0KSksbj12b2lkIDA9PT1yP3dpbmRvdzpyO3JldHVybihkdCgpLmJyb3dzZXIuaXNGaXJlZm94KCk/dmUubm9uZSgpOnZlLmZyb20obi52aXN1YWxWaWV3cG9ydCkpLmZvbGQoZnVuY3Rpb24oKXt2YXIgZT1yLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0PWUuY2xpZW50V2lkdGgsbj1lLmNsaWVudEhlaWdodDtyZXR1cm4gZW4oby5sZWZ0LG8udG9wLHQsbil9LGZ1bmN0aW9uKGUpe3JldHVybiBlbihNYXRoLm1heChlLnBhZ2VMZWZ0LG8ubGVmdCksTWF0aC5tYXgoZS5wYWdlVG9wLG8udG9wKSxlLndpZHRoLGUuaGVpZ2h0KX0pfWZ1bmN0aW9uIG5uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJmUubm9kZVR5cGU9PT10fX1mdW5jdGlvbiBybihlKXtyZXR1cm4gZSYmIU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX1mdW5jdGlvbiBvbihlKXt2YXIgbj1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUmJmUubm9kZU5hbWUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gVChuLHQpfXJldHVybiExfX1mdW5jdGlvbiBhbihyLGUpe3ZhciBvPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpO3JldHVybiBmdW5jdGlvbihlKXtpZihIbihlKSlmb3IodmFyIHQ9MDt0PG8ubGVuZ3RoO3QrKyl7dmFyIG49ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKTtpZigobj9uLmdldFByb3BlcnR5VmFsdWUocik6bnVsbCk9PT1vW3RdKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1bih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEhuKGUpJiZlLmhhc0F0dHJpYnV0ZSh0KX19ZnVuY3Rpb24gc24oZSl7cmV0dXJuIEhuKGUpJiZlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKX1mdW5jdGlvbiBjbihlKXtyZXR1cm4gSG4oZSkmJiJUQUJMRSI9PT1lLnRhZ05hbWV9ZnVuY3Rpb24gbG4odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEhuKGUpKXtpZihlLmNvbnRlbnRFZGl0YWJsZT09PXQpcmV0dXJuITA7aWYoZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpPT09dClyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24gZm4oZSx0LG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1vKSxlLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gbihlLHQpfSl9ZnVuY3Rpb24gZG4oZSx0LG4pe3JldHVybiBlLmlzU29tZSgpJiZ0LmlzU29tZSgpP3ZlLnNvbWUobihlLmdldE9yRGllKCksdC5nZXRPckRpZSgpKSk6dmUubm9uZSgpfWZ1bmN0aW9uIG1uKGUpe3JldHVybiB2b2lkIDAhPT1lLnN0eWxlJiZ5KGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSl9ZnVuY3Rpb24gZ24oZSx0LG4pe2lmKCEoWChuKXx8dihuKXx8TihuKSkpdGhyb3cgY29uc29sZS5lcnJvcigiSW52YWxpZCBjYWxsIHRvIEF0dHJpYnV0ZS5zZXQuIEtleSAiLHQsIjo6IFZhbHVlICIsbiwiOjogRWxlbWVudCAiLGUpLG5ldyBFcnJvcigiQXR0cmlidXRlIHZhbHVlIHdhcyBub3Qgc2ltcGxlIik7ZS5zZXRBdHRyaWJ1dGUodCxuKyIiKX1mdW5jdGlvbiBwbihlLHQsbil7Z24oZS5kb20sdCxuKX1mdW5jdGlvbiBobihlLHQpe3ZhciBuPWUuZG9tO25lKHQsZnVuY3Rpb24oZSx0KXtnbihuLHQsZSl9KX1mdW5jdGlvbiB2bihlLHQpe3ZhciBuPWUuZG9tLmdldEF0dHJpYnV0ZSh0KTtyZXR1cm4gbnVsbD09PW4/dm9pZCAwOm59ZnVuY3Rpb24gYm4oZSx0KXtyZXR1cm4gdmUuZnJvbSh2bihlLHQpKX1mdW5jdGlvbiB5bihlLHQpe3ZhciBuPWUuZG9tO3JldHVybiBuJiZuLmhhc0F0dHJpYnV0ZSYmbi5oYXNBdHRyaWJ1dGUodCl9ZnVuY3Rpb24gQ24oZSx0KXtlLmRvbS5yZW1vdmVBdHRyaWJ1dGUodCl9ZnVuY3Rpb24geG4oZSx0KXt2YXIgbj1lLmRvbTtuZSh0LGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUsdCxuKXtpZighWChuKSl0aHJvdyBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGNhbGwgdG8gQ1NTLnNldC4gUHJvcGVydHkgIix0LCI6OiBWYWx1ZSAiLG4sIjo6IEVsZW1lbnQgIixlKSxuZXcgRXJyb3IoIkNTUyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nOiAiK24pO21uKGUpJiZlLnN0eWxlLnNldFByb3BlcnR5KHQsbil9KG4sdCxlKX0pfWZ1bmN0aW9uIHduKGUsdCl7dmFyIG49ZS5kb20scj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS5nZXRQcm9wZXJ0eVZhbHVlKHQpO3JldHVybiIiIT09cnx8TW4oZSk/cjpabihuLHQpfWZ1bmN0aW9uIFNuKGUsdCl7dmFyIG49ZS5kb20scj1abihuLHQpO3JldHVybiB2ZS5mcm9tKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pfWZ1bmN0aW9uIE5uKGUpe3ZhciB0PXt9LG49ZS5kb207aWYobW4obikpZm9yKHZhciByPTA7cjxuLnN0eWxlLmxlbmd0aDtyKyspe3ZhciBvPW4uc3R5bGUuaXRlbShyKTt0W29dPW4uc3R5bGVbb119cmV0dXJuIHR9ZnVuY3Rpb24gRW4oZSl7cmV0dXJuIE0oZSxfbil9ZnVuY3Rpb24ga24oZSx0KXtyZXR1cm4gZS5jaGlsZHJlbiYmVChlLmNoaWxkcmVuLHQpfSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93fHxGdW5jdGlvbigicmV0dXJuIHRoaXM7IikoKTt2YXIgX249QXQoMSksQW49QXQoMyksUm49QXQoOSksRG49QXQoMTEpLFRuPWZ1bmN0aW9uKGUpe3JldHVybiBBKGUuZG9tLmNoaWxkTm9kZXMsRXQuZnJvbURvbSl9LE9uPXkoRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93KSYmeShOb2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSksQm49SihPbiksUG49T24/ZnVuY3Rpb24oZSl7cmV0dXJuIEV0LmZyb21Eb20oZS5kb20uZ2V0Um9vdE5vZGUoKSl9OkR0LExuPWZ1bmN0aW9uKGUsdCl7ZS5kb20uYXBwZW5kQ2hpbGQodC5kb20pfSxJbj1mdW5jdGlvbihlKXt2YXIgdD1lLmRvbTtudWxsIT09dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LE1uPWZ1bmN0aW9uKGUpe3ZhciB0PUFuKGUpP2UuZG9tLnBhcmVudE5vZGU6ZS5kb207aWYobnVsbD09dHx8bnVsbD09PXQub3duZXJEb2N1bWVudClyZXR1cm4hMTt2YXIgbj10Lm93bmVyRG9jdW1lbnQscj1FdC5mcm9tRG9tKHQpLG89UG4ocik7cmV0dXJuKEh0KG8pP3ZlLnNvbWUobyk6dmUubm9uZSgpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG4uYm9keS5jb250YWlucyh0KX0sYShNbixWdCkpfSxGbj1mdW5jdGlvbihuLHIpe3JldHVybntsZWZ0Om4sdG9wOnIsdHJhbnNsYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEZuKG4rZSxyK3QpfX19LFVuPUZuLHpuPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5kb20scj1uLm93bmVyRG9jdW1lbnQuYm9keTtyZXR1cm4gcj09PW4/VW4oci5vZmZzZXRMZWZ0LHIub2Zmc2V0VG9wKTpNbihlKT8odD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFVuKHQubGVmdCx0LnRvcCkpOlVuKDAsMCl9LEhuPW5uKDEpLGpuPW9uKFsidGV4dGFyZWEiLCJpbnB1dCJdKSxWbj1ubigzKSxxbj1ubig4KSwkbj1ubig5KSxXbj1ubigxMSksS249b24oWyJiciJdKSxYbj1vbihbImltZyJdKSxZbj1sbigidHJ1ZSIpLEduPWxuKCJmYWxzZSIpLEpuPW9uKFsidGQiLCJ0aCJdKSxRbj1vbihbInZpZGVvIiwiYXVkaW8iLCJvYmplY3QiLCJlbWJlZCJdKSxabj1mdW5jdGlvbihlLHQpe3JldHVybiBtbihlKT9lLnN0eWxlLmdldFByb3BlcnR5VmFsdWUodCk6IiJ9LGVyPWR0KCkuYnJvd3Nlcix0cj17fSxucj17ZXhwb3J0czp0cn07ZnVuY3Rpb24gcnIoZSl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGV9LDApfSFmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbigpe3ZhciBlLHQsbixyPXtleHBvcnRzOnt9fTtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGkoZSl7aWYoIm9iamVjdCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7dGhpcy5fc3RhdGU9MCx0aGlzLl9oYW5kbGVkPSExLHRoaXMuX3ZhbHVlPXZvaWQgMCx0aGlzLl9kZWZlcnJlZHM9W10sZihlLHRoaXMpfWZ1bmN0aW9uIGEobixyKXtmb3IoOzM9PT1uLl9zdGF0ZTspbj1uLl92YWx1ZTswIT09bi5fc3RhdGU/KG4uX2hhbmRsZWQ9ITAsaS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKXt2YXIgZSx0PTE9PT1uLl9zdGF0ZT9yLm9uRnVsZmlsbGVkOnIub25SZWplY3RlZDtpZihudWxsIT09dCl7dHJ5e2U9dChuLl92YWx1ZSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcyhyLnByb21pc2UsZSl9dShyLnByb21pc2UsZSl9ZWxzZSgxPT09bi5fc3RhdGU/dTpzKShyLnByb21pc2Usbi5fdmFsdWUpfSkpOm4uX2RlZmVycmVkcy5wdXNoKHIpfWZ1bmN0aW9uIHUodCxlKXt0cnl7aWYoZT09PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZihlIGluc3RhbmNlb2YgaSlyZXR1cm4gdC5fc3RhdGU9Myx0Ll92YWx1ZT1lLHZvaWQgYyh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gdm9pZCBmKChyPW4sbz1lLGZ1bmN0aW9uKCl7ci5hcHBseShvLGFyZ3VtZW50cyl9KSx0KX10Ll9zdGF0ZT0xLHQuX3ZhbHVlPWUsYyh0KX1jYXRjaChlKXtzKHQsZSl9dmFyIHIsb31mdW5jdGlvbiBzKGUsdCl7ZS5fc3RhdGU9MixlLl92YWx1ZT10LGMoZSl9ZnVuY3Rpb24gYyhlKXsyPT09ZS5fc3RhdGUmJjA9PT1lLl9kZWZlcnJlZHMubGVuZ3RoJiZpLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe2UuX2hhbmRsZWR8fGkuX3VuaGFuZGxlZFJlamVjdGlvbkZuKGUuX3ZhbHVlKX0pO2Zvcih2YXIgdD0wLG49ZS5fZGVmZXJyZWRzLmxlbmd0aDt0PG47dCsrKWEoZSxlLl9kZWZlcnJlZHNbdF0pO2UuX2RlZmVycmVkcz1udWxsfWZ1bmN0aW9uIGwoZSx0LG4pe3RoaXMub25GdWxmaWxsZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpudWxsLHRoaXMub25SZWplY3RlZD0iZnVuY3Rpb24iPT10eXBlb2YgdD90Om51bGwsdGhpcy5wcm9taXNlPW59ZnVuY3Rpb24gZihlLHQpe3ZhciBuPSExO3RyeXtlKGZ1bmN0aW9uKGUpe258fChuPSEwLHUodCxlKSl9LGZ1bmN0aW9uKGUpe258fChuPSEwLHModCxlKSl9KX1jYXRjaChlKXtpZihuKXJldHVybjtuPSEwLHModCxlKX19ZT1yLHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSxuPXNldFRpbWVvdXQsaS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxpLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHRoaXMuY29uc3RydWN0b3Iobyk7cmV0dXJuIGEodGhpcyxuZXcgbChlLHQsbikpLG59LGkuYWxsPWZ1bmN0aW9uKGUpe3ZhciB1PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpO3JldHVybiBuZXcgaShmdW5jdGlvbihvLGkpe2lmKDA9PT11Lmxlbmd0aClyZXR1cm4gbyhbXSk7Zm9yKHZhciBhPXUubGVuZ3RoLGU9MDtlPHUubGVuZ3RoO2UrKykhZnVuY3Rpb24gdChuLGUpe3RyeXtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciByPWUudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgcilyZXR1cm4gci5jYWxsKGUsZnVuY3Rpb24oZSl7dChuLGUpfSxpKSwwfXVbbl09ZSwwPT0tLWEmJm8odSl9Y2F0Y2goZSl7aShlKX19KGUsdVtlXSl9KX0saS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT1pP3Q6bmV3IGkoZnVuY3Rpb24oZSl7ZSh0KX0pfSxpLnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSx0KXt0KG4pfSl9LGkucmFjZT1mdW5jdGlvbihvKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPW8ubGVuZ3RoO248cjtuKyspb1tuXS50aGVuKGUsdCl9KX0saS5faW1tZWRpYXRlRm49ImZ1bmN0aW9uIj09dHlwZW9mIHNldEltbWVkaWF0ZT9mdW5jdGlvbihlKXtzZXRJbW1lZGlhdGUoZSl9OmZ1bmN0aW9uKGUpe24oZSwwKX0saS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlJiZjb25zb2xlLndhcm4oIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjoiLGUpfSxpLl9zZXRJbW1lZGlhdGVGbj1mdW5jdGlvbihlKXtpLl9pbW1lZGlhdGVGbj1lfSxpLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbihlKXtpLl91bmhhbmRsZWRSZWplY3Rpb25Gbj1lfSxlLmV4cG9ydHM/ZS5leHBvcnRzPWk6dC5Qcm9taXNlfHwodC5Qcm9taXNlPWkpO3ZhciBkPXIuZXhwb3J0cztyZXR1cm57Ym9sdEV4cG9ydDooInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OkZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpKS5Qcm9taXNlfHxkfX07Im9iamVjdCI9PXR5cGVvZiB0ciYmdm9pZCAwIT09bnI/bnIuZXhwb3J0cz10KCk6KGU9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuRXBob3hDb250YWN0V3JhcHBlcj10KCl9KCk7ZnVuY3Rpb24gb3IoZSl7cmV0dXJuIGNyKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhcihlKX0pfWZ1bmN0aW9uIGlyKGEpe2lmKCFTKGEpKXRocm93IG5ldyBFcnJvcigiY2FzZXMgbXVzdCBiZSBhbiBhcnJheSIpO2lmKDA9PT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIGNhc2UiKTt2YXIgdT1bXSxuPXt9O3JldHVybiBZKGEsZnVuY3Rpb24oZSxyKXt2YXIgdD13ZShlKTtpZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJvbmUgYW5kIG9ubHkgb25lIG5hbWUgcGVyIGNhc2UiKTt2YXIgbz10WzBdLGk9ZVtvXTtpZih2b2lkIDAhPT1uW29dKXRocm93IG5ldyBFcnJvcigiZHVwbGljYXRlIGtleSBkZXRlY3RlZDoiK28pO2lmKCJjYXRhIj09PW8pdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgaGF2ZSBhIGNhc2UgbmFtZWQgY2F0YSAoc29ycnkpIik7aWYoIVMoaSkpdGhyb3cgbmV3IEVycm9yKCJjYXNlIGFyZ3VtZW50cyBtdXN0IGJlIGFuIGFycmF5Iik7dS5wdXNoKG8pLG5bb109ZnVuY3Rpb24oKXtmb3IodmFyIG49W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspbltlXT1hcmd1bWVudHNbZV07dmFyIHQ9bi5sZW5ndGg7aWYodCE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBjYXNlICIrbysiLiBFeHBlY3RlZCAiK2kubGVuZ3RoKyIgKCIraSsiKSwgZ290ICIrdCk7cmV0dXJue2ZvbGQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07aWYoZS5sZW5ndGghPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gZm9sZC4gRXhwZWN0ZWQgIithLmxlbmd0aCsiLCBnb3QgIitlLmxlbmd0aCk7cmV0dXJuIGVbcl0uYXBwbHkobnVsbCxuKX0sbWF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQ9d2UoZSk7aWYodS5sZW5ndGghPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gbWF0Y2guIEV4cGVjdGVkOiAiK3Uuam9pbigiLCIpKyJcbkFjdHVhbDogIit0LmpvaW4oIiwiKSk7aWYoIWoodSxmdW5jdGlvbihlKXtyZXR1cm4gVCh0LGUpfSkpdGhyb3cgbmV3IEVycm9yKCJOb3QgYWxsIGJyYW5jaGVzIHdlcmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgbWF0Y2guIFNwZWNpZmllZDogIit0LmpvaW4oIiwgIikrIlxuUmVxdWlyZWQ6ICIrdS5qb2luKCIsICIpKTtyZXR1cm4gZVtvXS5hcHBseShudWxsLG4pfSxsb2c6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSx7Y29uc3RydWN0b3JzOnUsY29uc3RydWN0b3I6byxwYXJhbXM6bn0pfX19fSksbn12YXIgYXI9bnIuZXhwb3J0cy5ib2x0RXhwb3J0LHVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSl7bygpP2koZSk6dC5wdXNoKGUpfXZhciBuPXZlLm5vbmUoKSx0PVtdLG89ZnVuY3Rpb24oKXtyZXR1cm4gbi5pc1NvbWUoKX0saT1mdW5jdGlvbih0KXtuLmVhY2goZnVuY3Rpb24oZSl7c2V0VGltZW91dChmdW5jdGlvbigpe3QoZSl9LDApfSl9O3JldHVybiBlKGZ1bmN0aW9uKGUpe28oKXx8KG49dmUuc29tZShlKSxZKHQsaSksdD1bXSl9KSx7Z2V0OnIsbWFwOmZ1bmN0aW9uKG4pe3JldHVybiB1cihmdW5jdGlvbih0KXtyKGZ1bmN0aW9uKGUpe3QobihlKSl9KX0pfSxpc1JlYWR5Om99fSxzcj17bnU6dXIscHVyZTpmdW5jdGlvbih0KXtyZXR1cm4gdXIoZnVuY3Rpb24oZSl7ZSh0KX0pfX0sY3I9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShlKXtuKCkudGhlbihlLHJyKX1yZXR1cm57bWFwOmZ1bmN0aW9uKGUpe3JldHVybiBjcihmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihlKX0pfSxiaW5kOmZ1bmN0aW9uKHQpe3JldHVybiBjcihmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdChlKS50b1Byb21pc2UoKX0pfSl9LGFub25CaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBjcihmdW5jdGlvbigpe3JldHVybiBuKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLnRvUHJvbWlzZSgpfSl9KX0sdG9MYXp5OmZ1bmN0aW9uKCl7cmV0dXJuIHNyLm51KGUpfSx0b0NhY2hlZDpmdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIGNyKGZ1bmN0aW9uKCl7cmV0dXJuIGU9bnVsbD09PWU/bigpOmV9KX0sdG9Qcm9taXNlOm4sZ2V0OmV9fSxscj1mdW5jdGlvbihuKXtyZXR1cm57aXNWYWx1ZTp3LGlzRXJyb3I6RCxnZXRPcjpKKG4pLGdldE9yVGh1bms6SihuKSxnZXRPckRpZTpKKG4pLG9yOmZ1bmN0aW9uKGUpe3JldHVybiBscihuKX0sb3JUaHVuazpmdW5jdGlvbihlKXtyZXR1cm4gbHIobil9LGZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBscihlKG4pKX0sbWFwRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGxyKG4pfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LGV4aXN0czpmdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sZm9yYWxsOmZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSx0b09wdGlvbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHZlLnNvbWUobil9fX0sZnI9ZnVuY3Rpb24obil7cmV0dXJue2lzVmFsdWU6RCxpc0Vycm9yOncsZ2V0T3I6dSxnZXRPclRodW5rOmZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGdldE9yRGllOmZ1bmN0aW9uKCl7cmV0dXJuIGU9U3RyaW5nKG4pLGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGUpfSgpO3ZhciBlfSxvcjp1LG9yVGh1bms6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKG4pfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGZyKG4pfSxtYXBFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnIoZShuKSl9LGVhY2g6dGUsYmluZDpmdW5jdGlvbihlKXtyZXR1cm4gZnIobil9LGV4aXN0czpELGZvcmFsbDp3LHRvT3B0aW9uYWw6dmUubm9uZX19LGRyPXt2YWx1ZTpscixlcnJvcjpmcixmcm9tT3B0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbigpe3JldHVybiBmcih0KX0sbHIpfX07ZnVuY3Rpb24gbXIoZSl7cmV0dXJuIGUuZm9sZCh1LHUpfWZ1bmN0aW9uIGdyKGUsdCxuLHIsbyl7cmV0dXJuIGUobixyKT92ZS5zb21lKG4pOnkobykmJm8obik/dmUubm9uZSgpOnQobixyLG8pfWZ1bmN0aW9uIHByKGUsdCxuKXtmb3IodmFyIHI9ZS5kb20sbz15KG4pP246RDtyLnBhcmVudE5vZGU7KXt2YXIgcj1yLnBhcmVudE5vZGUsaT1FdC5mcm9tRG9tKHIpO2lmKHQoaSkpcmV0dXJuIHZlLnNvbWUoaSk7aWYobyhpKSlicmVha31yZXR1cm4gdmUubm9uZSgpfWZ1bmN0aW9uIGhyKGUsdCxuKXtyZXR1cm4gZ3IoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChlKX0scHIsZSx0LG4pfWZ1bmN0aW9uIHZyKGUsdCxuKXtyZXR1cm4gcHIoZSxmdW5jdGlvbihlKXtyZXR1cm4gemUoZSx0KX0sbil9ZnVuY3Rpb24gYnIoZSx0KXtyZXR1cm4gbj10LEhlKHI9dm9pZCAwPT09ZT9kb2N1bWVudDplLmRvbSk/dmUubm9uZSgpOnZlLmZyb20oci5xdWVyeVNlbGVjdG9yKG4pKS5tYXAoRXQuZnJvbURvbSk7dmFyIG4scn1mdW5jdGlvbiB5cihlLHQsbil7cmV0dXJuIGdyKHplLHZyLGUsdCxuKX1mdW5jdGlvbiBDcihlLHQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgdCYmKHQ9MCksc2V0VGltZW91dChlLHQpfWZ1bmN0aW9uIHhyKGUsdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0JiYodD0xKSxzZXRJbnRlcnZhbChlLHQpfWZ1bmN0aW9uIHdyKG4scil7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtjbGVhclRpbWVvdXQobyksbz1DcihmdW5jdGlvbigpe24uYXBwbHkodGhpcyxlKX0scil9dmFyIG87cmV0dXJuIGUuc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChvKX0sZX1mdW5jdGlvbiBTcihtLGcpe2Z1bmN0aW9uIG4oZSx0LG4pe3ZhciByLG89TnQuX2FkZENhY2hlU3VmZml4KGUpLGk9dWUoaCxvKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJue2lkOiJtY2UtdSIrcCsrLHBhc3NlZDpbXSxmYWlsZWQ6W10sY291bnQ6MH19KTtmdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspZVtuXSgpO2kuc3RhdHVzPXQsaS5wYXNzZWQ9W10saS5mYWlsZWQ9W10sciYmKHIub25sb2FkPW51bGwsci5vbmVycm9yPW51bGwscj1udWxsKX1mdW5jdGlvbiB1KCl7cmV0dXJuIGEoaS5wYXNzZWQsMiksMH1mdW5jdGlvbiBzKCl7cmV0dXJuIGEoaS5mYWlsZWQsMyl9KGhbb109aSkuY291bnQrKzt2YXIgYyxsLGYsZD1mdW5jdGlvbigpe3ZhciBlPWQ7IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW0uc3R5bGVTaGVldHMsdD1lLmxlbmd0aDt0LS07KXt2YXIgbj1lW3RdLm93bmVyTm9kZTtpZihuJiZuLmlkPT09ci5pZClyZXR1cm4gdSgpLDF9fSgpJiYoRGF0ZS5ub3coKS1sPHk/QXIuc2V0VGltZW91dChlKTpzKCkpfTt0JiZpLnBhc3NlZC5wdXNoKHQpLG4mJmkuZmFpbGVkLnB1c2gobiksMSE9PWkuc3RhdHVzJiYoMiE9PWkuc3RhdHVzPzMhPT1pLnN0YXR1cz8oaS5zdGF0dXM9MSxobihjPUV0LmZyb21UYWcoImxpbmsiLGIuZG9tKSx7cmVsOiJzdHlsZXNoZWV0Iix0eXBlOiJ0ZXh0L2NzcyIsaWQ6aS5pZH0pLGw9RGF0ZS5ub3coKSxnLmNvbnRlbnRDc3NDb3JzJiZwbihjLCJjcm9zc09yaWdpbiIsImFub255bW91cyIpLGcucmVmZXJyZXJQb2xpY3kmJnBuKGMsInJlZmVycmVycG9saWN5IixnLnJlZmVycmVyUG9saWN5KSwocj1jLmRvbSkub25sb2FkPWQsci5vbmVycm9yPXMsZj1jLExuKGp0KHYpLGYpLHBuKGMsImhyZWYiLG8pKTpzKCk6dSgpKX1mdW5jdGlvbiBvKHQpe3JldHVybiBvcihmdW5jdGlvbihlKXtuKHQsaShlLEooZHIudmFsdWUodCkpKSxpKGUsSihkci5lcnJvcih0KSkpKX0pfWZ1bmN0aW9uIHQoZSl7dmFyIG49TnQuX2FkZENhY2hlU3VmZml4KGUpO3VlKGgsbikuZWFjaChmdW5jdGlvbihlKXt2YXIgdDswPT0tLWUuY291bnQmJihkZWxldGUgaFtuXSx0PWUuaWQsYnIoanQodiksIiMiK3QpLmVhY2goSW4pKX0pfXZvaWQgMD09PWcmJihnPXt9KTt2YXIgcD0wLGg9e30sdj1FdC5mcm9tRG9tKG0pLGI9RHQodikseT1nLm1heExvYWRUaW1lfHw1ZTM7cmV0dXJue2xvYWQ6bixsb2FkQWxsOmZ1bmN0aW9uKGUsbixyKXt2YXIgYSx0PUEoZSxvKTthPXQsb3IoZnVuY3Rpb24ocil7dmFyIG89W10saT0wOzA9PT1hLmxlbmd0aD9yKFtdKTpZKGEsZnVuY3Rpb24oZSx0KXt2YXIgbjtlLmdldCgobj10LGZ1bmN0aW9uKGUpe29bbl09ZSwrK2k+PWEubGVuZ3RoJiZyKG8pfSkpfSl9KS5nZXQoZnVuY3Rpb24oZSl7dmFyIHQ9QihlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVmFsdWUoKX0pOzA8dC5mYWlsLmxlbmd0aD9yKHQuZmFpbC5tYXAobXIpKTpuKHQucGFzcy5tYXAobXIpKX0pfSx1bmxvYWQ6dCx1bmxvYWRBbGw6ZnVuY3Rpb24oZSl7WShlLGZ1bmN0aW9uKGUpe3QoZSl9KX0sX3NldFJlZmVycmVyUG9saWN5OmZ1bmN0aW9uKGUpe2cucmVmZXJyZXJQb2xpY3k9ZX19fWlyKFt7Ym90aEVycm9yczpbImVycm9yMSIsImVycm9yMiJdfSx7Zmlyc3RFcnJvcjpbImVycm9yMSIsInZhbHVlMiJdfSx7c2Vjb25kRXJyb3I6WyJ2YWx1ZTEiLCJlcnJvcjIiXX0se2JvdGhWYWx1ZXM6WyJ2YWx1ZTEiLCJ2YWx1ZTIiXX1dKTt2YXIgTnIsRXIsa3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTShlLmRvbS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe3JldHVybiB0KEV0LmZyb21Eb20oZSkpfSkubWFwKEV0LmZyb21Eb20pfSxfcj13aW5kb3cuUHJvbWlzZXx8YXIsQXI9e3JlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbihlLHQpe05yP05yLnRoZW4oZSk6TnI9bmV3IF9yKGZ1bmN0aW9uKGUpeyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLHI9WyJtcyIsIm1veiIsIndlYmtpdCJdLG89MDtvPHIubGVuZ3RoJiYhbjtvKyspbj13aW5kb3dbcltvXSsiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl07KG49bnx8ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZSwwKX0pKGUsdCl9KShlLHQ9dHx8ZG9jdW1lbnQuYm9keSl9KS50aGVuKGUpfSxzZXRUaW1lb3V0OkNyLHNldEludGVydmFsOnhyLHNldEVkaXRvclRpbWVvdXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBDcihmdW5jdGlvbigpe2UucmVtb3ZlZHx8dCgpfSxuKX0sc2V0RWRpdG9ySW50ZXJ2YWw6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXhyKGZ1bmN0aW9uKCl7ZS5yZW1vdmVkP2NsZWFySW50ZXJ2YWwocik6dCgpfSxuKTtyZXR1cm4gcn0sZGVib3VuY2U6d3IsdGhyb3R0bGU6d3IsY2xlYXJJbnRlcnZhbDpmdW5jdGlvbihlKXtyZXR1cm4gY2xlYXJJbnRlcnZhbChlKX0sY2xlYXJUaW1lb3V0OmZ1bmN0aW9uKGUpe3JldHVybiBjbGVhclRpbWVvdXQoZSl9fSxScj0oRXI9bmV3IFdlYWtNYXAse2ZvckVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1QbihlKS5kb207cmV0dXJuIHZlLmZyb20oRXIuZ2V0KG4pKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9U3Iobix0KTtyZXR1cm4gRXIuc2V0KG4sZSksZX0pfX0pLERyPShUci5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGV9LFRyLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5vZGU9dGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsImZpcnN0Q2hpbGQiLCJuZXh0U2libGluZyIsZSksdGhpcy5ub2RlfSxUci5wcm90b3R5cGUucHJldj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub2RlPXRoaXMuZmluZFNpYmxpbmcodGhpcy5ub2RlLCJsYXN0Q2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLGUpLHRoaXMubm9kZX0sVHIucHJvdG90eXBlLnByZXYyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5vZGU9dGhpcy5maW5kUHJldmlvdXNOb2RlKHRoaXMubm9kZSwibGFzdENoaWxkIiwicHJldmlvdXNTaWJsaW5nIixlKSx0aGlzLm5vZGV9LFRyLnByb3RvdHlwZS5maW5kU2libGluZz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpO2lmKGUpe2lmKCFyJiZlW3RdKXJldHVybiBlW3RdO2lmKGUhPT10aGlzLnJvb3ROb2RlKXtpZihvPWVbbl0pcmV0dXJuIG87Zm9yKGk9ZS5wYXJlbnROb2RlO2kmJmkhPT10aGlzLnJvb3ROb2RlO2k9aS5wYXJlbnROb2RlKWlmKG89aVtuXSlyZXR1cm4gb319fSxUci5wcm90b3R5cGUuZmluZFByZXZpb3VzTm9kZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGE7aWYoZSYmKG89ZVtuXSwhdGhpcy5yb290Tm9kZXx8byE9PXRoaXMucm9vdE5vZGUpKXtpZihvKXtpZighcilmb3IoYT1vW3RdO2E7YT1hW3RdKWlmKCFhW3RdKXJldHVybiBhO3JldHVybiBvfXJldHVybihpPWUucGFyZW50Tm9kZSkmJmkhPT10aGlzLnJvb3ROb2RlP2k6dm9pZCAwfX0sVHIpO2Z1bmN0aW9uIFRyKGUsdCl7dGhpcy5ub2RlPWUsdGhpcy5yb290Tm9kZT10LHRoaXMuY3VycmVudD10aGlzLmN1cnJlbnQuYmluZCh0aGlzKSx0aGlzLm5leHQ9dGhpcy5uZXh0LmJpbmQodGhpcyksdGhpcy5wcmV2PXRoaXMucHJldi5iaW5kKHRoaXMpLHRoaXMucHJldjI9dGhpcy5wcmV2Mi5iaW5kKHRoaXMpfWZ1bmN0aW9uIE9yKHQpe3ZhciBuO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbj1ufHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17fSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO25bU3RyaW5nKGkpXT10KGkscil9cmV0dXJuIG59KHQsdyksRWUobixrdChlKSl9fWZ1bmN0aW9uIEJyKGUpe3JldHVybiBfbihlKSYmIWdvKGUpfWZ1bmN0aW9uIFByKGUpe3JldHVybiBfbihlKSYmImJyIj09PWt0KGUpfWZ1bmN0aW9uIExyKGUpe3JldHVybiBfbyhlKSYmKGU9ZS5wYXJlbnROb2RlKSxrbyhlKSYmZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0Iil9ZnVuY3Rpb24gSXIoZSl7cmV0dXJuIF9vKGUpJiZObyhlLmRhdGEpfWZ1bmN0aW9uIE1yKGUpe3JldHVybiBMcihlKXx8SXIoZSl9ZnVuY3Rpb24gRnIoZSl7cmV0dXJuIGUuZmlyc3RDaGlsZCE9PWUubGFzdENoaWxkfHwhS24oZS5maXJzdENoaWxkKX1mdW5jdGlvbiBVcihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiEhVm4odCkmJih0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCkpPT09U298fGUuaXNBdFN0YXJ0KCkmJklyKHQucHJldmlvdXNTaWJsaW5nKSl9ZnVuY3Rpb24genIoZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4hIVZuKHQpJiYodC5kYXRhLmNoYXJBdChlLm9mZnNldCgpLTEpPT09U298fGUuaXNBdEVuZCgpJiZJcih0Lm5leHRTaWJsaW5nKSl9ZnVuY3Rpb24gSHIoZSl7cmV0dXJuIGUmJmUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpPyhzbihuPSh0PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJyIikpW3QubGVuZ3RoLTFdKSYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpLGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpLGUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLGUucmVtb3ZlQXR0cmlidXRlKCJfbW96X2Fic3BvcyIpLGUpOm51bGw7dmFyIHQsbn1mdW5jdGlvbiBqcihlKXtyZXR1cm4gTHIoZS5zdGFydENvbnRhaW5lcil9ZnVuY3Rpb24gVnIoZSl7cmV0dXJuIU1vKGUpJiYoQm8oZSk/IVBvKGUucGFyZW50Tm9kZSk6TG8oZSl8fE9vKGUpfHxJbyhlKXx8Rm8oZSkpfWZ1bmN0aW9uIHFyKGUsdCl7cmV0dXJuIFZyKGUpJiZmdW5jdGlvbihlLHQpe2ZvcihlPWUucGFyZW50Tm9kZTtlJiZlIT09dDtlPWUucGFyZW50Tm9kZSl7aWYoRm8oZSkpcmV0dXJuITE7aWYoRG8oZSkpcmV0dXJuITB9cmV0dXJuITB9KGUsdCl9ZnVuY3Rpb24gJHIoZSl7cmV0dXJuIFVvLnRlc3QoZSl9ZnVuY3Rpb24gV3IoZSx0KXtyZXR1cm4gVnIoZSkmJiExPT09KGE9dCxWbihpPWUpJiYkcihpLmRhdGEpJiYhMT09PShuPWkscj1FdC5mcm9tRG9tKGEpLHZyKEV0LmZyb21Eb20obiksInByZSxjb2RlIixSKGplLHIpKS5pc1NvbWUoKSkpfHxIbihvPWUpJiYiQSI9PT1vLm5vZGVOYW1lJiYhby5oYXNBdHRyaWJ1dGUoImhyZWYiKSYmKG8uaGFzQXR0cmlidXRlKCJuYW1lIil8fG8uaGFzQXR0cmlidXRlKCJpZCIpKXx8em8oZSk7dmFyIG4scixvLGksYX1mdW5jdGlvbiBLcihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPTA7aWYoV3IoZSxlKSlyZXR1cm4hMTt2YXIgcj1lLmZpcnN0Q2hpbGQ7aWYoIXIpcmV0dXJuITA7dmFyIG89bmV3IERyKHIsZSk7ZG97aWYodCl7aWYoam8ocikpe3I9by5uZXh0KCEwKTtjb250aW51ZX1pZihIbyhyKSl7cj1vLm5leHQoKTtjb250aW51ZX19aWYoS24ocikpbisrLHI9by5uZXh0KCk7ZWxzZXtpZihXcihyLGUpKXJldHVybiExO3I9by5uZXh0KCl9fXdoaWxlKHIpO3JldHVybiBuPD0xfShlLmRvbSx0PXZvaWQgMD09PXR8fHQpfWZ1bmN0aW9uIFhyKGUsdCl7cmV0dXJuIFYoZSkmJihXcihlLHQpfHxCcihFdC5mcm9tRG9tKGUpKSl9ZnVuY3Rpb24gWXIoZSl7cmV0dXJuInNwYW4iPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYiYm9va21hcmsiPT09ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXR5cGUiKX1mdW5jdGlvbiBHcihlLHQpe3ZhciBuLHIsbyxpPXt9O2lmKGUpe2ZvcihlPWUuc3BsaXQoIiwiKSx0PXR8fDEwLG49MDtuPGUubGVuZ3RoO24rPTIpcj1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVbbl0sdCkpLEdvW3JdfHwobz0iJiIrZVtuKzFdKyI7IixpW3JdPW8saVtvXT1yKTtyZXR1cm4gaX19ZnVuY3Rpb24gSnIoZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/JG86V28sZnVuY3Rpb24oZSl7cmV0dXJuIEdvW2VdfHxlfSl9ZnVuY3Rpb24gUXIoZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/JG86V28sZnVuY3Rpb24oZSl7cmV0dXJuIDE8ZS5sZW5ndGg/IiYjIisoMTAyNCooZS5jaGFyQ29kZUF0KDApLTU1Mjk2KSsoZS5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrIjsiOkdvW2VdfHwiJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KX1mdW5jdGlvbiBacihlLHQsbil7cmV0dXJuIG49bnx8UW8sZS5yZXBsYWNlKHQ/JG86V28sZnVuY3Rpb24oZSl7cmV0dXJuIEdvW2VdfHxuW2VdfHxlfSl9ZnVuY3Rpb24gZW8oZSx0KXtyZXR1cm4oZT1OdC50cmltKGUpKT9lLnNwbGl0KHR8fCIgIik6W119ZnVuY3Rpb24gdG8oZSx0KXt2YXIgbj1uaShlLCIgIixuaShlLnRvVXBwZXJDYXNlKCksIiAiKSk7cmV0dXJuIG9pKG4sdCl9ZnVuY3Rpb24gbm8oZSl7cmV0dXJuIHRvKCJ0ZCB0aCBsaSBkdCBkZCBmaWdjYXB0aW9uIGNhcHRpb24gZGV0YWlscyBzdW1tYXJ5IixlLmdldFRleHRCbG9ja0VsZW1lbnRzKCkpfWZ1bmN0aW9uIHJvKGUsbil7dmFyIHI7cmV0dXJuIGUmJihyPXt9LHJpKGU9InN0cmluZyI9PXR5cGVvZiBlP3siKiI6ZX06ZSxmdW5jdGlvbihlLHQpe3JbdF09clt0LnRvVXBwZXJDYXNlKCldPSgibWFwIj09PW4/bmk6aWkpKGUsL1ssIF0vKX0pKSxyfWZ1bmN0aW9uIG9vKGkpe2Z1bmN0aW9uIGUoZSx0LG4pe3ZhciByPWlbZV07cmV0dXJuIHI/cj1uaShyLC9bLCBdLyxuaShyLnRvVXBwZXJDYXNlKCksL1ssIF0vKSk6KHI9ZWlbZV0pfHwocj10byh0LG4pLGVpW2VdPXIpLHJ9dmFyIHQscyxuLHIsbyxhLHUsYyxTPXt9LGw9e30sTj1bXSxmPXt9LGQ9e30sbT0odD0oaT1pfHx7fSkuc2NoZW1hLGM9e30sZWlbdF18fChzPSJpZCBhY2Nlc3NrZXkgY2xhc3MgZGlyIGxhbmcgc3R5bGUgdGFiaW5kZXggdGl0bGUgcm9sZSIsbj0iYWRkcmVzcyBibG9ja3F1b3RlIGRpdiBkbCBmaWVsZHNldCBmb3JtIGgxIGgyIGgzIGg0IGg1IGg2IGhyIG1lbnUgb2wgcCBwcmUgdGFibGUgdWwiLHI9ImEgYWJiciBiIGJkbyBiciBidXR0b24gY2l0ZSBjb2RlIGRlbCBkZm4gZW0gZW1iZWQgaSBpZnJhbWUgaW1nIGlucHV0IGlucyBrYmQgbGFiZWwgbWFwIG5vc2NyaXB0IG9iamVjdCBxIHMgc2FtcCBzY3JpcHQgc2VsZWN0IHNtYWxsIHNwYW4gc3Ryb25nIHN1YiBzdXAgdGV4dGFyZWEgdSB2YXIgI3RleHQgI2NvbW1lbnQiLCJodG1sNCIhPT10JiYocys9IiBjb250ZW50ZWRpdGFibGUgY29udGV4dG1lbnUgZHJhZ2dhYmxlIGRyb3B6b25lIGhpZGRlbiBzcGVsbGNoZWNrIHRyYW5zbGF0ZSIsbis9IiBhcnRpY2xlIGFzaWRlIGRldGFpbHMgZGlhbG9nIGZpZ3VyZSBtYWluIGhlYWRlciBmb290ZXIgaGdyb3VwIHNlY3Rpb24gbmF2IixyKz0iIGF1ZGlvIGNhbnZhcyBjb21tYW5kIGRhdGFsaXN0IG1hcmsgbWV0ZXIgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3MgdGltZSB3YnIgdmlkZW8gcnVieSBiZGkga2V5Z2VuIiksImh0bWw1LXN0cmljdCIhPT10JiYocys9IiB4bWw6bGFuZyIscj1bcix1PSJhY3JvbnltIGFwcGxldCBiYXNlZm9udCBiaWcgZm9udCBzdHJpa2UgdHQiXS5qb2luKCIgIikscmkoZW8odSksZnVuY3Rpb24oZSl7ZyhlLCIiLHIpfSksbj1bbixhPSJjZW50ZXIgZGlyIGlzaW5kZXggbm9mcmFtZXMiXS5qb2luKCIgIiksbz1bbixyXS5qb2luKCIgIikscmkoZW8oYSksZnVuY3Rpb24oZSl7ZyhlLCIiLG8pfSkpLG89b3x8W24scl0uam9pbigiICIpLGcoImh0bWwiLCJtYW5pZmVzdCIsImhlYWQgYm9keSIpLGcoImhlYWQiLCIiLCJiYXNlIGNvbW1hbmQgbGluayBtZXRhIG5vc2NyaXB0IHNjcmlwdCBzdHlsZSB0aXRsZSIpLGcoInRpdGxlIGhyIG5vc2NyaXB0IGJyIiksZygiYmFzZSIsImhyZWYgdGFyZ2V0IiksZygibGluayIsImhyZWYgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUgc2l6ZXMgaHJlZmxhbmciKSxnKCJtZXRhIiwibmFtZSBodHRwLWVxdWl2IGNvbnRlbnQgY2hhcnNldCIpLGcoInN0eWxlIiwibWVkaWEgdHlwZSBzY29wZWQiKSxnKCJzY3JpcHQiLCJzcmMgYXN5bmMgZGVmZXIgdHlwZSBjaGFyc2V0IiksZygiYm9keSIsIm9uYWZ0ZXJwcmludCBvbmJlZm9yZXByaW50IG9uYmVmb3JldW5sb2FkIG9uYmx1ciBvbmVycm9yIG9uZm9jdXMgb25oYXNoY2hhbmdlIG9ubG9hZCBvbm1lc3NhZ2Ugb25vZmZsaW5lIG9ub25saW5lIG9ucGFnZWhpZGUgb25wYWdlc2hvdyBvbnBvcHN0YXRlIG9ucmVzaXplIG9uc2Nyb2xsIG9uc3RvcmFnZSBvbnVubG9hZCIsbyksZygiYWRkcmVzcyBkdCBkZCBkaXYgY2FwdGlvbiIsIiIsbyksZygiaDEgaDIgaDMgaDQgaDUgaDYgcHJlIHAgYWJiciBjb2RlIHZhciBzYW1wIGtiZCBzdWIgc3VwIGkgYiB1IGJkbyBzcGFuIGxlZ2VuZCBlbSBzdHJvbmcgc21hbGwgcyBjaXRlIGRmbiIsIiIsciksZygiYmxvY2txdW90ZSIsImNpdGUiLG8pLGcoIm9sIiwicmV2ZXJzZWQgc3RhcnQgdHlwZSIsImxpIiksZygidWwiLCIiLCJsaSIpLGcoImxpIiwidmFsdWUiLG8pLGcoImRsIiwiIiwiZHQgZGQiKSxnKCJhIiwiaHJlZiB0YXJnZXQgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUiLHIpLGcoInEiLCJjaXRlIixyKSxnKCJpbnMgZGVsIiwiY2l0ZSBkYXRldGltZSIsbyksZygiaW1nIiwic3JjIHNpemVzIHNyY3NldCBhbHQgdXNlbWFwIGlzbWFwIHdpZHRoIGhlaWdodCIpLGcoImlmcmFtZSIsInNyYyBuYW1lIHdpZHRoIGhlaWdodCIsbyksZygiZW1iZWQiLCJzcmMgdHlwZSB3aWR0aCBoZWlnaHQiKSxnKCJvYmplY3QiLCJkYXRhIHR5cGUgdHlwZW11c3RtYXRjaCBuYW1lIHVzZW1hcCBmb3JtIHdpZHRoIGhlaWdodCIsW28sInBhcmFtIl0uam9pbigiICIpKSxnKCJwYXJhbSIsIm5hbWUgdmFsdWUiKSxnKCJtYXAiLCJuYW1lIixbbywiYXJlYSJdLmpvaW4oIiAiKSksZygiYXJlYSIsImFsdCBjb29yZHMgc2hhcGUgaHJlZiB0YXJnZXQgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUiKSxnKCJ0YWJsZSIsImJvcmRlciIsImNhcHRpb24gY29sZ3JvdXAgdGhlYWQgdGZvb3QgdGJvZHkgdHIiKygiaHRtbDQiPT09dD8iIGNvbCI6IiIpKSxnKCJjb2xncm91cCIsInNwYW4iLCJjb2wiKSxnKCJjb2wiLCJzcGFuIiksZygidGJvZHkgdGhlYWQgdGZvb3QiLCIiLCJ0ciIpLGcoInRyIiwiIiwidGQgdGgiKSxnKCJ0ZCIsImNvbHNwYW4gcm93c3BhbiBoZWFkZXJzIixvKSxnKCJ0aCIsImNvbHNwYW4gcm93c3BhbiBoZWFkZXJzIHNjb3BlIGFiYnIiLG8pLGcoImZvcm0iLCJhY2NlcHQtY2hhcnNldCBhY3Rpb24gYXV0b2NvbXBsZXRlIGVuY3R5cGUgbWV0aG9kIG5hbWUgbm92YWxpZGF0ZSB0YXJnZXQiLG8pLGcoImZpZWxkc2V0IiwiZGlzYWJsZWQgZm9ybSBuYW1lIixbbywibGVnZW5kIl0uam9pbigiICIpKSxnKCJsYWJlbCIsImZvcm0gZm9yIixyKSxnKCJpbnB1dCIsImFjY2VwdCBhbHQgYXV0b2NvbXBsZXRlIGNoZWNrZWQgZGlybmFtZSBkaXNhYmxlZCBmb3JtIGZvcm1hY3Rpb24gZm9ybWVuY3R5cGUgZm9ybW1ldGhvZCBmb3Jtbm92YWxpZGF0ZSBmb3JtdGFyZ2V0IGhlaWdodCBsaXN0IG1heCBtYXhsZW5ndGggbWluIG11bHRpcGxlIG5hbWUgcGF0dGVybiByZWFkb25seSByZXF1aXJlZCBzaXplIHNyYyBzdGVwIHR5cGUgdmFsdWUgd2lkdGgiKSxnKCJidXR0b24iLCJkaXNhYmxlZCBmb3JtIGZvcm1hY3Rpb24gZm9ybWVuY3R5cGUgZm9ybW1ldGhvZCBmb3Jtbm92YWxpZGF0ZSBmb3JtdGFyZ2V0IG5hbWUgdHlwZSB2YWx1ZSIsImh0bWw0Ij09PXQ/bzpyKSxnKCJzZWxlY3QiLCJkaXNhYmxlZCBmb3JtIG11bHRpcGxlIG5hbWUgcmVxdWlyZWQgc2l6ZSIsIm9wdGlvbiBvcHRncm91cCIpLGcoIm9wdGdyb3VwIiwiZGlzYWJsZWQgbGFiZWwiLCJvcHRpb24iKSxnKCJvcHRpb24iLCJkaXNhYmxlZCBsYWJlbCBzZWxlY3RlZCB2YWx1ZSIpLGcoInRleHRhcmVhIiwiY29scyBkaXJuYW1lIGRpc2FibGVkIGZvcm0gbWF4bGVuZ3RoIG5hbWUgcmVhZG9ubHkgcmVxdWlyZWQgcm93cyB3cmFwIiksZygibWVudSIsInR5cGUgbGFiZWwiLFtvLCJsaSJdLmpvaW4oIiAiKSksZygibm9zY3JpcHQiLCIiLG8pLCJodG1sNCIhPT10JiYoZygid2JyIiksZygicnVieSIsIiIsW3IsInJ0IHJwIl0uam9pbigiICIpKSxnKCJmaWdjYXB0aW9uIiwiIixvKSxnKCJtYXJrIHJ0IHJwIHN1bW1hcnkgYmRpIiwiIixyKSxnKCJjYW52YXMiLCJ3aWR0aCBoZWlnaHQiLG8pLGcoInZpZGVvIiwic3JjIGNyb3Nzb3JpZ2luIHBvc3RlciBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyB3aWR0aCBoZWlnaHQgYnVmZmVyZWQiLFtvLCJ0cmFjayBzb3VyY2UiXS5qb2luKCIgIikpLGcoImF1ZGlvIiwic3JjIGNyb3Nzb3JpZ2luIHByZWxvYWQgYXV0b3BsYXkgbWVkaWFncm91cCBsb29wIG11dGVkIGNvbnRyb2xzIGJ1ZmZlcmVkIHZvbHVtZSIsW28sInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksZygicGljdHVyZSIsIiIsImltZyBzb3VyY2UiKSxnKCJzb3VyY2UiLCJzcmMgc3Jjc2V0IHR5cGUgbWVkaWEgc2l6ZXMiKSxnKCJ0cmFjayIsImtpbmQgc3JjIHNyY2xhbmcgbGFiZWwgZGVmYXVsdCIpLGcoImRhdGFsaXN0IiwiIixbciwib3B0aW9uIl0uam9pbigiICIpKSxnKCJhcnRpY2xlIHNlY3Rpb24gbmF2IGFzaWRlIG1haW4gaGVhZGVyIGZvb3RlciIsIiIsbyksZygiaGdyb3VwIiwiIiwiaDEgaDIgaDMgaDQgaDUgaDYiKSxnKCJmaWd1cmUiLCIiLFtvLCJmaWdjYXB0aW9uIl0uam9pbigiICIpKSxnKCJ0aW1lIiwiZGF0ZXRpbWUiLHIpLGcoImRpYWxvZyIsIm9wZW4iLG8pLGcoImNvbW1hbmQiLCJ0eXBlIGxhYmVsIGljb24gZGlzYWJsZWQgY2hlY2tlZCByYWRpb2dyb3VwIGNvbW1hbmQiKSxnKCJvdXRwdXQiLCJmb3IgZm9ybSBuYW1lIixyKSxnKCJwcm9ncmVzcyIsInZhbHVlIG1heCIsciksZygibWV0ZXIiLCJ2YWx1ZSBtaW4gbWF4IGxvdyBoaWdoIG9wdGltdW0iLHIpLGcoImRldGFpbHMiLCJvcGVuIixbbywic3VtbWFyeSJdLmpvaW4oIiAiKSksZygia2V5Z2VuIiwiYXV0b2ZvY3VzIGNoYWxsZW5nZSBkaXNhYmxlZCBmb3JtIGtleXR5cGUgbmFtZSIpKSwiaHRtbDUtc3RyaWN0IiE9PXQmJihwKCJzY3JpcHQiLCJsYW5ndWFnZSB4bWw6c3BhY2UiKSxwKCJzdHlsZSIsInhtbDpzcGFjZSIpLHAoIm9iamVjdCIsImRlY2xhcmUgY2xhc3NpZCBjb2RlIGNvZGViYXNlIGNvZGV0eXBlIGFyY2hpdmUgc3RhbmRieSBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLHAoImVtYmVkIiwiYWxpZ24gbmFtZSBoc3BhY2UgdnNwYWNlIikscCgicGFyYW0iLCJ2YWx1ZXR5cGUgdHlwZSIpLHAoImEiLCJjaGFyc2V0IG5hbWUgcmV2IHNoYXBlIGNvb3JkcyIpLHAoImJyIiwiY2xlYXIiKSxwKCJhcHBsZXQiLCJjb2RlYmFzZSBhcmNoaXZlIGNvZGUgb2JqZWN0IGFsdCBuYW1lIHdpZHRoIGhlaWdodCBhbGlnbiBoc3BhY2UgdnNwYWNlIikscCgiaW1nIiwibmFtZSBsb25nZGVzYyBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLHAoImlmcmFtZSIsImxvbmdkZXNjIGZyYW1lYm9yZGVyIG1hcmdpbndpZHRoIG1hcmdpbmhlaWdodCBzY3JvbGxpbmcgYWxpZ24iKSxwKCJmb250IGJhc2Vmb250Iiwic2l6ZSBjb2xvciBmYWNlIikscCgiaW5wdXQiLCJ1c2VtYXAgYWxpZ24iKSxwKCJzZWxlY3QiKSxwKCJ0ZXh0YXJlYSIpLHAoImgxIGgyIGgzIGg0IGg1IGg2IGRpdiBwIGxlZ2VuZCBjYXB0aW9uIiwiYWxpZ24iKSxwKCJ1bCIsInR5cGUgY29tcGFjdCIpLHAoImxpIiwidHlwZSIpLHAoIm9sIGRsIG1lbnUgZGlyIiwiY29tcGFjdCIpLHAoInByZSIsIndpZHRoIHhtbDpzcGFjZSIpLHAoImhyIiwiYWxpZ24gbm9zaGFkZSBzaXplIHdpZHRoIikscCgiaXNpbmRleCIsInByb21wdCIpLHAoInRhYmxlIiwic3VtbWFyeSB3aWR0aCBmcmFtZSBydWxlcyBjZWxsc3BhY2luZyBjZWxscGFkZGluZyBhbGlnbiBiZ2NvbG9yIikscCgiY29sIiwid2lkdGggYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLHAoImNvbGdyb3VwIiwid2lkdGggYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLHAoInRoZWFkIiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLHAoInRyIiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBiZ2NvbG9yIikscCgidGgiLCJheGlzIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gbm93cmFwIGJnY29sb3Igd2lkdGggaGVpZ2h0IikscCgiZm9ybSIsImFjY2VwdCIpLHAoInRkIiwiYWJiciBheGlzIHNjb3BlIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gbm93cmFwIGJnY29sb3Igd2lkdGggaGVpZ2h0IikscCgidGZvb3QiLCJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIikscCgidGJvZHkiLCJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIikscCgiYXJlYSIsIm5vaHJlZiIpLHAoImJvZHkiLCJiYWNrZ3JvdW5kIGJnY29sb3IgdGV4dCBsaW5rIHZsaW5rIGFsaW5rIikpLCJodG1sNCIhPT10JiYocCgiaW5wdXQgYnV0dG9uIHNlbGVjdCB0ZXh0YXJlYSIsImF1dG9mb2N1cyIpLHAoImlucHV0IHRleHRhcmVhIiwicGxhY2Vob2xkZXIiKSxwKCJhIiwiZG93bmxvYWQiKSxwKCJsaW5rIHNjcmlwdCBpbWciLCJjcm9zc29yaWdpbiIpLHAoImltZyIsImxvYWRpbmciKSxwKCJpZnJhbWUiLCJzYW5kYm94IHNlYW1sZXNzIGFsbG93ZnVsbHNjcmVlbiBsb2FkaW5nIikpLHJpKGVvKCJhIGZvcm0gbWV0ZXIgcHJvZ3Jlc3MgZGZuIiksZnVuY3Rpb24oZSl7Y1tlXSYmZGVsZXRlIGNbZV0uY2hpbGRyZW5bZV19KSxkZWxldGUgYy5jYXB0aW9uLmNoaWxkcmVuLnRhYmxlLGRlbGV0ZSBjLnNjcmlwdCxlaVt0XT1jKSk7ZnVuY3Rpb24gZyhlLHQsbil7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj17fSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKW5bZVtyXV09dHx8e307cmV0dXJuIG59dmFyIG8saTt0PXR8fCIiLCJzdHJpbmciPT10eXBlb2Yobj1ufHxbXSkmJihuPWVvKG4pKTtmb3IodmFyIGE9ZW8oZSksdT1hLmxlbmd0aDt1LS07KWk9e2F0dHJpYnV0ZXM6cihvPWVvKFtzLHRdLmpvaW4oIiAiKSkpLGF0dHJpYnV0ZXNPcmRlcjpvLGNoaWxkcmVuOnIobix0aSl9LGNbYVt1XV09aX1mdW5jdGlvbiBwKGUsdCl7Zm9yKHZhciBuLHIsbyxpPWVvKGUpLGE9aS5sZW5ndGgsdT1lbyh0KTthLS07KWZvcihuPWNbaVthXV0scj0wLG89dS5sZW5ndGg7cjxvO3IrKyluLmF0dHJpYnV0ZXNbdVtyXV09e30sbi5hdHRyaWJ1dGVzT3JkZXIucHVzaCh1W3JdKX0hMT09PWkudmVyaWZ5X2h0bWwmJihpLnZhbGlkX2VsZW1lbnRzPSIqWypdIik7dmFyIGg9cm8oaS52YWxpZF9zdHlsZXMpLHY9cm8oaS5pbnZhbGlkX3N0eWxlcywibWFwIiksYj1ybyhpLnZhbGlkX2NsYXNzZXMsIm1hcCIpLHk9ZSgid2hpdGVzcGFjZV9lbGVtZW50cyIsInByZSBzY3JpcHQgbm9zY3JpcHQgc3R5bGUgdGV4dGFyZWEgdmlkZW8gYXVkaW8gaWZyYW1lIG9iamVjdCBjb2RlIiksQz1lKCJzZWxmX2Nsb3NpbmdfZWxlbWVudHMiLCJjb2xncm91cCBkZCBkdCBsaSBvcHRpb24gcCB0ZCB0Zm9vdCB0aCB0aGVhZCB0ciIpLHg9ZSgic2hvcnRfZW5kZWRfZWxlbWVudHMiLCJhcmVhIGJhc2UgYmFzZWZvbnQgYnIgY29sIGZyYW1lIGhyIGltZyBpbnB1dCBpc2luZGV4IGxpbmsgbWV0YSBwYXJhbSBlbWJlZCBzb3VyY2Ugd2JyIHRyYWNrIiksdz1lKCJib29sZWFuX2F0dHJpYnV0ZXMiLCJjaGVja2VkIGNvbXBhY3QgZGVjbGFyZSBkZWZlciBkaXNhYmxlZCBpc21hcCBtdWx0aXBsZSBub2hyZWYgbm9yZXNpemUgbm9zaGFkZSBub3dyYXAgcmVhZG9ubHkgc2VsZWN0ZWQgYXV0b3BsYXkgbG9vcCBjb250cm9scyIpLEU9InRkIHRoIGlmcmFtZSB2aWRlbyBhdWRpbyBvYmplY3Qgc2NyaXB0IGNvZGUiLGs9ZSgibm9uX2VtcHR5X2VsZW1lbnRzIixFKyIgcHJlIix4KSxfPWUoIm1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzIixFKyIgdGFibGUiLHgpLEE9ZSgidGV4dF9ibG9ja19lbGVtZW50cyIsImgxIGgyIGgzIGg0IGg1IGg2IHAgZGl2IGFkZHJlc3MgcHJlIGZvcm0gYmxvY2txdW90ZSBjZW50ZXIgZGlyIGZpZWxkc2V0IGhlYWRlciBmb290ZXIgYXJ0aWNsZSBzZWN0aW9uIGhncm91cCBhc2lkZSBtYWluIG5hdiBmaWd1cmUiKSxSPWUoImJsb2NrX2VsZW1lbnRzIiwiaHIgdGFibGUgdGJvZHkgdGhlYWQgdGZvb3QgdGggdHIgdGQgbGkgb2wgdWwgY2FwdGlvbiBkbCBkdCBkZCBub3NjcmlwdCBtZW51IGlzaW5kZXggb3B0aW9uIGRhdGFsaXN0IHNlbGVjdCBvcHRncm91cCBmaWdjYXB0aW9uIGRldGFpbHMgc3VtbWFyeSIsQSksRD1lKCJ0ZXh0X2lubGluZV9lbGVtZW50cyIsInNwYW4gc3Ryb25nIGIgZW0gaSBmb250IHMgc3RyaWtlIHUgdmFyIGNpdGUgZGZuIGNvZGUgbWFyayBxIHN1cCBzdWIgc2FtcCIpO2Z1bmN0aW9uIFQoZSl7cmV0dXJuIG5ldyBSZWdFeHAoIl4iK2UucmVwbGFjZSgvKFs/KypdKS9nLCIuJDEiKSsiJCIpfWZ1bmN0aW9uIE8oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGwsZixkLG0sZyxwLGgsdixiLHk9L14oWyMrXC1dKT8oW15cWyFcL10rKSg/OlwvKFteXFshXSspKT8oPzooIT8pXFsoW15cXV0rKV0pPyQvLEM9L14oWyFcLV0pPyhcdytbXFw6XTpcdyt8W149OjxdKyk/KD86KFs9OjxdKSguKikpPyQvLHg9L1sqPytdLztpZihlKXt2YXIgdz1lbyhlLCIsIik7Zm9yKFNbIkAiXSYmKGg9U1siQCJdLmF0dHJpYnV0ZXMsdj1TWyJAIl0uYXR0cmlidXRlc09yZGVyKSx0PTAsbj13Lmxlbmd0aDt0PG47dCsrKWlmKGk9eS5leGVjKHdbdF0pKXtpZihnPWlbMV0sYz1pWzJdLHA9aVszXSxzPWlbNV0sYT17YXR0cmlidXRlczpkPXt9LGF0dHJpYnV0ZXNPcmRlcjptPVtdfSwiIyI9PT1nJiYoYS5wYWRkRW1wdHk9ITApLCItIj09PWcmJihhLnJlbW92ZUVtcHR5PSEwKSwiISI9PT1pWzRdJiYoYS5yZW1vdmVFbXB0eUF0dHJzPSEwKSxoJiYobmUoaCxmdW5jdGlvbihlLHQpe2RbdF09ZX0pLG0ucHVzaC5hcHBseShtLHYpKSxzKWZvcihyPTAsbz0ocz1lbyhzLCJ8IikpLmxlbmd0aDtyPG87cisrKShpPUMuZXhlYyhzW3JdKSkmJih1PXt9LGY9aVsxXSxsPWlbMl0ucmVwbGFjZSgvW1xcOl06L2csIjoiKSxnPWlbM10sYj1pWzRdLCIhIj09PWYmJihhLmF0dHJpYnV0ZXNSZXF1aXJlZD1hLmF0dHJpYnV0ZXNSZXF1aXJlZHx8W10sYS5hdHRyaWJ1dGVzUmVxdWlyZWQucHVzaChsKSx1LnJlcXVpcmVkPSEwKSwiLSIhPT1mPyhnJiYoIj0iPT09ZyYmKGEuYXR0cmlidXRlc0RlZmF1bHQ9YS5hdHRyaWJ1dGVzRGVmYXVsdHx8W10sYS5hdHRyaWJ1dGVzRGVmYXVsdC5wdXNoKHtuYW1lOmwsdmFsdWU6Yn0pLHUuZGVmYXVsdFZhbHVlPWIpLCI6Ij09PWcmJihhLmF0dHJpYnV0ZXNGb3JjZWQ9YS5hdHRyaWJ1dGVzRm9yY2VkfHxbXSxhLmF0dHJpYnV0ZXNGb3JjZWQucHVzaCh7bmFtZTpsLHZhbHVlOmJ9KSx1LmZvcmNlZFZhbHVlPWIpLCI8Ij09PWcmJih1LnZhbGlkVmFsdWVzPW5pKGIsIj8iKSkpLHgudGVzdChsKT8oYS5hdHRyaWJ1dGVQYXR0ZXJucz1hLmF0dHJpYnV0ZVBhdHRlcm5zfHxbXSx1LnBhdHRlcm49VChsKSxhLmF0dHJpYnV0ZVBhdHRlcm5zLnB1c2godSkpOihkW2xdfHxtLnB1c2gobCksZFtsXT11KSk6KGRlbGV0ZSBkW2xdLG0uc3BsaWNlKGFpKG0sbCksMSkpKTtofHwiQCIhPT1jfHwoaD1kLHY9bSkscCYmKGEub3V0cHV0TmFtZT1jLFNbcF09YSkseC50ZXN0KGMpPyhhLnBhdHRlcm49VChjKSxOLnB1c2goYSkpOlNbY109YX19fWZ1bmN0aW9uIEIoZSl7Uz17fSxOPVtdLE8oZSkscmkobSxmdW5jdGlvbihlLHQpe2xbdF09ZS5jaGlsZHJlbn0pfWZ1bmN0aW9uIFAoZSl7dmFyIGE9L14ofik/KC4rKSQvO2UmJihlaS50ZXh0X2Jsb2NrX2VsZW1lbnRzPWVpLmJsb2NrX2VsZW1lbnRzPW51bGwscmkoZW8oZSwiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0LG49YS5leGVjKGUpLHI9In4iPT09blsxXSxvPXI/InNwYW4iOiJkaXYiLGk9blsyXTtsW2ldPWxbb10sZltpXT1vLHJ8fChSW2kudG9VcHBlckNhc2UoKV09e30sUltpXT17fSksU1tpXXx8KHQ9U1tvXSxkZWxldGUodD1vaSh7fSx0KSkucmVtb3ZlRW1wdHlBdHRycyxkZWxldGUgdC5yZW1vdmVFbXB0eSxTW2ldPXQpLHJpKGwsZnVuY3Rpb24oZSx0KXtlW29dJiYobFt0XT1lPW9pKHt9LGxbdF0pLGVbaV09ZVtvXSl9KX0pKX1mdW5jdGlvbiBMKGUpe3ZhciBvPS9eKFsrXC1dPykoW0EtWmEtejAtOV9cLS5cdTAwYjdcdTAwYzAtXHUwMGQ2XHUwMGQ4LVx1MDBmNlx1MDBmOC1cdTAzN2RcdTAzN2YtXHUxZmZmXHUyMDBjLVx1MjAwZFx1MjAzZi1cdTIwNDBcdTIwNzAtXHUyMThmXHUyYzAwLVx1MmZlZlx1MzAwMS1cdWQ3ZmZcdWY5MDAtXHVmZGNmXHVmZGYwLVx1ZmZmZF0rKVxbKFteXF1dKyldJC87ZWlbaS5zY2hlbWFdPW51bGwsZSYmcmkoZW8oZSwiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj1vLmV4ZWMoZSk7ciYmKG49clsxXSx0PW4/bFtyWzJdXTpsW3JbMl1dPXsiI2NvbW1lbnQiOnt9fSx0PWxbclsyXV0scmkoZW8oclszXSwifCIpLGZ1bmN0aW9uKGUpeyItIj09PW4/ZGVsZXRlIHRbZV06dFtlXT17fX0pKX0pfWZ1bmN0aW9uIEkoZSl7dmFyIHQsbj1TW2VdO2lmKG4pcmV0dXJuIG47Zm9yKHQ9Ti5sZW5ndGg7dC0tOylpZigobj1OW3RdKS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuIG59cmkoKGkuc3BlY2lhbHx8InNjcmlwdCBub3NjcmlwdCBpZnJhbWUgbm9mcmFtZXMgbm9lbWJlZCB0aXRsZSBzdHlsZSB0ZXh0YXJlYSB4bXAiKS5zcGxpdCgiICIpLGZ1bmN0aW9uKGUpe2RbZV09bmV3IFJlZ0V4cCgiPC8iK2UrIltePl0qPiIsImdpIil9KSxpLnZhbGlkX2VsZW1lbnRzP0IoaS52YWxpZF9lbGVtZW50cyk6KHJpKG0sZnVuY3Rpb24oZSx0KXtTW3RdPXthdHRyaWJ1dGVzOmUuYXR0cmlidXRlcyxhdHRyaWJ1dGVzT3JkZXI6ZS5hdHRyaWJ1dGVzT3JkZXJ9LGxbdF09ZS5jaGlsZHJlbn0pLCJodG1sNSIhPT1pLnNjaGVtYSYmcmkoZW8oInN0cm9uZy9iIGVtL2kiKSxmdW5jdGlvbihlKXt2YXIgdD1lbyhlLCIvIik7U1t0WzFdXS5vdXRwdXROYW1lPXRbMF19KSxyaShELGZ1bmN0aW9uKGUsdCl7U1t0XSYmKGkucGFkZF9lbXB0eV9ibG9ja19pbmxpbmVfY2hpbGRyZW4mJihTW3RdLnBhZGRJbkVtcHR5QmxvY2s9ITApLFNbdF0ucmVtb3ZlRW1wdHk9ITApfSkscmkoZW8oIm9sIHVsIGJsb2NrcXVvdGUgYSB0YWJsZSB0Ym9keSIpLGZ1bmN0aW9uKGUpe1NbZV0mJihTW2VdLnJlbW92ZUVtcHR5PSEwKX0pLHJpKGVvKCJwIGgxIGgyIGgzIGg0IGg1IGg2IHRoIHRkIHByZSBkaXYgYWRkcmVzcyBjYXB0aW9uIGxpIiksZnVuY3Rpb24oZSl7U1tlXS5wYWRkRW1wdHk9ITB9KSxyaShlbygic3BhbiIpLGZ1bmN0aW9uKGUpe1NbZV0ucmVtb3ZlRW1wdHlBdHRycz0hMH0pKSxQKGkuY3VzdG9tX2VsZW1lbnRzKSxMKGkudmFsaWRfY2hpbGRyZW4pLE8oaS5leHRlbmRlZF92YWxpZF9lbGVtZW50cyksTCgiK29sW3VsfG9sXSwrdWxbdWx8b2xdIikscmkoe2RkOiJkbCIsZHQ6ImRsIixsaToidWwgb2wiLHRkOiJ0ciIsdGg6InRyIix0cjoidGJvZHkgdGhlYWQgdGZvb3QiLHRib2R5OiJ0YWJsZSIsdGhlYWQ6InRhYmxlIix0Zm9vdDoidGFibGUiLGxlZ2VuZDoiZmllbGRzZXQiLGFyZWE6Im1hcCIscGFyYW06InZpZGVvIGF1ZGlvIG9iamVjdCJ9LGZ1bmN0aW9uKGUsdCl7U1t0XSYmKFNbdF0ucGFyZW50c1JlcXVpcmVkPWVvKGUpKX0pLGkuaW52YWxpZF9lbGVtZW50cyYmcmkoaWkoaS5pbnZhbGlkX2VsZW1lbnRzKSxmdW5jdGlvbihlKXtTW2VdJiZkZWxldGUgU1tlXX0pLEkoInNwYW4iKXx8Tygic3BhblshZGF0YS1tY2UtdHlwZXwqXSIpO3ZhciBNPUooaCksRj1KKHYpLFU9SihiKSx6PUoodyksSD1KKFIpLGo9SihBKSxWPUooRCkscT1KKHgpLCQ9SihDKSxXPUooayksSz1KKF8pLFg9Sih5KSxZPUooZCksRz1KKGYpO3JldHVybntjaGlsZHJlbjpsLGVsZW1lbnRzOlMsZ2V0VmFsaWRTdHlsZXM6TSxnZXRWYWxpZENsYXNzZXM6VSxnZXRCbG9ja0VsZW1lbnRzOkgsZ2V0SW52YWxpZFN0eWxlczpGLGdldFNob3J0RW5kZWRFbGVtZW50czpxLGdldFRleHRCbG9ja0VsZW1lbnRzOmosZ2V0VGV4dElubGluZUVsZW1lbnRzOlYsZ2V0Qm9vbEF0dHJzOnosZ2V0RWxlbWVudFJ1bGU6SSxnZXRTZWxmQ2xvc2luZ0VsZW1lbnRzOiQsZ2V0Tm9uRW1wdHlFbGVtZW50czpXLGdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50czpLLGdldFdoaXRlU3BhY2VFbGVtZW50czpYLGdldFNwZWNpYWxFbGVtZW50czpZLGlzVmFsaWRDaGlsZDpmdW5jdGlvbihlLHQpe3ZhciBuPWxbZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4hKCFufHwhblt0LnRvTG93ZXJDYXNlKCldKX0saXNWYWxpZDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1JKGUpO2lmKG8pe2lmKCF0KXJldHVybiEwO2lmKG8uYXR0cmlidXRlc1t0XSlyZXR1cm4hMDtpZihuPW8uYXR0cmlidXRlUGF0dGVybnMpZm9yKHI9bi5sZW5ndGg7ci0tOylpZihuW3JdLnBhdHRlcm4udGVzdChlKSlyZXR1cm4hMH1yZXR1cm4hMX0sZ2V0Q3VzdG9tRWxlbWVudHM6RyxhZGRWYWxpZEVsZW1lbnRzOk8sc2V0VmFsaWRFbGVtZW50czpCLGFkZEN1c3RvbUVsZW1lbnRzOlAsYWRkVmFsaWRDaGlsZHJlbjpMfX1mdW5jdGlvbiBpbyhlLHQsbixyKXtmdW5jdGlvbiBvKGUpe3JldHVybiAxPChlPXBhcnNlSW50KGUsMTApLnRvU3RyaW5nKDE2KSkubGVuZ3RoP2U6IjAiK2V9cmV0dXJuIiMiK28odCkrbyhuKStvKHIpfWZ1bmN0aW9uIGFvKGIsZSl7dmFyIHUsbyx5PXRoaXMsQz0vcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKlwpL2dpLHg9Lyg/OnVybCg/Oig/OlwoXHMqXCIoW15cIl0rKVwiXHMqXCkpfCg/OlwoXHMqXCcoW15cJ10rKVwnXHMqXCkpfCg/OlwoXHMqKFteKVxzXSspXHMqXCkpKSl8KD86XCcoW15cJ10rKVwnKXwoPzpcIihbXlwiXSspXCIpL2dpLHc9L1xzKihbXjpdKyk6XHMqKFteO10rKTs/L2csUz0vXHMrJC8sTj17fSxFPXhvO2I9Ynx8e30sZSYmKHU9ZS5nZXRWYWxpZFN0eWxlcygpLG89ZS5nZXRJbnZhbGlkU3R5bGVzKCkpO2Zvcih2YXIgdD0oIlxcXCIgXFwnIFxcOyBcXDogOyA6ICIrRSkuc3BsaXQoIiAiKSxrPTA7azx0Lmxlbmd0aDtrKyspTlt0W2tdXT1FK2ssTltFK2tdPXRba107cmV0dXJue3RvSGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoQyxpbyl9LHBhcnNlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3ZhciByPXBbZSsiLXRvcCIrdF07aWYocil7dmFyIG89cFtlKyItcmlnaHQiK3RdO2lmKG8pe3ZhciBpPXBbZSsiLWJvdHRvbSIrdF07aWYoaSl7dmFyIGE9cFtlKyItbGVmdCIrdF07aWYoYSl7dmFyIHU9W3IsbyxpLGFdO2ZvcihrPXUubGVuZ3RoLTE7ay0tJiZ1W2tdPT09dVtrKzFdOyk7LTE8ayYmbnx8KHBbZSt0XT0tMT09PWs/dVswXTp1LmpvaW4oIiAiKSxkZWxldGUgcFtlKyItdG9wIit0XSxkZWxldGUgcFtlKyItcmlnaHQiK3RdLGRlbGV0ZSBwW2UrIi1ib3R0b20iK3RdLGRlbGV0ZSBwW2UrIi1sZWZ0Iit0XSl9fX19fWZ1bmN0aW9uIG4oZSl7dmFyIHQsbj1wW2VdO2lmKG4pe2Zvcih0PShuPW4uc3BsaXQoIiAiKSkubGVuZ3RoO3QtLTspaWYoblt0XSE9PW5bMF0pcmV0dXJuO3JldHVybiBwW2VdPW5bMF0sMX19ZnVuY3Rpb24gcihlKXtyZXR1cm4gZj0hMCxOW2VdfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZiYmKGU9ZS5yZXBsYWNlKC9cdUZFRkZbMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiBOW2VdfSkpLHQ/ZTplLnJlcGxhY2UoL1xcKFtcJ1wiOzpdKS9nLCIkMSIpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zbGljZSgxKSwxNikpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxbMC05YS1mXSsvZ2ksbyl9ZnVuY3Rpb24gYShlLHQsbixyLG8saSl7aWYobz1vfHxpKXJldHVybiInIisobz11KG8pKS5yZXBsYWNlKC9cJy9nLCJcXCciKSsiJyI7aWYodD11KHR8fG58fHIpLCFiLmFsbG93X3NjcmlwdF91cmxzKXt2YXIgYT10LnJlcGxhY2UoL1tcc1xyXG5dKy9nLCIiKTtpZigvKGphdmF8dmIpc2NyaXB0Oi9pLnRlc3QoYSkpcmV0dXJuIiI7aWYoIWIuYWxsb3dfc3ZnX2RhdGFfdXJscyYmL15kYXRhOmltYWdlXC9zdmcvaS50ZXN0KGEpKXJldHVybiIifXJldHVybiJ1cmwoJyIrKHQ9aD9oLmNhbGwodix0LCJzdHlsZSIpOnQpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyInKSJ9dmFyIHMsYyxsLGYsZCxtLGcscD17fSxoPWIudXJsX2NvbnZlcnRlcix2PWIudXJsX2NvbnZlcnRlcl9zY29wZXx8eTtpZihlKXtmb3IoZT0oZT1lLnJlcGxhY2UoL1tcdTAwMDAtXHUwMDFGXS9nLCIiKSkucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLHIpLnJlcGxhY2UoL1wiW15cIl0rXCJ8XCdbXlwnXStcJy9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1s7Ol0vZyxyKX0pO3M9dy5leGVjKGUpOyl3Lmxhc3RJbmRleD1zLmluZGV4K3NbMF0ubGVuZ3RoLGM9c1sxXS5yZXBsYWNlKFMsIiIpLnRvTG93ZXJDYXNlKCksbD1zWzJdLnJlcGxhY2UoUywiIiksYyYmbCYmKGM9aShjKSxsPWkobCksLTE9PT1jLmluZGV4T2YoRSkmJi0xPT09Yy5pbmRleE9mKCciJykmJihiLmFsbG93X3NjcmlwdF91cmxzfHwiYmVoYXZpb3IiIT09YyYmIS9leHByZXNzaW9uXHMqXCh8XC9cKnxcKlwvLy50ZXN0KGwpKSYmKCJmb250LXdlaWdodCI9PT1jJiYiNzAwIj09PWw/bD0iYm9sZCI6ImNvbG9yIiE9PWMmJiJiYWNrZ3JvdW5kLWNvbG9yIiE9PWN8fChsPWwudG9Mb3dlckNhc2UoKSksbD0obD1sLnJlcGxhY2UoQyxpbykpLnJlcGxhY2UoeCxhKSxwW2NdPWY/dShsLCEwKTpsKSk7dCgiYm9yZGVyIiwiIiwhMCksdCgiYm9yZGVyIiwiLXdpZHRoIiksdCgiYm9yZGVyIiwiLWNvbG9yIiksdCgiYm9yZGVyIiwiLXN0eWxlIiksdCgicGFkZGluZyIsIiIpLHQoIm1hcmdpbiIsIiIpLG09ImJvcmRlci1zdHlsZSIsZz0iYm9yZGVyLWNvbG9yIixuKGQ9ImJvcmRlci13aWR0aCIpJiZuKG0pJiZuKGcpJiYocC5ib3JkZXI9cFtkXSsiICIrcFttXSsiICIrcFtnXSxkZWxldGUgcFtkXSxkZWxldGUgcFttXSxkZWxldGUgcFtnXSksIm1lZGl1bSBub25lIj09PXAuYm9yZGVyJiZkZWxldGUgcC5ib3JkZXIsIm5vbmUiPT09cFsiYm9yZGVyLWltYWdlIl0mJmRlbGV0ZSBwWyJib3JkZXItaW1hZ2UiXX1yZXR1cm4gcH0sc2VyaWFsaXplOmZ1bmN0aW9uKGkscil7ZnVuY3Rpb24gZShlKXt2YXIgdCxuPXVbZV07aWYobilmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspZT1uW3JdLCh0PWlbZV0pJiYoYSs9KDA8YS5sZW5ndGg/IiAiOiIiKStlKyI6ICIrdCsiOyIpfXZhciBhPSIiO3JldHVybiByJiZ1PyhlKCIqIiksZShyKSk6bmUoaSxmdW5jdGlvbihlLHQpe3ZhciBuOyFlfHxvJiYoKG49b1siKiJdKSYmblt0XXx8KG49b1tyXSkmJm5bdF0pfHwoYSs9KDA8YS5sZW5ndGg/IiAiOiIiKSt0KyI6ICIrZSsiOyIpfSksYX19fWZ1bmN0aW9uIHVvKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXZlbnR8fHkoZS5pbml0RXZlbnQpfWZ1bmN0aW9uIHNvKGUsdCxuLHIpe3ZhciBvLGksYT1mdW5jdGlvbihlKXt2YXIgdCxuPW51bGwhPXI/cjp7fTtmb3IodCBpbiBlKUVlKHVpLHQpfHwoblt0XT1lW3RdKTtyZXR1cm4gVihuLmNvbXBvc2VkUGF0aCkmJihuLmNvbXBvc2VkUGF0aD1mdW5jdGlvbigpe3JldHVybiBlLmNvbXBvc2VkUGF0aCgpfSksbn0odCk7cmV0dXJuIGEudHlwZT1lLEsoYS50YXJnZXQpJiYoYS50YXJnZXQ9bnVsbCE9PShvPWEuc3JjRWxlbWVudCkmJnZvaWQgMCE9PW8/bzpuKSwoSygoaT10KS5wcmV2ZW50RGVmYXVsdCl8fHVvKGkpKSYmKGEucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXthLmRlZmF1bHRQcmV2ZW50ZWQ9ITAsYS5pc0RlZmF1bHRQcmV2ZW50ZWQ9dyx5KHQucHJldmVudERlZmF1bHQpP3QucHJldmVudERlZmF1bHQoKTp1byh0KSYmKHQucmV0dXJuVmFsdWU9ITEpfSxhLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2EuY2FuY2VsQnViYmxlPSEwLGEuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dyx5KHQuc3RvcFByb3BhZ2F0aW9uKT90LnN0b3BQcm9wYWdhdGlvbigpOnVvKHQpJiYodC5jYW5jZWxCdWJibGU9ITApfSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2EuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dyxhLnN0b3BQcm9wYWdhdGlvbigpfSxhLmlzRGVmYXVsdFByZXZlbnRlZCE9PXcmJmEuaXNEZWZhdWx0UHJldmVudGVkIT09RCYmKGEuaXNEZWZhdWx0UHJldmVudGVkPSEwPT09YS5kZWZhdWx0UHJldmVudGVkP3c6RCxhLmlzUHJvcGFnYXRpb25TdG9wcGVkPSEwPT09YS5jYW5jZWxCdWJibGU/dzpELGEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9RCkpLGF9ZnVuY3Rpb24gY28oZSx0LG4scil7ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4scnx8ITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9uIit0LG4pfWZ1bmN0aW9uIGxvKGUsdCxuLHIpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLHJ8fCExKTplLmRldGFjaEV2ZW50JiZlLmRldGFjaEV2ZW50KCJvbiIrdCxuKX1mdW5jdGlvbiBmbyhlLHQpe3ZhciBuLHIsbyxpLGE9c28oZS50eXBlLGUsZG9jdW1lbnQsdCk7cmV0dXJuIFYoaT1lKSYmc2kudGVzdChpLnR5cGUpJiZiKGUucGFnZVgpJiYhYihlLmNsaWVudFgpJiYocj0obj1hLnRhcmdldC5vd25lckRvY3VtZW50fHxkb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50LG89bi5ib2R5LGEucGFnZVg9ZS5jbGllbnRYKyhyJiZyLnNjcm9sbExlZnR8fG8mJm8uc2Nyb2xsTGVmdHx8MCktKHImJnIuY2xpZW50TGVmdHx8byYmby5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWUuY2xpZW50WSsociYmci5zY3JvbGxUb3B8fG8mJm8uc2Nyb2xsVG9wfHwwKS0ociYmci5jbGllbnRUb3B8fG8mJm8uY2xpZW50VG9wfHwwKSksYihhLm1ldGFLZXkpJiYoYS5tZXRhS2V5PSExKSxhfXZhciBtbz1PcihbImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiJdKSxnbz1PcihbImFydGljbGUiLCJhc2lkZSIsImRldGFpbHMiLCJkaXYiLCJkdCIsImZpZ2NhcHRpb24iLCJmb290ZXIiLCJmb3JtIiwiZmllbGRzZXQiLCJoZWFkZXIiLCJoZ3JvdXAiLCJodG1sIiwibWFpbiIsIm5hdiIsInNlY3Rpb24iLCJzdW1tYXJ5IiwiYm9keSIsInAiLCJkbCIsIm11bHRpY29sIiwiZGQiLCJmaWd1cmUiLCJhZGRyZXNzIiwiY2VudGVyIiwiYmxvY2txdW90ZSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImxpc3RpbmciLCJ4bXAiLCJwcmUiLCJwbGFpbnRleHQiLCJtZW51IiwiZGlyIiwidWwiLCJvbCIsImxpIiwiaHIiLCJ0YWJsZSIsInRib2R5IiwidGhlYWQiLCJ0Zm9vdCIsInRoIiwidHIiLCJ0ZCIsImNhcHRpb24iXSkscG89T3IoWyJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJwIiwiZGl2IiwiYWRkcmVzcyIsInByZSIsImZvcm0iLCJibG9ja3F1b3RlIiwiY2VudGVyIiwiZGlyIiwiZmllbGRzZXQiLCJoZWFkZXIiLCJmb290ZXIiLCJhcnRpY2xlIiwic2VjdGlvbiIsImhncm91cCIsImFzaWRlIiwibmF2IiwiZmlndXJlIl0pLGhvPU9yKFsidWwiLCJvbCIsImRsIl0pLHZvPU9yKFsibGkiLCJkZCIsImR0Il0pLGJvPU9yKFsidGhlYWQiLCJ0Ym9keSIsInRmb290Il0pLHlvPU9yKFsidGQiLCJ0aCJdKSxDbz1PcihbInByZSIsInNjcmlwdCIsInRleHRhcmVhIiwic3R5bGUiXSkseG89Ilx1ZmVmZiIsd289Ilx4YTAiLFNvPXhvLE5vPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09eG99LEVvPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1x1RkVGRi9nLCIiKX0sa289SG4sX289Vm4sQW89ZnVuY3Rpb24oZSl7cmV0dXJuIF9vKGUpJiZlLmRhdGFbMF09PT1Tb30sUm89ZnVuY3Rpb24oZSl7cmV0dXJuIF9vKGUpJiZlLmRhdGFbZS5kYXRhLmxlbmd0aC0xXT09PVNvfSxEbz1ZbixUbz1HbixPbz1LbixCbz1WbixQbz1vbihbInNjcmlwdCIsInN0eWxlIiwidGV4dGFyZWEiXSksTG89b24oWyJpbWciLCJpbnB1dCIsInRleHRhcmVhIiwiaHIiLCJpZnJhbWUiLCJ2aWRlbyIsImF1ZGlvIiwib2JqZWN0IiwiZW1iZWQiXSksSW89b24oWyJ0YWJsZSJdKSxNbz1NcixGbz1mdW5jdGlvbihlKXtyZXR1cm4hMT09PShIbih0PWUpJiYidHJ1ZSI9PT10LmdldEF0dHJpYnV0ZSgidW5zZWxlY3RhYmxlIikpJiZUbyhlKTt2YXIgdH0sVW89L15bIFx0XHJcbl0qJC8sem89dW4oImRhdGEtbWNlLWJvb2ttYXJrIiksSG89dW4oImRhdGEtbWNlLWJvZ3VzIiksam89ZnVuY3Rpb24oZSl7cmV0dXJuIEhuKGUpJiYiYWxsIj09PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfSxWbz1mdW5jdGlvbihlLHQsbil7dmFyIHI9bnx8dDtpZihIbih0KSYmWXIodCkpcmV0dXJuIHQ7Zm9yKHZhciBvLGksYSx1LHMsYyxsLGYsZCxtLGcscD10LmNoaWxkTm9kZXMsaD1wLmxlbmd0aC0xOzA8PWg7aC0tKVZvKGUscFtoXSxyKTtyZXR1cm4hSG4odCl8fDE9PT0obz10LmNoaWxkTm9kZXMpLmxlbmd0aCYmWXIob1swXSkmJnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUob1swXSx0KSxXbihhPXQpfHwkbihhKXx8V3IodCxyKXx8SG4oaT10KSYmMDxpLmNoaWxkTm9kZXMubGVuZ3RofHwocz1yLFZuKHU9dCkmJjA8dS5kYXRhLmxlbmd0aCYmKGY9bmV3IERyKGM9dSxsPXMpLnByZXYoITEpLGQ9bmV3IERyKGMsbCkubmV4dCghMSksbT1iKGYpfHxYcihmLGwpLGc9YihkKXx8WHIoZCxsKSxtJiZnKSl8fGUucmVtb3ZlKHQpLHR9LHFvPU50Lm1ha2VNYXAsJG89L1smPD5cIlx1MDA2MFx1MDA3RS1cdUQ3RkZcdUUwMDAtXHVGRkVGXXxbXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZyxXbz0vWzw+Jlx1MDA3RS1cdUQ3RkZcdUUwMDAtXHVGRkVGXXxbXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRl0vZyxLbz0vWzw+JlwiXCddL2csWG89LyYjKFthLXowLTldKyk7P3wmKFthLXowLTldKyk7L2dpLFlvPXsxMjg6Ilx1MjBhYyIsMTMwOiJcdTIwMWEiLDEzMToiXHUwMTkyIiwxMzI6Ilx1MjAxZSIsMTMzOiJcdTIwMjYiLDEzNDoiXHUyMDIwIiwxMzU6Ilx1MjAyMSIsMTM2OiJcdTAyYzYiLDEzNzoiXHUyMDMwIiwxMzg6Ilx1MDE2MCIsMTM5OiJcdTIwMzkiLDE0MDoiXHUwMTUyIiwxNDI6Ilx1MDE3ZCIsMTQ1OiJcdTIwMTgiLDE0NjoiXHUyMDE5IiwxNDc6Ilx1MjAxYyIsMTQ4OiJcdTIwMWQiLDE0OToiXHUyMDIyIiwxNTA6Ilx1MjAxMyIsMTUxOiJcdTIwMTQiLDE1MjoiXHUwMmRjIiwxNTM6Ilx1MjEyMiIsMTU0OiJcdTAxNjEiLDE1NToiXHUyMDNhIiwxNTY6Ilx1MDE1MyIsMTU4OiJcdTAxN2UiLDE1OToiXHUwMTc4In0sR289eyciJzoiJnF1b3Q7IiwiJyI6IiYjMzk7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsIiYiOiImYW1wOyIsImAiOiImIzk2OyJ9LEpvPXsiJmx0OyI6IjwiLCImZ3Q7IjoiPiIsIiZhbXA7IjoiJiIsIiZxdW90OyI6JyInLCImYXBvczsiOiInIn0sUW89R3IoIjUwLG5ic3AsNTEsaWV4Y2wsNTIsY2VudCw1Myxwb3VuZCw1NCxjdXJyZW4sNTUseWVuLDU2LGJydmJhciw1NyxzZWN0LDU4LHVtbCw1OSxjb3B5LDVhLG9yZGYsNWIsbGFxdW8sNWMsbm90LDVkLHNoeSw1ZSxyZWcsNWYsbWFjciw1ZyxkZWcsNWgscGx1c21uLDVpLHN1cDIsNWosc3VwMyw1ayxhY3V0ZSw1bCxtaWNybyw1bSxwYXJhLDVuLG1pZGRvdCw1byxjZWRpbCw1cCxzdXAxLDVxLG9yZG0sNXIscmFxdW8sNXMsZnJhYzE0LDV0LGZyYWMxMiw1dSxmcmFjMzQsNXYsaXF1ZXN0LDYwLEFncmF2ZSw2MSxBYWN1dGUsNjIsQWNpcmMsNjMsQXRpbGRlLDY0LEF1bWwsNjUsQXJpbmcsNjYsQUVsaWcsNjcsQ2NlZGlsLDY4LEVncmF2ZSw2OSxFYWN1dGUsNmEsRWNpcmMsNmIsRXVtbCw2YyxJZ3JhdmUsNmQsSWFjdXRlLDZlLEljaXJjLDZmLEl1bWwsNmcsRVRILDZoLE50aWxkZSw2aSxPZ3JhdmUsNmosT2FjdXRlLDZrLE9jaXJjLDZsLE90aWxkZSw2bSxPdW1sLDZuLHRpbWVzLDZvLE9zbGFzaCw2cCxVZ3JhdmUsNnEsVWFjdXRlLDZyLFVjaXJjLDZzLFV1bWwsNnQsWWFjdXRlLDZ1LFRIT1JOLDZ2LHN6bGlnLDcwLGFncmF2ZSw3MSxhYWN1dGUsNzIsYWNpcmMsNzMsYXRpbGRlLDc0LGF1bWwsNzUsYXJpbmcsNzYsYWVsaWcsNzcsY2NlZGlsLDc4LGVncmF2ZSw3OSxlYWN1dGUsN2EsZWNpcmMsN2IsZXVtbCw3YyxpZ3JhdmUsN2QsaWFjdXRlLDdlLGljaXJjLDdmLGl1bWwsN2csZXRoLDdoLG50aWxkZSw3aSxvZ3JhdmUsN2osb2FjdXRlLDdrLG9jaXJjLDdsLG90aWxkZSw3bSxvdW1sLDduLGRpdmlkZSw3byxvc2xhc2gsN3AsdWdyYXZlLDdxLHVhY3V0ZSw3cix1Y2lyYyw3cyx1dW1sLDd0LHlhY3V0ZSw3dSx0aG9ybiw3dix5dW1sLGNpLGZub2Ysc2gsQWxwaGEsc2ksQmV0YSxzaixHYW1tYSxzayxEZWx0YSxzbCxFcHNpbG9uLHNtLFpldGEsc24sRXRhLHNvLFRoZXRhLHNwLElvdGEsc3EsS2FwcGEsc3IsTGFtYmRhLHNzLE11LHN0LE51LHN1LFhpLHN2LE9taWNyb24sdDAsUGksdDEsUmhvLHQzLFNpZ21hLHQ0LFRhdSx0NSxVcHNpbG9uLHQ2LFBoaSx0NyxDaGksdDgsUHNpLHQ5LE9tZWdhLHRoLGFscGhhLHRpLGJldGEsdGosZ2FtbWEsdGssZGVsdGEsdGwsZXBzaWxvbix0bSx6ZXRhLHRuLGV0YSx0byx0aGV0YSx0cCxpb3RhLHRxLGthcHBhLHRyLGxhbWJkYSx0cyxtdSx0dCxudSx0dSx4aSx0dixvbWljcm9uLHUwLHBpLHUxLHJobyx1MixzaWdtYWYsdTMsc2lnbWEsdTQsdGF1LHU1LHVwc2lsb24sdTYscGhpLHU3LGNoaSx1OCxwc2ksdTksb21lZ2EsdWgsdGhldGFzeW0sdWksdXBzaWgsdW0scGl2LDgxMixidWxsLDgxNixoZWxsaXAsODFpLHByaW1lLDgxaixQcmltZSw4MXUsb2xpbmUsODI0LGZyYXNsLDg4byx3ZWllcnAsODhoLGltYWdlLDg4cyxyZWFsLDg5Mix0cmFkZSw4OWwsYWxlZnN5bSw4Y2csbGFyciw4Y2gsdWFyciw4Y2kscmFyciw4Y2osZGFyciw4Y2ssaGFyciw4ZGwsY3JhcnIsOGVnLGxBcnIsOGVoLHVBcnIsOGVpLHJBcnIsOGVqLGRBcnIsOGVrLGhBcnIsOGcwLGZvcmFsbCw4ZzIscGFydCw4ZzMsZXhpc3QsOGc1LGVtcHR5LDhnNyxuYWJsYSw4ZzgsaXNpbiw4Zzksbm90aW4sOGdiLG5pLDhnZixwcm9kLDhnaCxzdW0sOGdpLG1pbnVzLDhnbixsb3dhc3QsOGdxLHJhZGljLDhndCxwcm9wLDhndSxpbmZpbiw4aDAsYW5nLDhoNyxhbmQsOGg4LG9yLDhoOSxjYXAsOGhhLGN1cCw4aGIsaW50LDhoayx0aGVyZTQsOGhzLHNpbSw4aTUsY29uZyw4aTgsYXN5bXAsOGowLG5lLDhqMSxlcXVpdiw4ajQsbGUsOGo1LGdlLDhrMixzdWIsOGszLHN1cCw4azQsbnN1Yiw4azYsc3ViZSw4azcsc3VwZSw4a2wsb3BsdXMsOGtuLG90aW1lcyw4bDUscGVycCw4bTUsc2RvdCw4bzgsbGNlaWwsOG85LHJjZWlsLDhvYSxsZmxvb3IsOG9iLHJmbG9vciw4cDksbGFuZyw4cGEscmFuZyw5ZWEsbG96LDlqMCxzcGFkZXMsOWozLGNsdWJzLDlqNSxoZWFydHMsOWo2LGRpYW1zLGFpLE9FbGlnLGFqLG9lbGlnLGIwLFNjYXJvbixiMSxzY2Fyb24sYm8sWXVtbCxtNixjaXJjLG1zLHRpbGRlLDgwMixlbnNwLDgwMyxlbXNwLDgwOSx0aGluc3AsODBjLHp3bmosODBkLHp3aiw4MGUsbHJtLDgwZixybG0sODBqLG5kYXNoLDgwayxtZGFzaCw4MG8sbHNxdW8sODBwLHJzcXVvLDgwcSxzYnF1byw4MHMsbGRxdW8sODB0LHJkcXVvLDgwdSxiZHF1byw4MTAsZGFnZ2VyLDgxMSxEYWdnZXIsODFnLHBlcm1pbCw4MXAsbHNhcXVvLDgxcSxyc2FxdW8sODVjLGV1cm8iLDMyKSxabz17ZW5jb2RlUmF3OkpyLGVuY29kZUFsbFJhdzpmdW5jdGlvbihlKXtyZXR1cm4oIiIrZSkucmVwbGFjZShLbyxmdW5jdGlvbihlKXtyZXR1cm4gR29bZV18fGV9KX0sZW5jb2RlTnVtZXJpYzpRcixlbmNvZGVOYW1lZDpacixnZXRFbmNvZGVGdW5jOmZ1bmN0aW9uKGUsdCl7dmFyIG49R3IodCl8fFFvLHI9cW8oZS5yZXBsYWNlKC9cKy9nLCIsIikpO3JldHVybiByLm5hbWVkJiZyLm51bWVyaWM/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKHQ/JG86V28sZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PUdvW2VdP0dvW2VdOnZvaWQgMCE9PW5bZV0/bltlXToxPGUubGVuZ3RoPyImIyIrKDEwMjQqKGUuY2hhckNvZGVBdCgwKS01NTI5NikrKGUuY2hhckNvZGVBdCgxKS01NjMyMCkrNjU1MzYpKyI7IjoiJiMiK2UuY2hhckNvZGVBdCgwKSsiOyJ9KX06ci5uYW1lZD90P2Z1bmN0aW9uKGUsdCl7cmV0dXJuIFpyKGUsdCxuKX06WnI6ci5udW1lcmljP1FyOkpyfSxkZWNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShYbyxmdW5jdGlvbihlLHQpe3JldHVybiB0PzY1NTM1PCh0PSJ4Ij09PXQuY2hhckF0KDApLnRvTG93ZXJDYXNlKCk/cGFyc2VJbnQodC5zdWJzdHIoMSksMTYpOnBhcnNlSW50KHQsMTApKT8odC09NjU1MzYsU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisodD4+MTApLDU2MzIwKygxMDIzJnQpKSk6WW9bdF18fFN0cmluZy5mcm9tQ2hhckNvZGUodCk6Sm9bZV18fFFvW2VdfHwobj1lLChyPUV0LmZyb21UYWcoImRpdiIpLmRvbSkuaW5uZXJIVE1MPW4sci50ZXh0Q29udGVudHx8ci5pbm5lclRleHR8fG4pO3ZhciBuLHJ9KX19LGVpPXt9LHRpPXt9LG5pPU50Lm1ha2VNYXAscmk9TnQuZWFjaCxvaT1OdC5leHRlbmQsaWk9TnQuZXhwbG9kZSxhaT1OdC5pbkFycmF5LHVpPXtrZXlMb2NhdGlvbjohMCxsYXllclg6ITAsbGF5ZXJZOiEwLHJldHVyblZhbHVlOiEwLHdlYmtpdE1vdmVtZW50WDohMCx3ZWJraXRNb3ZlbWVudFk6ITAsa2V5SWRlbnRpZmllcjohMCxtb3pQcmVzc3VyZTohMH0sc2k9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLGNpPShsaS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlLHQsbixyKXtmdW5jdGlvbiBvKGUpe2YuZXhlY3V0ZUhhbmRsZXJzKGZvKGV8fGQuZXZlbnQpLGkpfXZhciBpLGEsdSxzLGMsbCxmPXRoaXMsZD13aW5kb3c7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlKXtlW2YuZXhwYW5kb10/aT1lW2YuZXhwYW5kb106KGk9Zi5jb3VudCsrLGVbZi5leHBhbmRvXT1pLGYuZXZlbnRzW2ldPXt9KSxyPXJ8fGU7Zm9yKHZhciBtPXQuc3BsaXQoIiAiKSxnPW0ubGVuZ3RoO2ctLTspYz1vLHM9bD0hMSwiRE9NQ29udGVudExvYWRlZCI9PT0odT1tW2ddKSYmKHU9InJlYWR5IiksZi5kb21Mb2FkZWQmJiJyZWFkeSI9PT11JiYiY29tcGxldGUiPT09ZS5yZWFkeVN0YXRlP24uY2FsbChyLGZvKHt0eXBlOnV9KSk6KGYuaGFzTW91c2VFbnRlckxlYXZlfHwocz1mLm1vdXNlRW50ZXJMZWF2ZVt1XSkmJihjPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VycmVudFRhcmdldCxuPWUucmVsYXRlZFRhcmdldDtpZihuJiZ0LmNvbnRhaW5zKW49dC5jb250YWlucyhuKTtlbHNlIGZvcig7biYmbiE9PXQ7KW49bi5wYXJlbnROb2RlO258fCgoZT1mbyhlfHxkLmV2ZW50KSkudHlwZT0ibW91c2VvdXQiPT09ZS50eXBlPyJtb3VzZWxlYXZlIjoibW91c2VlbnRlciIsZS50YXJnZXQ9dCxmLmV4ZWN1dGVIYW5kbGVycyhlLGkpKX0pLGYuaGFzRm9jdXNJbnx8ImZvY3VzaW4iIT09dSYmImZvY3Vzb3V0IiE9PXV8fChsPSEwLHM9ImZvY3VzaW4iPT09dT8iZm9jdXMiOiJibHVyIixjPWZ1bmN0aW9uKGUpeyhlPWZvKGV8fGQuZXZlbnQpKS50eXBlPSJmb2N1cyI9PT1lLnR5cGU/ImZvY3VzaW4iOiJmb2N1c291dCIsZi5leGVjdXRlSGFuZGxlcnMoZSxpKX0pLChhPWYuZXZlbnRzW2ldW3VdKT8icmVhZHkiPT09dSYmZi5kb21Mb2FkZWQ/bihmbyh7dHlwZTp1fSkpOmEucHVzaCh7ZnVuYzpuLHNjb3BlOnJ9KTooZi5ldmVudHNbaV1bdV09YT1be2Z1bmM6bixzY29wZTpyfV0sYS5mYWtlTmFtZT1zLGEuY2FwdHVyZT1sLGEubmF0aXZlSGFuZGxlcj1jLCJyZWFkeSI9PT11P2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvPWUuZG9jdW1lbnQsaT17dHlwZToicmVhZHkifTtuLmRvbUxvYWRlZD90KGkpOihyPWZ1bmN0aW9uKCl7bG8oZSwiRE9NQ29udGVudExvYWRlZCIsciksbG8oZSwibG9hZCIsciksbi5kb21Mb2FkZWR8fChuLmRvbUxvYWRlZD0hMCx0KGkpKSxlPW51bGx9LCJjb21wbGV0ZSI9PT1vLnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1vLnJlYWR5U3RhdGUmJm8uYm9keT9yKCk6Y28oZSwiRE9NQ29udGVudExvYWRlZCIsciksbi5kb21Mb2FkZWR8fGNvKGUsImxvYWQiLHIpKX0oZSxjLGYpOmNvKGUsc3x8dSxjLGwpKSk7cmV0dXJuIGU9YT1udWxsLG59fSxsaS5wcm90b3R5cGUudW5iaW5kPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixvLGk7aWYoIW58fDM9PT1uLm5vZGVUeXBlfHw4PT09bi5ub2RlVHlwZSlyZXR1cm4gdGhpczt2YXIgYT1uW3RoaXMuZXhwYW5kb107aWYoYSl7aWYoaT10aGlzLmV2ZW50c1thXSxlKXtmb3IodmFyIHUscyxjLGwsZj1lLnNwbGl0KCIgIiksZD1mLmxlbmd0aDtkLS07KWlmKGw9aVtvPWZbZF1dKXtpZih0KWZvcihyPWwubGVuZ3RoO3ItLTspbFtyXS5mdW5jPT09dCYmKHU9bC5uYXRpdmVIYW5kbGVyLHM9bC5mYWtlTmFtZSxjPWwuY2FwdHVyZSwobD1sLnNsaWNlKDAscikuY29uY2F0KGwuc2xpY2UocisxKSkpLm5hdGl2ZUhhbmRsZXI9dSxsLmZha2VOYW1lPXMsbC5jYXB0dXJlPWMsaVtvXT1sKTt0JiYwIT09bC5sZW5ndGh8fChkZWxldGUgaVtvXSxsbyhuLGwuZmFrZU5hbWV8fG8sbC5uYXRpdmVIYW5kbGVyLGwuY2FwdHVyZSkpfX1lbHNlIG5lKGksZnVuY3Rpb24oZSx0KXtsbyhuLGUuZmFrZU5hbWV8fHQsZS5uYXRpdmVIYW5kbGVyLGUuY2FwdHVyZSl9KSxpPXt9O2ZvcihvIGluIGkpaWYoRWUoaSxvKSlyZXR1cm4gdGhpcztkZWxldGUgdGhpcy5ldmVudHNbYV07dHJ5e2RlbGV0ZSBuW3RoaXMuZXhwYW5kb119Y2F0Y2goZSl7blt0aGlzLmV4cGFuZG9dPW51bGx9fXJldHVybiB0aGlzfSxsaS5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIWV8fDM9PT1lLm5vZGVUeXBlfHw4PT09ZS5ub2RlVHlwZSlyZXR1cm4gdGhpcztmb3IodmFyIG89Zm8oe3R5cGU6dCx0YXJnZXQ6ZX0sbik7KHI9ZVt0aGlzLmV4cGFuZG9dKSYmdGhpcy5leGVjdXRlSGFuZGxlcnMobyxyKSwoZT1lLnBhcmVudE5vZGV8fGUub3duZXJEb2N1bWVudHx8ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3cpJiYhby5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOyk7cmV0dXJuIHRoaXN9LGxpLnByb3RvdHlwZS5jbGVhbj1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCFlfHwzPT09ZS5ub2RlVHlwZXx8OD09PWUubm9kZVR5cGUpcmV0dXJuIHRoaXM7aWYoZVt0aGlzLmV4cGFuZG9dJiZ0aGlzLnVuYmluZChlKSwoZT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lP2U6ZS5kb2N1bWVudCkmJmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUpZm9yKHRoaXMudW5iaW5kKGUpLHQ9KG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKS5sZW5ndGg7dC0tOykoZT1uW3RdKVt0aGlzLmV4cGFuZG9dJiZ0aGlzLnVuYmluZChlKTtyZXR1cm4gdGhpc30sbGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50cz17fX0sbGkucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSwhMX0sbGkucHJvdG90eXBlLmV4ZWN1dGVIYW5kbGVycz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXZlbnRzW3RdLHI9biYmbltlLnR5cGVdO2lmKHIpZm9yKHZhciBvPTAsaT1yLmxlbmd0aDtvPGk7bysrKXt2YXIgYT1yW29dO2lmKGEmJiExPT09YS5mdW5jLmNhbGwoYS5zY29wZSxlKSYmZS5wcmV2ZW50RGVmYXVsdCgpLGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlyZXR1cm59fSxsaS5FdmVudD1uZXcgbGksbGkpO2Z1bmN0aW9uIGxpKCl7dGhpcy5kb21Mb2FkZWQ9ITEsdGhpcy5ldmVudHM9e30sdGhpcy5jb3VudD0xLHRoaXMuZXhwYW5kbz0ibWNlLWRhdGEtIisoK25ldyBEYXRlKS50b1N0cmluZygzMiksdGhpcy5oYXNNb3VzZUVudGVyTGVhdmU9Im9ubW91c2VlbnRlciJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5oYXNGb2N1c0luPSJvbmZvY3VzaW4iaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuY291bnQ9MX1mdW5jdGlvbiBmaShlLHQsbil7dmFyIHI9IjB4Iit0LTY1NTM2O3JldHVybiByIT1yfHxuP3Q6cjwwP1N0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzYrcik6U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMHw1NTI5NiwxMDIzJnJ8NTYzMjApfXZhciBkaSxtaSxnaSxwaSxoaSx2aSxiaSx5aSxDaSx4aSx3aSxTaSxOaSxFaSxraSxfaSxBaSxSaT0ic2l6emxlIistbmV3IERhdGUsRGk9d2luZG93LmRvY3VtZW50LFRpPTAsT2k9MCxCaT1sYSgpLFBpPWxhKCksTGk9bGEoKSxJaT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKHhpPSEwKSwwfSxNaT0idW5kZWZpbmVkIixGaT17fS5oYXNPd25Qcm9wZXJ0eSxVaT1bXSx6aT1VaS5wb3AsSGk9VWkucHVzaCxqaT1VaS5wdXNoLFZpPVVpLnNsaWNlLHFpPVVpLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5sZW5ndGg7dDxuO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sJGk9IltcXHgyMFxcdFxcclxcblxcZl0iLFdpPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsS2k9IlxcWyIrJGkrIiooIitXaSsiKSg/OiIrJGkrIiooWypeJHwhfl0/PSkiKyRpKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrV2krIikpfCkiKyRpKyIqXFxdIixYaT0iOigiK1dpKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitLaSsiKSopfC4qKVxcKXwpIixZaT1uZXcgUmVnRXhwKCJeIiskaSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIiskaSsiKyQiLCJnIiksR2k9bmV3IFJlZ0V4cCgiXiIrJGkrIiosIiskaSsiKiIpLEppPW5ldyBSZWdFeHAoIl4iKyRpKyIqKFs+K35dfCIrJGkrIikiKyRpKyIqIiksUWk9bmV3IFJlZ0V4cCgiPSIrJGkrIiooW15cXF0nXCJdKj8pIiskaSsiKlxcXSIsImciKSxaaT1uZXcgUmVnRXhwKFhpKSxlYT1uZXcgUmVnRXhwKCJeIitXaSsiJCIpLHRhPXtJRDpuZXcgUmVnRXhwKCJeIygiK1dpKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK1dpKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitXaSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK0tpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrWGkpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrJGkrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiKyRpKyIqKD86KFsrLV18KSIrJGkrIiooXFxkKyl8KSkiKyRpKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrJGkrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrJGkrIiooKD86LVxcZCk/XFxkKikiKyRpKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxuYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLHJhPS9eaFxkJC9pLG9hPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxpYT0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGFhPS9bK35dLyx1YT0vJ3xcXC9nLHNhPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrJGkrIj98KCIrJGkrIil8LikiLCJpZyIpO3RyeXtqaS5hcHBseShVaT1WaS5jYWxsKERpLmNoaWxkTm9kZXMpLERpLmNoaWxkTm9kZXMpLFVpW0RpLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlKXtqaT17YXBwbHk6VWkubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7SGkuYXBwbHkoZSxWaS5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj0wO2VbbisrXT10W3IrK107KTtlLmxlbmd0aD1uLTF9fX12YXIgY2E9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjLGwsZixkLG07aWYoKHQ/dC5vd25lckRvY3VtZW50fHx0OkRpKSE9PVNpJiZ3aSh0KSxuPW58fFtdLCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG47aWYoMSE9PSh1PSh0PXR8fFNpKS5ub2RlVHlwZSkmJjkhPT11KXJldHVybltdO2lmKEVpJiYhcil7aWYobz1pYS5leGVjKGUpKWlmKGE9b1sxXSl7aWYoOT09PXUpe2lmKCEoaT10LmdldEVsZW1lbnRCeUlkKGEpKXx8IWkucGFyZW50Tm9kZSlyZXR1cm4gbjtpZihpLmlkPT09YSlyZXR1cm4gbi5wdXNoKGkpLG59ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJihpPXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSkmJkFpKHQsaSkmJmkuaWQ9PT1hKXJldHVybiBuLnB1c2goaSksbn1lbHNle2lmKG9bMl0pcmV0dXJuIGppLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSksbjtpZigoYT1vWzNdKSYmZGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gamkuYXBwbHkobix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSkpLG59aWYoZGkucXNhJiYoIWtpfHwha2kudGVzdChlKSkpe2lmKGY9bD1SaSxkPXQsbT05PT09dSYmZSwxPT09dSYmIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2ZvcihjPWhpKGUpLChsPXQuZ2V0QXR0cmlidXRlKCJpZCIpKT9mPWwucmVwbGFjZSh1YSwiXFwkJiIpOnQuc2V0QXR0cmlidXRlKCJpZCIsZiksZj0iW2lkPSciK2YrIiddICIscz1jLmxlbmd0aDtzLS07KWNbc109ZitoYShjW3NdKTtkPWFhLnRlc3QoZSkmJmdhKHQucGFyZW50Tm9kZSl8fHQsbT1jLmpvaW4oIiwiKX1pZihtKXRyeXtyZXR1cm4gamkuYXBwbHkobixkLnF1ZXJ5U2VsZWN0b3JBbGwobSkpLG59Y2F0Y2goZSl7fWZpbmFsbHl7bHx8dC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gYmkoZS5yZXBsYWNlKFlpLCIkMSIpLHQsbixyKX07ZnVuY3Rpb24gbGEoKXt2YXIgbj1bXTtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIG4ucHVzaChlKyIgIik+bWkuY2FjaGVMZW5ndGgmJmRlbGV0ZSByW24uc2hpZnQoKV0scltlKyIgIl09dH1yZXR1cm4gcn1mdW5jdGlvbiBmYShlKXtyZXR1cm4gZVtSaV09ITAsZX1mdW5jdGlvbiBkYShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJih+dC5zb3VyY2VJbmRleHx8MTw8MzEpLSh+ZS5zb3VyY2VJbmRleHx8MTw8MzEpO2lmKHIpcmV0dXJuIHI7aWYobilmb3IoO249bi5uZXh0U2libGluZzspaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZmEoZnVuY3Rpb24oaSl7cmV0dXJuIGk9K2ksZmEoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1hKFtdLGUubGVuZ3RoLGkpLG89ci5sZW5ndGg7by0tOyllW249cltvXV0mJihlW25dPSEodFtuXT1lW25dKSl9KX0pfWZ1bmN0aW9uIGdhKGUpe3JldHVybiBlJiZ0eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9TWkmJmV9ZnVuY3Rpb24gcGEoKXt9ZnVuY3Rpb24gaGEoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxyPSIiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiB2YShhLGUsdCl7dmFyIHU9ZS5kaXIscz10JiYicGFyZW50Tm9kZSI9PT11LGM9T2krKztyZXR1cm4gZS5maXJzdD9mdW5jdGlvbihlLHQsbil7Zm9yKDtlPWVbdV07KWlmKDE9PT1lLm5vZGVUeXBlfHxzKXJldHVybiBhKGUsdCxuKX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1bVGksY107aWYobil7Zm9yKDtlPWVbdV07KWlmKCgxPT09ZS5ub2RlVHlwZXx8cykmJmEoZSx0LG4pKXJldHVybiEwfWVsc2UgZm9yKDtlPWVbdV07KWlmKDE9PT1lLm5vZGVUeXBlfHxzKXtpZigocj0obz1lW1JpXXx8KGVbUmldPXt9KSlbdV0pJiZyWzBdPT09VGkmJnJbMV09PT1jKXJldHVybiBpWzJdPXJbMl07aWYoKG9bdV09aSlbMl09YShlLHQsbikpcmV0dXJuITB9fX1mdW5jdGlvbiBiYShvKXtyZXR1cm4gMTxvLmxlbmd0aD9mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW8ubGVuZ3RoO3ItLTspaWYoIW9bcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTpvWzBdfWZ1bmN0aW9uIHlhKGUsdCxuLHIsbyl7Zm9yKHZhciBpLGE9W10sdT0wLHM9ZS5sZW5ndGgsYz1udWxsIT10O3U8czt1KyspKGk9ZVt1XSkmJihuJiYhbihpLHIsbyl8fChhLnB1c2goaSksYyYmdC5wdXNoKHUpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2EoZSl7cmV0dXJuIHZvaWQgMCE9PWV9ZnVuY3Rpb24geGEoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIHdhKGUsdCl7dmFyIG4scj0odD10fHxSYSkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbz10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3Ioci5pbm5lckhUTUw9ZTtuPXIuZmlyc3RDaGlsZDspby5hcHBlbmRDaGlsZChuKTtyZXR1cm4gb31mdW5jdGlvbiBTYShlLHQpe3JldHVybiBlJiZ0JiYtMSE9PSgiICIrZS5jbGFzc05hbWUrIiAiKS5pbmRleE9mKCIgIit0KyIgIil9ZnVuY3Rpb24gTmEoZSx0LG4pe3ZhciByLG87cmV0dXJuIHQ9WWEodClbMF0sZS5lYWNoKGZ1bmN0aW9uKCl7biYmcj09PXRoaXMucGFyZW50Tm9kZXx8KHI9dGhpcy5wYXJlbnROb2RlLG89dC5jbG9uZU5vZGUoITEpLHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyx0aGlzKSksby5hcHBlbmRDaGlsZCh0aGlzKX0pLGV9ZnVuY3Rpb24gRWEoZSx0KXtyZXR1cm4gbmV3IFlhLmZuLmluaXQoZSx0KX1mdW5jdGlvbiBrYShlKXtyZXR1cm4gbnVsbD09ZT8iIjooIiIrZSkucmVwbGFjZShqYSwiIil9ZnVuY3Rpb24gX2EoZSx0KXt2YXIgbixyLG8saTtpZihlKWlmKHZvaWQgMD09PShuPWUubGVuZ3RoKSl7Zm9yKHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpJiYoaT1lW3JdLCExPT09dC5jYWxsKGkscixpKSkpYnJlYWt9ZWxzZSBmb3Iobz0wO288biYmKGk9ZVtvXSwhMSE9PXQuY2FsbChpLG8saSkpO28rKyk7cmV0dXJuIGV9ZnVuY3Rpb24gQWEoZSxuKXt2YXIgcj1bXTtyZXR1cm4gX2EoZSxmdW5jdGlvbihlLHQpe24odCxlKSYmci5wdXNoKHQpfSkscn1kaT1jYS5zdXBwb3J0PXt9LHBpPWNhLmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hIXQmJiJIVE1MIiE9PXQubm9kZU5hbWV9LHdpPWNhLnNldERvY3VtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LHM9ZT9lLm93bmVyRG9jdW1lbnR8fGU6RGksbj1zLmRlZmF1bHRWaWV3O3JldHVybiBzIT09U2kmJjk9PT1zLm5vZGVUeXBlJiZzLmRvY3VtZW50RWxlbWVudD8oTmk9KFNpPXMpLmRvY3VtZW50RWxlbWVudCxFaT0hcGkocyksbiYmbiE9PWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS50b3B9Y2F0Y2goZSl7fXJldHVybiBudWxsfShuKSYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZnVuY3Rpb24oKXt3aSgpfSwhMSk6bi5hdHRhY2hFdmVudCYmbi5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7d2koKX0pKSxkaS5hdHRyaWJ1dGVzPSEwLGRpLmdldEVsZW1lbnRzQnlUYWdOYW1lPSEwLGRpLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9b2EudGVzdChzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGRpLmdldEJ5SWQ9ITAsbWkuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRCeUlkIT1NaSYmRWkpe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4mJm4ucGFyZW50Tm9kZT9bbl06W119fSxtaS5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHNhLGZpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LG1pLmZpbmQuVEFHPWRpLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPU1pKXJldHVybiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10sbz0wLGk9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiIhPT1lKXJldHVybiBpO2Zvcig7bj1pW28rK107KTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9LG1pLmZpbmQuQ0xBU1M9ZGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSx0KXtpZihFaSlyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxfaT1bXSxraT1bXSxkaS5kaXNjb25uZWN0ZWRNYXRjaD0hMCxraT1raS5sZW5ndGgmJm5ldyBSZWdFeHAoa2kuam9pbigifCIpKSxfaT1faS5sZW5ndGgmJm5ldyBSZWdFeHAoX2kuam9pbigifCIpKSx0PW9hLnRlc3QoTmkuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLEFpPXR8fG9hLnRlc3QoTmkuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodClmb3IoO3Q9dC5wYXJlbnROb2RlOylpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sSWk9dD9mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8oeGk9ITAsMCk6KG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24pfHwoMSYobj0oZS5vd25lckRvY3VtZW50fHxlKT09PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkaS5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1uP2U9PT1zfHxlLm93bmVyRG9jdW1lbnQ9PT1EaSYmQWkoRGksZSk/LTE6dD09PXN8fHQub3duZXJEb2N1bWVudD09PURpJiZBaShEaSx0KT8xOkNpP3FpLmNhbGwoQ2ksZSktcWkuY2FsbChDaSx0KTowOjQmbj8tMToxKTt2YXIgbn06ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4geGk9ITAsMDt2YXIgbixyPTAsbz1lLnBhcmVudE5vZGUsaT10LnBhcmVudE5vZGUsYT1bZV0sdT1bdF07aWYoIW98fCFpKXJldHVybiBlPT09cz8tMTp0PT09cz8xOm8/LTE6aT8xOkNpP3FpLmNhbGwoQ2ksZSktcWkuY2FsbChDaSx0KTowO2lmKG89PT1pKXJldHVybiBkYShlLHQpO2ZvcihuPWU7bj1uLnBhcmVudE5vZGU7KWEudW5zaGlmdChuKTtmb3Iobj10O249bi5wYXJlbnROb2RlOyl1LnVuc2hpZnQobik7Zm9yKDthW3JdPT09dVtyXTspcisrO3JldHVybiByP2RhKGFbcl0sdVtyXSk6YVtyXT09PURpPy0xOnVbcl09PT1EaT8xOjB9LHMpOlNpfSxjYS5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNhKGUsbnVsbCxudWxsLHQpfSxjYS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtpZigoZS5vd25lckRvY3VtZW50fHxlKSE9PVNpJiZ3aShlKSx0PXQucmVwbGFjZShRaSwiPSckMSddIiksZGkubWF0Y2hlc1NlbGVjdG9yJiZFaSYmKCFfaXx8IV9pLnRlc3QodCkpJiYoIWtpfHwha2kudGVzdCh0KSkpdHJ5e3ZhciBuPSh2b2lkIDApLmNhbGwoZSx0KTtpZihufHxkaS5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe31yZXR1cm4gMDxjYSh0LFNpLG51bGwsW2VdKS5sZW5ndGh9LGNhLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPT1TaSYmd2koZSksQWkoZSx0KX0sY2EuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09U2kmJndpKGUpO3ZhciBuPW1pLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJkZpLmNhbGwobWkuYXR0ckhhbmRsZSx0LnRvTG93ZXJDYXNlKCkpP24oZSx0LCFFaSk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1yP3I6ZGkuYXR0cmlidXRlc3x8IUVpP2UuZ2V0QXR0cmlidXRlKHQpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0sY2EuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2UpfSxjYS51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LG49W10scj0wLG89MDtpZih4aT0hZGkuZGV0ZWN0RHVwbGljYXRlcyxDaT0hZGkuc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoSWkpLHhpKXtmb3IoO3Q9ZVtvKytdOyl0PT09ZVtvXSYmKHI9bi5wdXNoKG8pKTtmb3IoO3ItLTspZS5zcGxpY2UobltyXSwxKX1yZXR1cm4gQ2k9bnVsbCxlfSxnaT1jYS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLG89ZS5ub2RlVHlwZTtpZihvKXtpZigxPT09b3x8OT09PW98fDExPT09byl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1naShlKX1lbHNlIGlmKDM9PT1vfHw0PT09bylyZXR1cm4gZS5ub2RlVmFsdWV9ZWxzZSBmb3IoO3Q9ZVtyKytdOyluKz1naSh0KTtyZXR1cm4gbn0sKG1pPWNhLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmZhLG1hdGNoOnRhLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2Uoc2EsZmkpLGVbM109KGVbM118fGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKHNhLGZpKSwifj0iPT09ZVsyXSYmKGVbM109IiAiK2VbM10rIiAiKSxlLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8Y2EuZXJyb3IoZVswXSksZVs0XT0rKGVbNF0/ZVs1XSsoZVs2XXx8MSk6MiooImV2ZW4iPT09ZVszXXx8Im9kZCI9PT1lWzNdKSksZVs1XT0rKGVbN10rZVs4XXx8Im9kZCI9PT1lWzNdKSk6ZVszXSYmY2EuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIHRhLkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fCIiOm4mJlppLnRlc3QobikmJih0PWhpKG4sITApKSYmKHQ9bi5pbmRleE9mKCIpIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShzYSxmaSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9QmlbZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiKyRpKyIpIitlKyIoIiskaSsifCQpIikpJiZCaShlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fHR5cGVvZiBlLmdldEF0dHJpYnV0ZSE9TWkmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHIsbyl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWNhLmF0dHIoZSxuKTtyZXR1cm4gbnVsbD09dD8iIT0iPT09cjohcnx8KHQrPSIiLCI9Ij09PXI/dD09PW86IiE9Ij09PXI/dCE9PW86Il49Ij09PXI/byYmMD09PXQuaW5kZXhPZihvKToiKj0iPT09cj9vJiYtMTx0LmluZGV4T2Yobyk6IiQ9Ij09PXI/byYmdC5zbGljZSgtby5sZW5ndGgpPT09bzoifj0iPT09cj8tMTwoIiAiK3QrIiAiKS5pbmRleE9mKG8pOiJ8PSI9PT1yJiYodD09PW98fHQuc2xpY2UoMCxvLmxlbmd0aCsxKT09PW8rIi0iKSl9fSxDSElMRDpmdW5jdGlvbihtLGUsdCxnLHApe3ZhciBoPSJudGgiIT09bS5zbGljZSgwLDMpLHY9Imxhc3QiIT09bS5zbGljZSgtNCksYj0ib2YtdHlwZSI9PT1lO3JldHVybiAxPT09ZyYmMD09PXA/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYz1oIT12PyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsbD1lLnBhcmVudE5vZGUsZj1iJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZD0hbiYmIWI7aWYobCl7aWYoaCl7Zm9yKDtjOyl7Zm9yKGk9ZTtpPWlbY107KWlmKGI/aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09aS5ub2RlVHlwZSlyZXR1cm4hMTtzPWM9Im9ubHkiPT09bSYmIXMmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYocz1bdj9sLmZpcnN0Q2hpbGQ6bC5sYXN0Q2hpbGRdLHYmJmQpe2Zvcih1PShyPShvPWxbUmldfHwobFtSaV09e30pKVttXXx8W10pWzBdPT09VGkmJnJbMV0sYT1yWzBdPT09VGkmJnJbMl0saT11JiZsLmNoaWxkTm9kZXNbdV07aT0rK3UmJmkmJmlbY118fChhPXU9MCl8fHMucG9wKCk7KWlmKDE9PT1pLm5vZGVUeXBlJiYrK2EmJmk9PT1lKXtvW21dPVtUaSx1LGFdO2JyZWFrfX1lbHNlIGlmKGQmJihyPShlW1JpXXx8KGVbUmldPXt9KSlbbV0pJiZyWzBdPT09VGkpYT1yWzFdO2Vsc2UgZm9yKDsoaT0rK3UmJmkmJmlbY118fChhPXU9MCl8fHMucG9wKCkpJiYoKGI/aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ZjoxIT09aS5ub2RlVHlwZSl8fCErK2F8fChkJiYoKGlbUmldfHwoaVtSaV09e30pKVttXT1bVGksYV0pLGkhPT1lKSk7KTtyZXR1cm4oYS09cCk9PT1nfHxhJWc9PTAmJjA8PWEvZ319fSxQU0VVRE86ZnVuY3Rpb24oZSxpKXt2YXIgdCxhPW1pLnBzZXVkb3NbZV18fG1pLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8Y2EuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gYVtSaV0/YShpKToxPGEubGVuZ3RoPyh0PVtlLGUsIiIsaV0sbWkuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2ZhKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9YShlLGkpLG89ci5sZW5ndGg7by0tOyllW249cWkuY2FsbChlLHJbb10pXT0hKHRbbl09cltvXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gYShlLDAsdCl9KTphfX0scHNldWRvczp7bm90OmZhKGZ1bmN0aW9uKGUpe3ZhciByPVtdLG89W10sdT12aShlLnJlcGxhY2UoWWksIiQxIikpO3JldHVybiB1W1JpXT9mYShmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG8saT11KGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO2EtLTspKG89aVthXSkmJihlW2FdPSEodFthXT1vKSl9KTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHJbMF09ZSx1KHIsbnVsbCxuLG8pLHJbMF09bnVsbCwhby5wb3AoKX19KSxoYXM6ZmEoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAwPGNhKHQsZSkubGVuZ3RofX0pLGNvbnRhaW5zOmZhKGZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZShzYSxmaSksZnVuY3Rpb24oZSl7cmV0dXJuLTE8KGUudGV4dENvbnRlbnR8fGUuaW5uZXJUZXh0fHxnaShlKSkuaW5kZXhPZih0KX19KSxsYW5nOmZhKGZ1bmN0aW9uKG4pe3JldHVybiBlYS50ZXN0KG58fCIiKXx8Y2EuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2Uoc2EsZmkpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oZSl7dmFyIHQ7ZG97aWYodD1FaT9lLmxhbmc6ZS5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGUuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKHQ9dC50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT10LmluZGV4T2YobisiLSIpfXdoaWxlKChlPWUucGFyZW50Tm9kZSkmJjE9PT1lLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1OaX0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1TaS5hY3RpdmVFbGVtZW50JiYoIVNpLmhhc0ZvY3VzfHxTaS5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUuZGlzYWJsZWR9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIW1pLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gcmEudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG5hLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om1hKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDptYShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6bWEoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjptYShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDptYShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0Om1hKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6bWEoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPW1pLnBzZXVkb3MuZXEsWShbInJhZGlvIiwiY2hlY2tib3giLCJmaWxlIiwicGFzc3dvcmQiLCJpbWFnZSJdLGZ1bmN0aW9uKGUpe3ZhciB0O21pLnBzZXVkb3NbZV09KHQ9ZSxmdW5jdGlvbihlKXtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZlLnR5cGU9PT10fSl9KSxZKFsic3VibWl0IiwicmVzZXQiXSxmdW5jdGlvbihlKXt2YXIgbjttaS5wc2V1ZG9zW2VdPShuPWUsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09dHx8ImJ1dHRvbiI9PT10KSYmZS50eXBlPT09bn0pfSkscGEucHJvdG90eXBlPW1pLmZpbHRlcnM9bWkucHNldWRvcyxtaS5zZXRGaWx0ZXJzPW5ldyBwYSxoaT1jYS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGM9UGlbZSsiICJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO2ZvcihhPWUsdT1bXSxzPW1pLnByZUZpbHRlcjthOyl7Zm9yKGkgaW4gbiYmIShyPUdpLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHUucHVzaChvPVtdKSksbj0hMSwocj1KaS5leGVjKGEpKSYmKG49ci5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZShZaSwiICIpfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSksbWkuZmlsdGVyKW1pLmZpbHRlci5oYXNPd25Qcm9wZXJ0eShpKSYmKCEocj10YVtpXS5leGVjKGEpKXx8c1tpXSYmIShyPXNbaV0ocikpfHwobj1yLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6aSxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKSk7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/YS5sZW5ndGg6YT9jYS5lcnJvcihlKTpQaShlLHUpLnNsaWNlKDApfSx2aT1jYS5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4saCx2LGIseSxyPVtdLG89W10saT1MaVtlKyIgIl07aWYoIWkpe2ZvcihuPSh0PXR8fGhpKGUpKS5sZW5ndGg7bi0tOykoKGk9ZnVuY3Rpb24gZSh0KXtmb3IodmFyIG8sbixyLGk9dC5sZW5ndGgsYT1taS5yZWxhdGl2ZVt0WzBdLnR5cGVdLHU9YXx8bWkucmVsYXRpdmVbIiAiXSxzPWE/MTowLGM9dmEoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1vfSx1LCEwKSxsPXZhKGZ1bmN0aW9uKGUpe3JldHVybi0xPHFpLmNhbGwobyxlKX0sdSwhMCksZj1bZnVuY3Rpb24oZSx0LG4pe3ZhciByPSFhJiYobnx8dCE9PXlpKXx8KChvPXQpLm5vZGVUeXBlP2M6bCkoZSx0LG4pO3JldHVybiBvPW51bGwscn1dO3M8aTtzKyspaWYobj1taS5yZWxhdGl2ZVt0W3NdLnR5cGVdKWY9W3ZhKGJhKGYpLG4pXTtlbHNle2lmKChuPW1pLmZpbHRlclt0W3NdLnR5cGVdLmFwcGx5KG51bGwsdFtzXS5tYXRjaGVzKSlbUmldKXtmb3Iocj0rK3M7cjxpJiYhbWkucmVsYXRpdmVbdFtyXS50eXBlXTtyKyspO3JldHVybiBmdW5jdGlvbiBlKG0sZyxwLGgsdix0KXtyZXR1cm4gaCYmIWhbUmldJiYoaD1lKGgpKSx2JiYhdltSaV0mJih2PWUodix0KSksZmEoZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHU9W10scz1bXSxjPXQubGVuZ3RoLGw9ZXx8ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvO3IrKyljYShlLHRbcl0sbik7cmV0dXJuIG59KGd8fCIqIixuLm5vZGVUeXBlP1tuXTpuLFtdKSxmPSFtfHwhZSYmZz9sOnlhKGwsdSxtLG4sciksZD1wP3Z8fChlP206Y3x8aCk/W106dDpmO2lmKHAmJnAoZixkLG4sciksaClmb3Iobz15YShkLHMpLGgobyxbXSxuLHIpLGk9by5sZW5ndGg7aS0tOykoYT1vW2ldKSYmKGRbc1tpXV09IShmW3NbaV1dPWEpKTtpZihlKXtpZih2fHxtKXtpZih2KXtmb3Iobz1bXSxpPWQubGVuZ3RoO2ktLTspKGE9ZFtpXSkmJm8ucHVzaChmW2ldPWEpO3YobnVsbCxkPVtdLG8scil9Zm9yKGk9ZC5sZW5ndGg7aS0tOykoYT1kW2ldKSYmLTE8KG89dj9xaS5jYWxsKGUsYSk6dVtpXSkmJihlW29dPSEodFtvXT1hKSl9fWVsc2UgZD15YShkPT09dD9kLnNwbGljZShjLGQubGVuZ3RoKTpkKSx2P3YobnVsbCx0LGQscik6amkuYXBwbHkodCxkKX0pfSgxPHMmJmJhKGYpLDE8cyYmaGEodC5zbGljZSgwLHMtMSkuY29uY2F0KHt2YWx1ZToiICI9PT10W3MtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZShZaSwiJDEiKSxuLHM8ciYmZSh0LnNsaWNlKHMscikpLHI8aSYmZSh0PXQuc2xpY2UocikpLHI8aSYmaGEodCkpfWYucHVzaChuKX1yZXR1cm4gYmEoZil9KHRbbl0pKVtSaV0/cjpvKS5wdXNoKGkpOyhpPUxpKGUsKGg9byxiPTA8KHY9cikubGVuZ3RoLHk9MDxoLmxlbmd0aCxiP2ZhKGEpOmEpKSkuc2VsZWN0b3I9ZX1mdW5jdGlvbiBhKGUsdCxuLHIsbyl7dmFyIGksYSx1LHM9MCxjPSIwIixsPWUmJltdLGY9W10sZD15aSxtPWV8fHkmJm1pLmZpbmQuVEFHKCIqIixvKSxnPVRpKz1udWxsPT1kPzE6TWF0aC5yYW5kb20oKXx8LjEscD1tLmxlbmd0aDtmb3IobyYmKHlpPXQhPT1TaSYmdCk7YyE9PXAmJm51bGwhPShpPW1bY10pO2MrKyl7aWYoeSYmaSl7Zm9yKGE9MDt1PWhbYSsrXTspaWYodShpLHQsbikpe3IucHVzaChpKTticmVha31vJiYoVGk9Zyl9YiYmKChpPSF1JiZpKSYmcy0tLGUmJmwucHVzaChpKSl9aWYocys9YyxiJiZjIT09cyl7Zm9yKGE9MDt1PXZbYSsrXTspdShsLGYsdCxuKTtpZihlKXtpZigwPHMpZm9yKDtjLS07KWxbY118fGZbY118fChmW2NdPXppLmNhbGwocikpO2Y9eWEoZil9amkuYXBwbHkocixmKSxvJiYhZSYmMDxmLmxlbmd0aCYmMTxzK3YubGVuZ3RoJiZjYS51bmlxdWVTb3J0KHIpfXJldHVybiBvJiYoVGk9Zyx5aT1kKSxsfXJldHVybiBpfSxiaT1jYS5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGw9IXImJmhpKGU9Yy5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09bC5sZW5ndGgpe2lmKDI8KGk9bFswXT1sWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1pWzBdKS50eXBlJiZkaS5nZXRCeUlkJiY5PT09dC5ub2RlVHlwZSYmRWkmJm1pLnJlbGF0aXZlW2lbMV0udHlwZV0pe2lmKCEodD0obWkuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZShzYSxmaSksdCl8fFtdKVswXSkpcmV0dXJuIG47YyYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2UoaS5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89dGEubmVlZHNDb250ZXh0LnRlc3QoZSk/MDppLmxlbmd0aDtvLS0mJihhPWlbb10sIW1pLnJlbGF0aXZlW3U9YS50eXBlXSk7KWlmKChzPW1pLmZpbmRbdV0pJiYocj1zKGEubWF0Y2hlc1swXS5yZXBsYWNlKHNhLGZpKSxhYS50ZXN0KGlbMF0udHlwZSkmJmdhKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoaS5zcGxpY2UobywxKSwhKGU9ci5sZW5ndGgmJmhhKGkpKSlyZXR1cm4gamkuYXBwbHkobixyKSxuO2JyZWFrfX1yZXR1cm4oY3x8dmkoZSxsKSkocix0LCFFaSxuLGFhLnRlc3QoZSkmJmdhKHQucGFyZW50Tm9kZSl8fHQpLG59LGRpLnNvcnRTdGFibGU9Umkuc3BsaXQoIiIpLnNvcnQoSWkpLmpvaW4oIiIpPT09UmksZGkuZGV0ZWN0RHVwbGljYXRlcz0hIXhpLHdpKCksZGkuc29ydERldGFjaGVkPSEwO3ZhciBSYT1kb2N1bWVudCxEYT1BcnJheS5wcm90b3R5cGUucHVzaCxUYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsT2E9L14oPzpbXiM8XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSopJCkvLEJhPWNpLkV2ZW50LFBhPU50Lm1ha2VNYXAoImNoaWxkcmVuLGNvbnRlbnRzLG5leHQscHJldiIpLExhPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvO2lmKHhhKHQpKXQ9d2EodCxWYShlWzBdKSk7ZWxzZSBpZih0Lmxlbmd0aCYmIXQubm9kZVR5cGUpe2lmKHQ9WWEubWFrZUFycmF5KHQpLHIpZm9yKG89dC5sZW5ndGgtMTswPD1vO28tLSlMYShlLHRbb10sbixyKTtlbHNlIGZvcihvPTA7bzx0Lmxlbmd0aDtvKyspTGEoZSx0W29dLG4scik7cmV0dXJuIGV9aWYodC5ub2RlVHlwZSlmb3Iobz1lLmxlbmd0aDtvLS07KW4uY2FsbChlW29dLHQpO3JldHVybiBlfSxJYT1OdC5tYWtlTWFwKCJmaWxsT3BhY2l0eSBmb250V2VpZ2h0IGxpbmVIZWlnaHQgb3BhY2l0eSBvcnBoYW5zIHdpZG93cyB6SW5kZXggem9vbSIsIiAiKSxNYT1OdC5tYWtlTWFwKCJjaGVja2VkIGNvbXBhY3QgZGVjbGFyZSBkZWZlciBkaXNhYmxlZCBpc21hcCBtdWx0aXBsZSBub2hyZWYgbm9zaGFkZSBub3dyYXAgcmVhZG9ubHkgc2VsZWN0ZWQiLCIgIiksRmE9e2ZvcjoiaHRtbEZvciIsY2xhc3M6ImNsYXNzTmFtZSIscmVhZG9ubHk6InJlYWRPbmx5In0sVWE9e2Zsb2F0OiJjc3NGbG9hdCJ9LHphPXt9LEhhPXt9LGphPS9eXHMqfFxzKiQvZyxWYT1mdW5jdGlvbihlKXtyZXR1cm4gZT85PT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudDpSYX07ZnVuY3Rpb24gcWEoZSx0LG4pe3ZhciByPVtdLG89ZVt0XTtmb3IoInN0cmluZyIhPXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgWWEmJihuPW5bMF0pO28mJjkhPT1vLm5vZGVUeXBlOyl7aWYodm9pZCAwIT09bil7aWYobz09PW4pYnJlYWs7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZZYShvKS5pcyhuKSlicmVha30xPT09by5ub2RlVHlwZSYmci5wdXNoKG8pLG89b1t0XX1yZXR1cm4gcn1mdW5jdGlvbiAkYShlLHQsbixyKXt2YXIgbz1bXTtmb3IociBpbnN0YW5jZW9mIFlhJiYocj1yWzBdKTtlO2U9ZVt0XSlpZighbnx8ZS5ub2RlVHlwZT09PW4pe2lmKHZvaWQgMCE9PXIpe2lmKGU9PT1yKWJyZWFrO2lmKCJzdHJpbmciPT10eXBlb2YgciYmWWEoZSkuaXMocikpYnJlYWt9by5wdXNoKGUpfXJldHVybiBvfWZ1bmN0aW9uIFdhKGUsdCxuKXtmb3IoZT1lW3RdO2U7ZT1lW3RdKWlmKGUubm9kZVR5cGU9PT1uKXJldHVybiBlO3JldHVybiBudWxsfWZ1bmN0aW9uIEthKGUsdCl7dmFyIG49dC5hdHRyKCJzdHlsZSIpLHI9ZS5zZXJpYWxpemUoZS5wYXJzZShuKSx0WzBdLm5vZGVOYW1lKXx8bnVsbDt0LmF0dHIoImRhdGEtbWNlLXN0eWxlIixyKX1mdW5jdGlvbiBYYShlLHQpe3ZhciBuLHIsbz0wO2lmKGUpZm9yKG49ZS5ub2RlVHlwZSxlPWUucHJldmlvdXNTaWJsaW5nO2U7ZT1lLnByZXZpb3VzU2libGluZylyPWUubm9kZVR5cGUsKCF0fHwzIT09cnx8ciE9PW4mJmUubm9kZVZhbHVlLmxlbmd0aCkmJihvKyssbj1yKTtyZXR1cm4gb31FYS5mbj1FYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkVhLHNlbGVjdG9yOiIiLGNvbnRleHQ6bnVsbCxsZW5ndGg6MCxpbml0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXRoaXM7aWYoIWUpcmV0dXJuIG87aWYoZS5ub2RlVHlwZSlyZXR1cm4gby5jb250ZXh0PW9bMF09ZSxvLmxlbmd0aD0xLG87aWYodCYmdC5ub2RlVHlwZSlvLmNvbnRleHQ9dDtlbHNle2lmKHQpcmV0dXJuIFlhKGUpLmF0dHIodCk7by5jb250ZXh0PXQ9ZG9jdW1lbnR9aWYoeGEoZSkpe2lmKCEobj0iPCI9PT0oby5zZWxlY3Rvcj1lKS5jaGFyQXQoMCkmJiI+Ij09PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYzPD1lLmxlbmd0aD9bbnVsbCxlLG51bGxdOk9hLmV4ZWMoZSkpKXJldHVybiBZYSh0KS5maW5kKGUpO2lmKG5bMV0pZm9yKHI9d2EoZSxWYSh0KSkuZmlyc3RDaGlsZDtyOylEYS5jYWxsKG8scikscj1yLm5leHRTaWJsaW5nO2Vsc2V7aWYoIShyPVZhKHQpLmdldEVsZW1lbnRCeUlkKG5bMl0pKSlyZXR1cm4gbztpZihyLmlkIT09blsyXSlyZXR1cm4gby5maW5kKGUpO28ubGVuZ3RoPTEsb1swXT1yfX1lbHNlIHRoaXMuYWRkKGUsITEpO3JldHVybiBvfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIE50LnRvQXJyYXkodGhpcyl9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoeGEoZSkpcmV0dXJuIHRoaXMuYWRkKFlhKGUpKTtpZighMSE9PXQpZm9yKG49WWEudW5pcXVlKHRoaXMudG9BcnJheSgpLmNvbmNhdChZYS5tYWtlQXJyYXkoZSkpKSx0aGlzLmxlbmd0aD1uLmxlbmd0aCxyPTA7cjxuLmxlbmd0aDtyKyspdGhpc1tyXT1uW3JdO2Vsc2UgRGEuYXBwbHkodGhpcyxZYS5tYWtlQXJyYXkoZSkpO3JldHVybiB0aGlzfSxhdHRyOmZ1bmN0aW9uKHQsbil7dmFyIGUscj10aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgdClfYSh0LGZ1bmN0aW9uKGUsdCl7ci5hdHRyKGUsdCl9KTtlbHNle2lmKCFDYShuKSl7aWYoclswXSYmMT09PXJbMF0ubm9kZVR5cGUpe2lmKChlPXphW3RdKSYmZS5nZXQpcmV0dXJuIGUuZ2V0KHJbMF0sdCk7aWYoTWFbdF0pcmV0dXJuIHIucHJvcCh0KT90OnZvaWQgMDtudWxsPT09KG49clswXS5nZXRBdHRyaWJ1dGUodCwyKSkmJihuPXZvaWQgMCl9cmV0dXJuIG59dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJigoZT16YVt0XSkmJmUuc2V0P2Uuc2V0KHRoaXMsbik6bnVsbD09PW4/dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCwyKTp0aGlzLnNldEF0dHJpYnV0ZSh0LG4sMikpfSl9cmV0dXJuIHJ9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cihlLG51bGwpfSxwcm9wOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZigib2JqZWN0Ij09dHlwZW9mKGU9RmFbZV18fGUpKV9hKGUsZnVuY3Rpb24oZSx0KXtuLnByb3AoZSx0KX0pO2Vsc2V7aWYoIUNhKHQpKXJldHVybiBuWzBdJiZuWzBdLm5vZGVUeXBlJiZlIGluIG5bMF0/blswXVtlXTp0O3RoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiYodGhpc1tlXT10KX0pfXJldHVybiBufSxjc3M6ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBlKGUpe3JldHVybiBlLnJlcGxhY2UoLy0oXEQpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGUpe3JldHVybiItIitlfSl9dmFyIG8saSxhPXRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KV9hKHQsZnVuY3Rpb24oZSx0KXthLmNzcyhlLHQpfSk7ZWxzZSBpZihDYShuKSl0PWUodCksIm51bWJlciIhPXR5cGVvZiBufHxJYVt0XXx8KG49bi50b1N0cmluZygpKyJweCIpLGEuZWFjaChmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3R5bGU7aWYoKGk9SGFbdF0pJiZpLnNldClpLnNldCh0aGlzLG4pO2Vsc2V7dHJ5e3RoaXMuc3R5bGVbVWFbdF18fHRdPW59Y2F0Y2goZSl7fW51bGwhPT1uJiYiIiE9PW58fChlLnJlbW92ZVByb3BlcnR5P2UucmVtb3ZlUHJvcGVydHkocih0KSk6ZS5yZW1vdmVBdHRyaWJ1dGUodCkpfX0pO2Vsc2V7aWYobz1hWzBdLChpPUhhW3RdKSYmaS5nZXQpcmV0dXJuIGkuZ2V0KG8pO2lmKCFvLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpcmV0dXJuIG8uY3VycmVudFN0eWxlP28uY3VycmVudFN0eWxlW2UodCldOiIiO3RyeXtyZXR1cm4gby5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHIodCkpfWNhdGNoKGUpe3JldHVybn19cmV0dXJuIGF9LHJlbW92ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZT10aGlzW3RdLEJhLmNsZWFuKGUpLGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZm9yKGU9dGhpc1t0XTtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gdGhpc30saHRtbDpmdW5jdGlvbih0KXt2YXIgbjtpZihDYSh0KSl7bj10aGlzLmxlbmd0aDt0cnl7Zm9yKDtuLS07KXRoaXNbbl0uaW5uZXJIVE1MPXR9Y2F0Y2goZSl7WWEodGhpc1tuXSkuZW1wdHkoKS5hcHBlbmQodCl9cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXNbMF0/dGhpc1swXS5pbm5lckhUTUw6IiJ9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoQ2EoZSkpe2Zvcih0PXRoaXMubGVuZ3RoO3QtLTspImlubmVyVGV4dCJpbiB0aGlzW3RdP3RoaXNbdF0uaW5uZXJUZXh0PWU6dGhpc1swXS50ZXh0Q29udGVudD1lO3JldHVybiB0aGlzfXJldHVybiB0aGlzWzBdP3RoaXNbMF0uaW5uZXJUZXh0fHx0aGlzWzBdLnRleHRDb250ZW50OiIifSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gTGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gTGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7KDE9PT10aGlzLm5vZGVUeXBlfHx0aGlzLmhvc3QmJjE9PT10aGlzLmhvc3Qubm9kZVR5cGUpJiZ0aGlzLmluc2VydEJlZm9yZShlLHRoaXMuZmlyc3RDaGlsZCl9LCEwKX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT9MYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KTp0aGlzfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/TGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMubmV4dFNpYmxpbmcpfSwhMCk6dGhpc30sYXBwZW5kVG86ZnVuY3Rpb24oZSl7cmV0dXJuIFlhKGUpLmFwcGVuZCh0aGlzKSx0aGlzfSxwcmVwZW5kVG86ZnVuY3Rpb24oZSl7cmV0dXJuIFlhKGUpLnByZXBlbmQodGhpcyksdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYmVmb3JlKGUpLnJlbW92ZSgpfSx3cmFwOmZ1bmN0aW9uKGUpe3JldHVybiBOYSh0aGlzLGUpfSx3cmFwQWxsOmZ1bmN0aW9uKGUpe3JldHVybiBOYSh0aGlzLGUsITApfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1lhKHRoaXMpLmNvbnRlbnRzKCkud3JhcEFsbChlKX0pLHRoaXN9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtZYSh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2UucHVzaCh0aGlzLmNsb25lTm9kZSghMCkpfSksWWEoZSl9LGFkZENsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsITApfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhlLCExKX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obyxpKXt2YXIgZT10aGlzO3JldHVybiJzdHJpbmciIT10eXBlb2Ygb3x8KC0xIT09by5pbmRleE9mKCIgIik/X2Eoby5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7ZS50b2dnbGVDbGFzcyh0aGlzLGkpfSk6ZS5lYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1TYSh0LG8pO3IhPT1pJiYobj10LmNsYXNzTmFtZSxyP3QuY2xhc3NOYW1lPWthKCgiICIrbisiICIpLnJlcGxhY2UoIiAiK28rIiAiLCIgIikpOnQuY2xhc3NOYW1lKz1uPyIgIitvOm8pfSkpLGV9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBTYSh0aGlzWzBdLGUpfSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBfYSh0aGlzLGUpfSxvbjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtCYS5iaW5kKHRoaXMsZSx0KX0pfSxvZmY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7QmEudW5iaW5kKHRoaXMsZSx0KX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsib2JqZWN0Ij09dHlwZW9mIGU/QmEuZmlyZSh0aGlzLGUudHlwZSxlKTpCYS5maXJlKHRoaXMsZSl9KX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcygiZGlzcGxheSIsIiIpfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKCJkaXNwbGF5Iiwibm9uZSIpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBZYShUYS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxlcTpmdW5jdGlvbihlKXtyZXR1cm4tMT09PWU/dGhpcy5zbGljZShlKTp0aGlzLnNsaWNlKGUsK2UrMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGZpbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPXRoaXMubGVuZ3RoO248cjtuKyspWWEuZmluZChlLHRoaXNbbl0sdCk7cmV0dXJuIFlhKHQpfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIFlhKCJmdW5jdGlvbiI9PXR5cGVvZiBuP0FhKHRoaXMudG9BcnJheSgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4odCxlKX0pOllhLmZpbHRlcihuLHRoaXMudG9BcnJheSgpKSl9LGNsb3Nlc3Q6ZnVuY3Rpb24obil7dmFyIHI9W107cmV0dXJuIG4gaW5zdGFuY2VvZiBZYSYmKG49blswXSksdGhpcy5lYWNoKGZ1bmN0aW9uKGUsdCl7Zm9yKDt0Oyl7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZZYSh0KS5pcyhuKSl7ci5wdXNoKHQpO2JyZWFrfWlmKHQ9PT1uKXtyLnB1c2godCk7YnJlYWt9dD10LnBhcmVudE5vZGV9fSksWWEocil9LG9mZnNldDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPTAsYT0wO3JldHVybiBlP3RoaXMuY3NzKGUpOigodD10aGlzWzBdKSYmKHI9KG49dC5vd25lckRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQsdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihpPShvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmxlZnQrKHIuc2Nyb2xsTGVmdHx8bi5ib2R5LnNjcm9sbExlZnQpLXIuY2xpZW50TGVmdCxhPW8udG9wKyhyLnNjcm9sbFRvcHx8bi5ib2R5LnNjcm9sbFRvcCktci5jbGllbnRUb3ApKSx7bGVmdDppLHRvcDphfSl9LHB1c2g6RGEsc29ydDpBcnJheS5wcm90b3R5cGUuc29ydCxzcGxpY2U6QXJyYXkucHJvdG90eXBlLnNwbGljZX0sTnQuZXh0ZW5kKEVhLHtleHRlbmQ6TnQuZXh0ZW5kLG1ha2VBcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZT09PWUud2luZG93fHxlLm5vZGVUeXBlP1tlXTpOdC50b0FycmF5KGUpfSxpbkFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYodC5pbmRleE9mKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKG49dC5sZW5ndGg7bi0tOylpZih0W25dPT09ZSlyZXR1cm4gbjtyZXR1cm4tMX0saXNBcnJheTpOdC5pc0FycmF5LGVhY2g6X2EsdHJpbTprYSxncmVwOkFhLGZpbmQ6Y2EsZXhwcjpjYS5zZWxlY3RvcnMsdW5pcXVlOmNhLnVuaXF1ZVNvcnQsdGV4dDpjYS5nZXRUZXh0LGNvbnRhaW5zOmNhLmNvbnRhaW5zLGZpbHRlcjpmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5sZW5ndGg7Zm9yKG4mJihlPSI6bm90KCIrZSsiKSIpO3ItLTspMSE9PXRbcl0ubm9kZVR5cGUmJnQuc3BsaWNlKHIsMSk7cmV0dXJuIDE9PT10Lmxlbmd0aD9ZYS5maW5kLm1hdGNoZXNTZWxlY3Rvcih0WzBdLGUpP1t0WzBdXTpbXTpZYS5maW5kLm1hdGNoZXMoZSx0KX19KSxfYSh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gcWEoZSwicGFyZW50Tm9kZSIpfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBXYShlLCJuZXh0U2libGluZyIsMSl9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIFdhKGUsInByZXZpb3VzU2libGluZyIsMSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiAkYShlLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwxKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIE50LnRvQXJyYXkoKCJpZnJhbWUiPT09ZS5ub2RlTmFtZT9lLmNvbnRlbnREb2N1bWVudHx8ZS5jb250ZW50V2luZG93LmRvY3VtZW50OmUpLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24ocixvKXtFYS5mbltyXT1mdW5jdGlvbih0KXt2YXIgbj1bXTt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwobix0aGlzLHQsbik7ZSYmKFlhLmlzQXJyYXkoZSk/bi5wdXNoLmFwcGx5KG4sZSk6bi5wdXNoKGUpKX0pLDE8dGhpcy5sZW5ndGgmJihQYVtyXXx8KG49WWEudW5pcXVlKG4pKSwwPT09ci5pbmRleE9mKCJwYXJlbnRzIikmJihuPW4ucmV2ZXJzZSgpKSk7dmFyIGU9WWEobik7cmV0dXJuIHQ/ZS5maWx0ZXIodCk6ZX19KSxfYSh7cGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHFhKGUsInBhcmVudE5vZGUiLHQpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJGEoZSwibmV4dFNpYmxpbmciLDEsdCkuc2xpY2UoMSl9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQpe3JldHVybiAkYShlLCJwcmV2aW91c1NpYmxpbmciLDEsdCkuc2xpY2UoMSl9fSxmdW5jdGlvbihvLGkpe0VhLmZuW29dPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9aS5jYWxsKG4sdGhpcyx0LG4pO2UmJihZYS5pc0FycmF5KGUpP24ucHVzaC5hcHBseShuLGUpOm4ucHVzaChlKSl9KSwxPHRoaXMubGVuZ3RoJiYobj1ZYS51bmlxdWUobiksMCE9PW8uaW5kZXhPZigicGFyZW50cyIpJiYicHJldlVudGlsIiE9PW98fChuPW4ucmV2ZXJzZSgpKSk7dmFyIHI9WWEobik7cmV0dXJuIGU/ci5maWx0ZXIoZSk6cn19KSxFYS5mbi5pcz1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJjA8dGhpcy5maWx0ZXIoZSkubGVuZ3RofSxFYS5mbi5pbml0LnByb3RvdHlwZT1FYS5mbixFYS5vdmVycmlkZURlZmF1bHRzPWZ1bmN0aW9uKG4pe3ZhciByLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj1yfHxuKCksMD09PWFyZ3VtZW50cy5sZW5ndGgmJihlPXIuZWxlbWVudCksdD10fHxyLmNvbnRleHQsbmV3IG8uZm4uaW5pdChlLHQpfTtyZXR1cm4gWWEuZXh0ZW5kKG8sdGhpcyksb30sRWEuYXR0ckhvb2tzPXphLEVhLmNzc0hvb2tzPUhhO3ZhciBZYT1FYSxHYT1OdC5lYWNoLEphPU50LmdyZXAsUWE9eHQuaWUsWmE9L14oW2EtejAtOV0sPykrJC9pLGV1PWZ1bmN0aW9uKGEsdSl7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmYSYmWChlKT9hLmdldEVsZW1lbnRCeUlkKGUpOmV9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gSCgic3RyaW5nIj09dHlwZW9mIGU/cyhlKTplKX1mdW5jdGlvbiByKGUsdCxuKXt2YXIgcixvLGk9YyhlKTtyZXR1cm4gdm9pZCAwPT09KG89aS5sZW5ndGg/KHI9V1t0XSkmJnIuZ2V0P3IuZ2V0KGksdCk6aS5hdHRyKHQpOm8pP258fCIiOm99ZnVuY3Rpb24gbyhlKXt2YXIgdD1zKGUpO3JldHVybiB0P3QuYXR0cmlidXRlczpbXX1mdW5jdGlvbiBpKGUsdCxuKXsiIj09PW4mJihuPW51bGwpO3ZhciByLG89YyhlKSxpPW8uYXR0cih0KTtvLmxlbmd0aCYmKChyPVdbdF0pJiZyLnNldD9yLnNldChvLG4sdCk6by5hdHRyKHQsbiksaSE9PW4mJnUub25TZXRBdHRyaWImJnUub25TZXRBdHRyaWIoe2F0dHJFbG06byxhdHRyTmFtZTp0LGF0dHJWYWx1ZTpufSkpfWZ1bmN0aW9uIGwoKXtyZXR1cm4gdS5yb290X2VsZW1lbnR8fGEuYm9keX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvPTAsaT0wLGE9ZS5vd25lckRvY3VtZW50O2lmKG49bnx8ZSx0KXtpZihuPT09ZSYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJiJzdGF0aWMiPT09d24oRXQuZnJvbURvbShlKSwicG9zaXRpb24iKSl7dmFyIHU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57eDpvPXUubGVmdCsoYS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZS5zY3JvbGxMZWZ0KS1hLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0LHk6aT11LnRvcCsoYS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxlLnNjcm9sbFRvcCktYS5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wfX1mb3IodmFyIHM9dDtzJiZzIT09biYmcy5ub2RlVHlwZSYmIWtuKHMsbik7KXt2YXIgYz1zO28rPWMub2Zmc2V0TGVmdHx8MCxpKz1jLm9mZnNldFRvcHx8MCxzPWMub2Zmc2V0UGFyZW50fWZvcihzPXQucGFyZW50Tm9kZTtzJiZzIT09biYmcy5ub2RlVHlwZSYmIWtuKHMsbik7KW8tPXMuc2Nyb2xsTGVmdHx8MCxpLT1zLnNjcm9sbFRvcHx8MCxzPXMucGFyZW50Tm9kZTtpKz0ocj1FdC5mcm9tRG9tKHQpLGVyLmlzRmlyZWZveCgpJiYidGFibGUiPT09a3Qocik/RW4oVG4ocikpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iY2FwdGlvbiI9PT1rdChlKX0pLmJpbmQoZnVuY3Rpb24obyl7cmV0dXJuIEVuKEl0KG8pKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20ub2Zmc2V0VG9wLG49by5kb20ub2Zmc2V0VG9wLHI9by5kb20ub2Zmc2V0SGVpZ2h0O3JldHVybiB0PD1uPy1yOjB9KX0pLmdldE9yKDApOjApfXJldHVybnt4Om8seTppfX0oYS5ib2R5LHMoZSksdCl9ZnVuY3Rpb24gZChlLHQsbil7dmFyIHI9YyhlKTtyZXR1cm4gbj9yLmNzcyh0KTooImZsb2F0Ij09PSh0PXQucmVwbGFjZSgvLShcRCkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KSkmJih0PXh0LmJyb3dzZXIuaXNJRSgpPyJzdHlsZUZsb2F0IjoiY3NzRmxvYXQiKSxyWzBdJiZyWzBdLnN0eWxlP3JbMF0uc3R5bGVbdF06dm9pZCAwKX1mdW5jdGlvbiBtKGUpe3ZhciB0PWQoZT1zKGUpLCJ3aWR0aCIpLG49ZChlLCJoZWlnaHQiKTtyZXR1cm4tMT09PXQuaW5kZXhPZigicHgiKSYmKHQ9MCksLTE9PT1uLmluZGV4T2YoInB4IikmJihuPTApLHt3OnBhcnNlSW50KHQsMTApfHxlLm9mZnNldFdpZHRofHxlLmNsaWVudFdpZHRoLGg6cGFyc2VJbnQobiwxMCl8fGUub2Zmc2V0SGVpZ2h0fHxlLmNsaWVudEhlaWdodH19ZnVuY3Rpb24gZyhlLHQpe2lmKCFlKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KGUpKXtpZigiKiI9PT10KXJldHVybiAxPT09ZS5ub2RlVHlwZTtpZihaYS50ZXN0KHQpKXtmb3IodmFyIG49dC50b0xvd2VyQ2FzZSgpLnNwbGl0KC8sLykscj1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbz1uLmxlbmd0aC0xOzA8PW87by0tKWlmKG5bb109PT1yKXJldHVybiEwO3JldHVybiExfWlmKGUubm9kZVR5cGUmJjEhPT1lLm5vZGVUeXBlKXJldHVybiExfXZhciBpPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV07cmV0dXJuIDA8Y2EodCxpWzBdLm93bmVyRG9jdW1lbnR8fGlbMF0sbnVsbCxpKS5sZW5ndGh9ZnVuY3Rpb24gcChlLHQsbixyKXt2YXIgbyxpPVtdLGE9cyhlKTtmb3Iocj12b2lkIDA9PT1yLG49bnx8KCJCT0RZIiE9PWwoKS5ub2RlTmFtZT9sKCkucGFyZW50Tm9kZTpudWxsKSxOdC5pcyh0LCJzdHJpbmciKSYmKHQ9IioiPT09KG89dCk/ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZyhlLG8pfSk7YSYmIShhPT09bnx8SyhhLm5vZGVUeXBlKXx8JG4oYSl8fFduKGEpKTspe2lmKCF0fHwiZnVuY3Rpb24iPT10eXBlb2YgdCYmdChhKSl7aWYoIXIpcmV0dXJuW2FdO2kucHVzaChhKX1hPWEucGFyZW50Tm9kZX1yZXR1cm4gcj9pOm51bGx9ZnVuY3Rpb24gbihlLHQsbil7dmFyIHI9dDtpZihlKWZvcigic3RyaW5nIj09dHlwZW9mIHQmJihyPWZ1bmN0aW9uKGUpe3JldHVybiBnKGUsdCl9KSxlPWVbbl07ZTtlPWVbbl0paWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJnIoZSkpcmV0dXJuIGU7cmV0dXJuIG51bGx9ZnVuY3Rpb24gaChlLG4scil7dmFyIG8sdD0ic3RyaW5nIj09dHlwZW9mIGU/cyhlKTplO3JldHVybiEhdCYmKE50LmlzQXJyYXkodCkmJih0Lmxlbmd0aHx8MD09PXQubGVuZ3RoKT8obz1bXSxHYSh0LGZ1bmN0aW9uKGUsdCl7ZSYmby5wdXNoKG4uY2FsbChyLCJzdHJpbmciPT10eXBlb2YgZT9zKGUpOmUsdCkpfSksbyk6bi5jYWxsKHJ8fHRoaXMsdCkpfWZ1bmN0aW9uIHYoZSx0KXtjKGUpLmVhY2goZnVuY3Rpb24oZSxuKXtHYSh0LGZ1bmN0aW9uKGUsdCl7aShuLHQsZSl9KX0pfWZ1bmN0aW9uIGIoZSxuKXt2YXIgdD1jKGUpO1FhP3QuZWFjaChmdW5jdGlvbihlLHQpe2lmKCExIT09dC5jYW5IYXZlSFRNTCl7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0cnl7dC5pbm5lckhUTUw9Ijxicj4iK24sdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpfWNhdGNoKGUpe1lhKCI8ZGl2PjwvZGl2PiIpLmh0bWwoIjxicj4iK24pLmNvbnRlbnRzKCkuc2xpY2UoMSkuYXBwZW5kVG8odCl9cmV0dXJuIG59fSk6dC5odG1sKG4pfWZ1bmN0aW9uIHkoZSxuLHIsbyxpKXtyZXR1cm4gaChlLGZ1bmN0aW9uKGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2Ygbj9hLmNyZWF0ZUVsZW1lbnQobik6bjtyZXR1cm4gdih0LHIpLG8mJigic3RyaW5nIiE9dHlwZW9mIG8mJm8ubm9kZVR5cGU/dC5hcHBlbmRDaGlsZChvKToic3RyaW5nIj09dHlwZW9mIG8mJmIodCxvKSksaT90OmUuYXBwZW5kQ2hpbGQodCl9KX1mdW5jdGlvbiBDKGUsdCxuKXtyZXR1cm4geShhLmNyZWF0ZUVsZW1lbnQoZSksZSx0LG4sITApfWZ1bmN0aW9uIHgoZSx0KXt2YXIgbj1jKGUpO3JldHVybih0P24uZWFjaChmdW5jdGlvbigpe2Zvcih2YXIgZTtlPXRoaXMuZmlyc3RDaGlsZDspMz09PWUubm9kZVR5cGUmJjA9PT1lLmRhdGEubGVuZ3RoP3RoaXMucmVtb3ZlQ2hpbGQoZSk6dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHRoaXMpfSk6bikucmVtb3ZlKCksMTxuLmxlbmd0aD9uLnRvQXJyYXkoKTpuWzBdfWZ1bmN0aW9uIHcoZSx0LG4pe2MoZSkudG9nZ2xlQ2xhc3ModCxuKS5lYWNoKGZ1bmN0aW9uKCl7IiI9PT10aGlzLmNsYXNzTmFtZSYmWWEodGhpcykuYXR0cigiY2xhc3MiLG51bGwpfSl9ZnVuY3Rpb24gUyh0LGUsbil7cmV0dXJuIGgoZSxmdW5jdGlvbihlKXtyZXR1cm4gTnQuaXMoZSwiYXJyYXkiKSYmKHQ9dC5jbG9uZU5vZGUoITApKSxuJiZHYShKYShlLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKGUpe3QuYXBwZW5kQ2hpbGQoZSl9KSxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsZSl9KX1mdW5jdGlvbiBOKGUpe2lmKEhuKGUpKXt2YXIgdD0iYSI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiFyKGUsImhyZWYiKSYmcihlLCJpZCIpO3JldHVybiByKGUsIm5hbWUiKXx8cihlLCJkYXRhLW1jZS1ib29rbWFyayIpfHx0PzE6dm9pZCAwfX1mdW5jdGlvbiBFKCl7cmV0dXJuIGEuY3JlYXRlUmFuZ2UoKX1mdW5jdGlvbiBrKGUpe2lmKGUmJkhuKGUpKXt2YXIgdD1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY29udGVudGVkaXRhYmxlIik7cmV0dXJuIHQmJiJpbmhlcml0IiE9PXQ/dDoiaW5oZXJpdCIhPT1lLmNvbnRlbnRFZGl0YWJsZT9lLmNvbnRlbnRFZGl0YWJsZTpudWxsfXJldHVybiBudWxsfXZvaWQgMD09PXUmJih1PXt9KTt2YXIgXyxBLFIsRCxlLHQsVD17fSxPPXdpbmRvdyxCPXt9LFA9MCxMPVJyLmZvckVsZW1lbnQoRXQuZnJvbURvbShhKSx7Y29udGVudENzc0NvcnM6dS5jb250ZW50Q3NzQ29ycyxyZWZlcnJlclBvbGljeTp1LnJlZmVycmVyUG9saWN5fSksST1bXSxNPXUuc2NoZW1hfHxvbyh7fSksRj1hbyh7dXJsX2NvbnZlcnRlcjp1LnVybF9jb252ZXJ0ZXIsdXJsX2NvbnZlcnRlcl9zY29wZTp1LnVybF9jb252ZXJ0ZXJfc2NvcGV9LHUuc2NoZW1hKSxVPXUub3duRXZlbnRzP25ldyBjaTpjaS5FdmVudCx6PU0uZ2V0QmxvY2tFbGVtZW50cygpLEg9WWEub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbigpe3JldHVybntjb250ZXh0OmEsZWxlbWVudDokLmdldFJvb3QoKX19KSxqPVpvLmVuY29kZUFsbFJhdyxWPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKE50LmlzQXJyYXkoZSkpe2Zvcih2YXIgbz1lLmxlbmd0aCxpPVtdO28tLTspaVtvXT1WKGVbb10sdCxuLHIpO3JldHVybiBpfXJldHVybiF1LmNvbGxlY3R8fGUhPT1hJiZlIT09T3x8SS5wdXNoKFtlLHQsbixyXSksVS5iaW5kKGUsdCxuLHJ8fCQpfSxxPWZ1bmN0aW9uKGUsdCxuKXtpZihOdC5pc0FycmF5KGUpKXtmb3IodmFyIHI9ZS5sZW5ndGgsbz1bXTtyLS07KW9bcl09cShlW3JdLHQsbik7cmV0dXJuIG99aWYoMDxJLmxlbmd0aCYmKGU9PT1hfHxlPT09TykpZm9yKHI9SS5sZW5ndGg7ci0tOyl7dmFyIGk9SVtyXTtlIT09aVswXXx8dCYmdCE9PWlbMV18fG4mJm4hPT1pWzJdfHxVLnVuYmluZChpWzBdLGlbMV0saVsyXSl9cmV0dXJuIFUudW5iaW5kKGUsdCxuKX0sJD17ZG9jOmEsc2V0dGluZ3M6dSx3aW46TyxmaWxlczpCLHN0ZE1vZGU6ITAsYm94TW9kZWw6ITAsc3R5bGVTaGVldExvYWRlcjpMLGJvdW5kRXZlbnRzOkksc3R5bGVzOkYsc2NoZW1hOk0sZXZlbnRzOlUsaXNCbG9jazpmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuISF6W2VdO2lmKGUpe3ZhciB0PWUubm9kZVR5cGU7aWYodClyZXR1cm4hKDEhPT10fHwheltlLm5vZGVOYW1lXSl9cmV0dXJuITF9LCQ6SCwkJDpjLHJvb3Q6bnVsbCxjbG9uZTpmdW5jdGlvbih0LGUpe2lmKCFRYXx8MSE9PXQubm9kZVR5cGV8fGUpcmV0dXJuIHQuY2xvbmVOb2RlKGUpO3ZhciBuPWEuY3JlYXRlRWxlbWVudCh0Lm5vZGVOYW1lKTtyZXR1cm4gR2Eobyh0KSxmdW5jdGlvbihlKXtpKG4sZS5ub2RlTmFtZSxyKHQsZS5ub2RlTmFtZSkpfSksbn0sZ2V0Um9vdDpsLGdldFZpZXdQb3J0OmZ1bmN0aW9uKGUpe3ZhciB0PXRuKGUpO3JldHVybnt4OnQueCx5OnQueSx3OnQud2lkdGgsaDp0LmhlaWdodH19LGdldFJlY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZihlPXMoZSkpLG49bShlKTtyZXR1cm57eDp0LngseTp0LnksdzpuLncsaDpuLmh9fSxnZXRTaXplOm0sZ2V0UGFyZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1wKGUsdCxuLCExKTtyZXR1cm4gciYmMDxyLmxlbmd0aD9yWzBdOm51bGx9LGdldFBhcmVudHM6cCxnZXQ6cyxnZXROZXh0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0LCJuZXh0U2libGluZyIpfSxnZXRQcmV2OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4oZSx0LCJwcmV2aW91c1NpYmxpbmciKX0sc2VsZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNhKGUscyh0KXx8dS5yb290X2VsZW1lbnR8fGEsW10pfSxpczpnLGFkZDp5LGNyZWF0ZTpDLGNyZWF0ZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89IiI7Zm9yKHIgaW4gbys9IjwiK2UsdClzZSh0LHIpJiYobys9IiAiK3IrJz0iJytqKHRbcl0pKyciJyk7cmV0dXJuIHZvaWQgMCE9PW4/bysiPiIrbisiPC8iK2UrIj4iOm8rIiAvPiJ9LGNyZWF0ZUZyYWdtZW50OmZ1bmN0aW9uKGUpe3ZhciB0LG49YS5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihyLmFwcGVuZENoaWxkKG4pLGUmJihuLmlubmVySFRNTD1lKTt0PW4uZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZCh0KTtyZXR1cm4gci5yZW1vdmVDaGlsZChuKSxyfSxyZW1vdmU6eCxzZXRTdHlsZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9WCh0KT9jKGUpLmNzcyh0LG4pOmMoZSkuY3NzKHQpO3UudXBkYXRlX3N0eWxlcyYmS2EoRixyKX0sZ2V0U3R5bGU6ZCxzZXRTdHlsZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1jKGUpLmNzcyh0KTt1LnVwZGF0ZV9zdHlsZXMmJkthKEYsbil9LHJlbW92ZUFsbEF0dHJpYnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5hdHRyaWJ1dGVzLG49dC5sZW5ndGgtMTswPD1uO24tLSllLnJlbW92ZUF0dHJpYnV0ZU5vZGUodC5pdGVtKG4pKX0pfSxzZXRBdHRyaWI6aSxzZXRBdHRyaWJzOnYsZ2V0QXR0cmliOnIsZ2V0UG9zOmYscGFyc2VTdHlsZTpmdW5jdGlvbihlKXtyZXR1cm4gRi5wYXJzZShlKX0sc2VyaWFsaXplU3R5bGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRi5zZXJpYWxpemUoZSx0KX0sYWRkU3R5bGU6ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZigkIT09ZXUuRE9NJiZhPT09ZG9jdW1lbnQpe2lmKFRbZV0pcmV0dXJuO1RbZV09ITB9KG49YS5nZXRFbGVtZW50QnlJZCgibWNlRGVmYXVsdFN0eWxlcyIpKXx8KChuPWEuY3JlYXRlRWxlbWVudCgic3R5bGUiKSkuaWQ9Im1jZURlZmF1bHRTdHlsZXMiLG4udHlwZT0idGV4dC9jc3MiLCh0PWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSkuZmlyc3RDaGlsZD90Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCk6dC5hcHBlbmRDaGlsZChuKSksbi5zdHlsZVNoZWV0P24uc3R5bGVTaGVldC5jc3NUZXh0Kz1lOm4uYXBwZW5kQ2hpbGQoYS5jcmVhdGVUZXh0Tm9kZShlKSl9LGxvYWRDU1M6ZnVuY3Rpb24oZSl7WSgoZT1lfHwiIikuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXtCW2VdPSEwLEwubG9hZChlLHRlKX0pfSxhZGRDbGFzczpmdW5jdGlvbihlLHQpe2MoZSkuYWRkQ2xhc3ModCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUsdCl7dyhlLHQsITEpfSxoYXNDbGFzczpmdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLmhhc0NsYXNzKHQpfSx0b2dnbGVDbGFzczp3LHNob3c6ZnVuY3Rpb24oZSl7YyhlKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oZSl7YyhlKS5oaWRlKCl9LGlzSGlkZGVuOmZ1bmN0aW9uKGUpe3JldHVybiJub25lIj09PWMoZSkuY3NzKCJkaXNwbGF5Iil9LHVuaXF1ZUlkOmZ1bmN0aW9uKGUpe3JldHVybihlfHwibWNlXyIpK1ArK30sc2V0SFRNTDpiLGdldE91dGVySFRNTDpmdW5jdGlvbihlKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGU/cyhlKTplO3JldHVybiBIbih0KT90Lm91dGVySFRNTDpZYSgiPGRpdj48L2Rpdj4iKS5hcHBlbmQoWWEodCkuY2xvbmUoKSkuaHRtbCgpfSxzZXRPdXRlckhUTUw6ZnVuY3Rpb24oZSx0KXtjKGUpLmVhY2goZnVuY3Rpb24oKXt0cnl7aWYoIm91dGVySFRNTCJpbiB0aGlzKXJldHVybiB2b2lkKHRoaXMub3V0ZXJIVE1MPXQpfWNhdGNoKGUpe314KFlhKHRoaXMpLmh0bWwodCksITApfSl9LGRlY29kZTpaby5kZWNvZGUsZW5jb2RlOmosaW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKHQpO3JldHVybiBoKGUsZnVuY3Rpb24oZSl7dmFyIHQ9ci5wYXJlbnROb2RlLG49ci5uZXh0U2libGluZztyZXR1cm4gbj90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSksZX0pfSxyZXBsYWNlOlMscmVuYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQubm9kZU5hbWUhPT1lLnRvVXBwZXJDYXNlKCkmJihuPUMoZSksR2Eobyh0KSxmdW5jdGlvbihlKXtpKG4sZS5ub2RlTmFtZSxyKHQsZS5ub2RlTmFtZSkpfSksUyhuLHQsITApKSxufHx0fSxmaW5kQ29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lO3I7KXtmb3Iobj10O24mJnIhPT1uOyluPW4ucGFyZW50Tm9kZTtpZihyPT09bilicmVhaztyPXIucGFyZW50Tm9kZX1yZXR1cm4hciYmZS5vd25lckRvY3VtZW50P2Uub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6cn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIEYudG9IZXgoTnQudHJpbShlKSl9LHJ1bjpoLGdldEF0dHJpYnM6byxpc0VtcHR5OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPTA7aWYoTihlKSlyZXR1cm4hMTtpZihlPWUuZmlyc3RDaGlsZCl7dmFyIGk9bmV3IERyKGUsZS5wYXJlbnROb2RlKSxhPU0/TS5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKTp7fTt0PXR8fChNP00uZ2V0Tm9uRW1wdHlFbGVtZW50cygpOm51bGwpO2Rve2lmKG49ZS5ub2RlVHlwZSxIbihlKSl7dmFyIHU9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIik7aWYodSl7ZT1pLm5leHQoImFsbCI9PT11KTtjb250aW51ZX1pZihyPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0JiZ0W3JdKXtpZigiYnIiIT09cilyZXR1cm4hMTtvKyssZT1pLm5leHQoKTtjb250aW51ZX1pZihOKGUpKXJldHVybiExfWlmKDg9PT1uKXJldHVybiExO2lmKDM9PT1uJiYhJHIoZS5ub2RlVmFsdWUpKXJldHVybiExO2lmKDM9PT1uJiZlLnBhcmVudE5vZGUmJmFbZS5wYXJlbnROb2RlLm5vZGVOYW1lXSYmJHIoZS5ub2RlVmFsdWUpKXJldHVybiExO2U9aS5uZXh0KCl9d2hpbGUoZSl9cmV0dXJuIG88PTF9LGNyZWF0ZVJuZzpFLG5vZGVJbmRleDpYYSxzcGxpdDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9RSgpO2lmKGUmJnQpcmV0dXJuIGEuc2V0U3RhcnQoZS5wYXJlbnROb2RlLFhhKGUpKSxhLnNldEVuZCh0LnBhcmVudE5vZGUsWGEodCkpLHI9YS5leHRyYWN0Q29udGVudHMoKSwoYT1FKCkpLnNldFN0YXJ0KHQucGFyZW50Tm9kZSxYYSh0KSsxKSxhLnNldEVuZChlLnBhcmVudE5vZGUsWGEoZSkrMSksbz1hLmV4dHJhY3RDb250ZW50cygpLChpPWUucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKFZvKCQsciksZSksbj9pLmluc2VydEJlZm9yZShuLGUpOmkuaW5zZXJ0QmVmb3JlKHQsZSksaS5pbnNlcnRCZWZvcmUoVm8oJCxvKSxlKSx4KGUpLG58fHR9LGJpbmQ6Vix1bmJpbmQ6cSxmaXJlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVS5maXJlKGUsdCxuKX0sZ2V0Q29udGVudEVkaXRhYmxlOmssZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1sKCksbj1udWxsO2UmJmUhPT10JiZudWxsPT09KG49ayhlKSk7ZT1lLnBhcmVudE5vZGUpO3JldHVybiBufSxkZXN0cm95OmZ1bmN0aW9uKCl7aWYoMDxJLmxlbmd0aClmb3IodmFyIGU9SS5sZW5ndGg7ZS0tOyl7dmFyIHQ9SVtlXTtVLnVuYmluZCh0WzBdLHRbMV0sdFsyXSl9bmUoQixmdW5jdGlvbihlLHQpe0wudW5sb2FkKHQpLGRlbGV0ZSBCW3RdfSksY2Euc2V0RG9jdW1lbnQmJmNhLnNldERvY3VtZW50KCl9LGlzQ2hpbGRPZjpmdW5jdGlvbihlLHQpe2lmKFFhKXtmb3IoO2U7KXtpZih0PT09ZSlyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX1yZXR1cm4gZT09PXR8fHQuY29udGFpbnMoZSl9LGR1bXBSbmc6ZnVuY3Rpb24oZSl7cmV0dXJuInN0YXJ0Q29udGFpbmVyOiAiK2Uuc3RhcnRDb250YWluZXIubm9kZU5hbWUrIiwgc3RhcnRPZmZzZXQ6ICIrZS5zdGFydE9mZnNldCsiLCBlbmRDb250YWluZXI6ICIrZS5lbmRDb250YWluZXIubm9kZU5hbWUrIiwgZW5kT2Zmc2V0OiAiK2UuZW5kT2Zmc2V0fX0sVz0oXz1GLFI9SigkKSxlPXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe0EudXJsX2NvbnZlcnRlciYmbnVsbCE9PXQmJih0PUEudXJsX2NvbnZlcnRlci5jYWxsKEEudXJsX2NvbnZlcnRlcl9zY29wZXx8UigpLHQsbixlWzBdKSksZS5hdHRyKCJkYXRhLW1jZS0iK24sdCkuYXR0cihuLHQpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hdHRyKCJkYXRhLW1jZS0iK3QpfHxlLmF0dHIodCl9fSx0PXtzdHlsZTp7c2V0OmZ1bmN0aW9uKGUsdCl7bnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdD8oRCYmZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIsdCksbnVsbCE9PXQmJiJzdHJpbmciPT10eXBlb2YgdD8oZS5yZW1vdmVBdHRyKCJzdHlsZSIpLGUuY3NzKF8ucGFyc2UodCkpKTplLmF0dHIoInN0eWxlIix0KSk6ZS5jc3ModCl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHIoImRhdGEtbWNlLXN0eWxlIil8fGUuYXR0cigic3R5bGUiKTtyZXR1cm4gXy5zZXJpYWxpemUoXy5wYXJzZSh0KSxlWzBdLm5vZGVOYW1lKX19fSwoRD0oQT11KS5rZWVwX3ZhbHVlcykmJih0LmhyZWY9dC5zcmM9ZSksdCk7cmV0dXJuICR9O2V1LkRPTT1ldShkb2N1bWVudCksZXUubm9kZUluZGV4PVhhO3ZhciB0dT1ldS5ET00sbnU9TnQuZWFjaCxydT1OdC5ncmVwLG91PShpdS5wcm90b3R5cGUuX3NldFJlZmVycmVyUG9saWN5PWZ1bmN0aW9uKGUpe3RoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3k9ZX0saXUucHJvdG90eXBlLmxvYWRTY3JpcHQ9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtvLnJlbW92ZShpKSxhJiYoYS5vbmVycm9yPWEub25sb2FkPWE9bnVsbCl9dmFyIG89dHUsaT1vLnVuaXF1ZUlkKCksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTthLmlkPWksYS50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLGEuc3JjPU50Ll9hZGRDYWNoZVN1ZmZpeChlKSx0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5JiZvLnNldEF0dHJpYihhLCJyZWZlcnJlcnBvbGljeSIsdGhpcy5zZXR0aW5ncy5yZWZlcnJlclBvbGljeSksYS5vbmxvYWQ9ZnVuY3Rpb24oKXtyKCksdCgpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKCkseShuKT9uKCk6InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZS5sb2coIkZhaWxlZCB0byBsb2FkIHNjcmlwdDogIitlKX0sKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKGEpfSxpdS5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKGUpe3JldHVybiAyPT09dGhpcy5zdGF0ZXNbZV19LGl1LnByb3RvdHlwZS5tYXJrRG9uZT1mdW5jdGlvbihlKXt0aGlzLnN0YXRlc1tlXT0yfSxpdS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXRoaXMuc3RhdGVzW2VdO3RoaXMucXVldWUucHVzaChlKSx2b2lkIDA9PT1vJiYodGhpcy5zdGF0ZXNbZV09MCksdCYmKHRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdfHwodGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV09W10pLHRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdLnB1c2goe3N1Y2Nlc3M6dCxmYWlsdXJlOnIsc2NvcGU6bnx8dGhpc30pKX0saXUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuYWRkKGUsdCxuLHIpfSxpdS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnN0YXRlc1tlXSxkZWxldGUgdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV19LGl1LnByb3RvdHlwZS5sb2FkUXVldWU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMubG9hZFNjcmlwdHModGhpcy5xdWV1ZSxlLHQsbil9LGl1LnByb3RvdHlwZS5sb2FkU2NyaXB0cz1mdW5jdGlvbihuLGUsdCxyKXtmdW5jdGlvbiBvKHQsZSl7bnUoaS5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0sZnVuY3Rpb24oZSl7eShlW3RdKSYmZVt0XS5jYWxsKGUuc2NvcGUpfSksaS5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV09dm9pZCAwfXZhciBpPXRoaXMsYT1bXTtpLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnB1c2goe3N1Y2Nlc3M6ZSxmYWlsdXJlOnIsc2NvcGU6dHx8dGhpc30pO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGUsdD1ydShuKTtuLmxlbmd0aD0wLG51KHQsZnVuY3Rpb24oZSl7MiE9PWkuc3RhdGVzW2VdPzMhPT1pLnN0YXRlc1tlXT8xIT09aS5zdGF0ZXNbZV0mJihpLnN0YXRlc1tlXT0xLGkubG9hZGluZysrLGkubG9hZFNjcmlwdChlLGZ1bmN0aW9uKCl7aS5zdGF0ZXNbZV09MixpLmxvYWRpbmctLSxvKCJzdWNjZXNzIixlKSx1KCl9LGZ1bmN0aW9uKCl7aS5zdGF0ZXNbZV09MyxpLmxvYWRpbmctLSxhLnB1c2goZSksbygiZmFpbHVyZSIsZSksdSgpfSkpOm8oImZhaWx1cmUiLGUpOm8oInN1Y2Nlc3MiLGUpfSksaS5sb2FkaW5nfHwoZT1pLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnNsaWNlKDApLGkucXVldWVMb2FkZWRDYWxsYmFja3MubGVuZ3RoPTAsbnUoZSxmdW5jdGlvbihlKXswPT09YS5sZW5ndGg/eShlLnN1Y2Nlc3MpJiZlLnN1Y2Nlc3MuY2FsbChlLnNjb3BlKTp5KGUuZmFpbHVyZSkmJmUuZmFpbHVyZS5jYWxsKGUuc2NvcGUsYSl9KSl9O3UoKX0saXUuU2NyaXB0TG9hZGVyPW5ldyBpdSxpdSk7ZnVuY3Rpb24gaXUoZSl7dm9pZCAwPT09ZSYmKGU9e30pLHRoaXMuc3RhdGVzPXt9LHRoaXMucXVldWU9W10sdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3M9e30sdGhpcy5xdWV1ZUxvYWRlZENhbGxiYWNrcz1bXSx0aGlzLmxvYWRpbmc9MCx0aGlzLnNldHRpbmdzPWV9ZnVuY3Rpb24gYXUoZSl7dmFyIHQ9ZTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHNldDpmdW5jdGlvbihlKXt0PWV9fX1mdW5jdGlvbiB1dSgpe3JldHVybiB1ZShzdSxjdS5nZXQoKSl9dmFyIHN1PXt9LGN1PWF1KCJlbiIpLGx1PXtnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHJlKHN1LGZ1bmN0aW9uKGUpe3JldHVybiBfZSh7fSxlKX0pfSxzZXRDb2RlOmZ1bmN0aW9uKGUpe2UmJmN1LnNldChlKX0sZ2V0Q29kZTpmdW5jdGlvbigpe3JldHVybiBjdS5nZXQoKX0sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49c3VbZV07bnx8KHN1W2VdPW49e30pLG5lKHQsZnVuY3Rpb24oZSx0KXtuW3QudG9Mb3dlckNhc2UoKV09ZX0pfSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlKXtyZXR1cm4geShlKT9PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk6dShlKT8iIjoiIitlfWZ1bmN0aW9uIHQoZSl7dmFyIHQ9bihlKTtyZXR1cm4gdWUoYSx0LnRvTG93ZXJDYXNlKCkpLm1hcChuKS5nZXRPcih0KX1mdW5jdGlvbiByKGUpe3JldHVybiBlLnJlcGxhY2UoL3tjb250ZXh0Olx3K30kLywiIil9dmFyIG8saSxhPXV1KCkuZ2V0T3Ioe30pLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIiI9PT1lfHxudWxsPT1lfTtpZih1KGUpKXJldHVybiIiO2lmKGgobz1lKSYmRWUobywicmF3IikpcmV0dXJuIG4oZS5yYXcpO2lmKFMoaT1lKSYmMTxpLmxlbmd0aCl7dmFyIHM9ZS5zbGljZSgxKTtyZXR1cm4gcih0KGVbMF0pLnJlcGxhY2UoL1x7KFswLTldKylcfS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEVlKHMsdCk/bihzW3RdKTplfSkpfXJldHVybiByKHQoZSkpfSxpc1J0bDpmdW5jdGlvbigpe3JldHVybiB1dSgpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHVlKGUsIl9kaXIiKX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4icnRsIj09PWV9KX0saGFzQ29kZTpmdW5jdGlvbihlKXtyZXR1cm4gRWUoc3UsZSl9fSxmdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHUodCxuKXtZKFUocixmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09dCYmZS5zdGF0ZT09PW59KSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jYWxsYmFjaygpfSl9ZnVuY3Rpb24gcyhlKXt2YXIgdDtyZXR1cm4oZltlXT9mW2VdLmRlcGVuZGVuY2llczp0KXx8W119ZnVuY3Rpb24gYyhlLHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD90OiJzdHJpbmciPT10eXBlb2YgZT97cHJlZml4OiIiLHJlc291cmNlOnQsc3VmZml4OiIifTp7cHJlZml4OmUucHJlZml4LHJlc291cmNlOnQsc3VmZml4OmUuc3VmZml4fX1mdW5jdGlvbiBlKGUsdCxuKXt2b2lkIDA9PT1uJiYobj0iYWRkZWQiKSxFZShmLGUpJiYiYWRkZWQiPT09bnx8RWUobCxlKSYmImxvYWRlZCI9PT1uP3QoKTpyLnB1c2goe25hbWU6ZSxzdGF0ZTpuLGNhbGxiYWNrOnR9KX12YXIgbz1bXSxsPXt9LGY9e30scj1bXSxkPWZ1bmN0aW9uKHIsbyxpLGEsZSl7dmFyIHQsbjtsW3JdfHwoMCE9PSh0PSJzdHJpbmciPT10eXBlb2Ygbz9vOm8ucHJlZml4K28ucmVzb3VyY2Urby5zdWZmaXgpLmluZGV4T2YoIi8iKSYmLTE9PT10LmluZGV4T2YoIjovLyIpJiYodD1mdS5iYXNlVVJMKyIvIit0KSxsW3JdPXQuc3Vic3RyaW5nKDAsdC5sYXN0SW5kZXhPZigiLyIpKSxuPWZ1bmN0aW9uKCl7dmFyIG4sZSx0O3UociwibG9hZGVkIiksbj1vLGU9aSx0PWEsWShzKHIpLGZ1bmN0aW9uKGUpe3ZhciB0PWMobixlKTtkKHQucmVzb3VyY2UsdCx2b2lkIDAsdm9pZCAwKX0pLGUmJih0P2UuY2FsbCh0KTplLmNhbGwob3UpKX0sZltyXT9uKCk6b3UuU2NyaXB0TG9hZGVyLmFkZCh0LG4sYSxlKSl9O3JldHVybntpdGVtczpvLHVybHM6bCxsb29rdXA6ZixfbGlzdGVuZXJzOnIsZ2V0OmZ1bmN0aW9uKGUpe2lmKGZbZV0pcmV0dXJuIGZbZV0uaW5zdGFuY2V9LGRlcGVuZGVuY2llczpzLHJlcXVpcmVMYW5nUGFjazpmdW5jdGlvbih0LG4peyExIT09ZnUubGFuZ3VhZ2VMb2FkJiZlKHQsZnVuY3Rpb24oKXt2YXIgZT1sdS5nZXRDb2RlKCk7IWV8fG4mJi0xPT09KCIsIisobnx8IiIpKyIsIikuaW5kZXhPZigiLCIrZSsiLCIpfHxvdS5TY3JpcHRMb2FkZXIuYWRkKGxbdF0rIi9sYW5ncy8iK2UrIi5qcyIpfSwibG9hZGVkIil9LGFkZDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dDtyZXR1cm4gby5wdXNoKHIpLGZbZV09e2luc3RhbmNlOnIsZGVwZW5kZW5jaWVzOm59LHUoZSwiYWRkZWQiKSxyfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIGxbZV0sZGVsZXRlIGZbZV19LGNyZWF0ZVVybDpjLGFkZENvbXBvbmVudHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1sW2VdO1kodCxmdW5jdGlvbihlKXtvdS5TY3JpcHRMb2FkZXIuYWRkKG4rIi8iK2UpfSl9LGxvYWQ6ZCx3YWl0Rm9yOmV9fTtmdW5jdGlvbiBkdSgpe3ZhciBlLHQsbj0oZT10ZSx0PWF1KHZlLm5vbmUoKSkse2NsZWFyOmZ1bmN0aW9uKCl7cigpLHQuc2V0KHZlLm5vbmUoKSl9LGlzU2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0KCkuaXNTb21lKCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0LmdldCgpfSxzZXQ6ZnVuY3Rpb24oZSl7cigpLHQuc2V0KHZlLnNvbWUoZSkpfX0pO2Z1bmN0aW9uIHIoKXtyZXR1cm4gdC5nZXQoKS5lYWNoKGUpfXJldHVybiBfZShfZSh7fSxuKSx7b246ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0KCkuZWFjaChlKX19KX1mdW5jdGlvbiBtdShuLHIpe3ZhciBvPW51bGw7cmV0dXJue2NhbmNlbDpmdW5jdGlvbigpe2wobyl8fChjbGVhclRpbWVvdXQobyksbz1udWxsKX0sdGhyb3R0bGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07bChvKSYmKG89c2V0VGltZW91dChmdW5jdGlvbigpe289bnVsbCxuLmFwcGx5KG51bGwsZSl9LHIpKX19fWZ1bmN0aW9uIGd1KG4scil7ZnVuY3Rpb24gbygpe2woaSl8fChjbGVhclRpbWVvdXQoaSksaT1udWxsKX12YXIgaT1udWxsO3JldHVybntjYW5jZWw6byx0aHJvdHRsZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtvKCksaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aT1udWxsLG4uYXBwbHkobnVsbCxlKX0scil9fX1mdW5jdGlvbiBwdShlLHQpe3ZhciBuPXZuKGUsdCk7cmV0dXJuIHZvaWQgMD09PW58fCIiPT09bj9bXTpuLnNwbGl0KCIgIil9ZnVuY3Rpb24gaHUoZSl7cmV0dXJuIHZvaWQgMCE9PWUuZG9tLmNsYXNzTGlzdH1mdW5jdGlvbiB2dShlLHQpe3ZhciBuLHIsbztodShlKT9lLmRvbS5jbGFzc0xpc3QuYWRkKHQpOihyPXQsbz1wdShuPWUsImNsYXNzIikuY29uY2F0KFtyXSkscG4obiwiY2xhc3MiLG8uam9pbigiICIpKSl9ZnVuY3Rpb24gYnUoZSx0KXtyZXR1cm4gaHUoZSkmJmUuZG9tLmNsYXNzTGlzdC5jb250YWlucyh0KX1mdW5jdGlvbiB5dShlLHQpe3JldHVybiBIZShuPXZvaWQgMD09PWU/ZG9jdW1lbnQ6ZS5kb20pP1tdOkEobi5xdWVyeVNlbGVjdG9yQWxsKHQpLEV0LmZyb21Eb20pO3ZhciBufWZ1bmN0aW9uIEN1KHIsZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiB5bihlLHQpP3ZlLnNvbWUodm4oZSx0KSk6dmUubm9uZSgpfXZhciBuPXIuc2VsZWN0aW9uLmdldFJuZygpLG89RXQuZnJvbURvbShuLnN0YXJ0Q29udGFpbmVyKSxpPUV0LmZyb21Eb20oci5nZXRCb2R5KCkpLGE9ZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIi4iKyR1KCl9LGZ1bmN0aW9uKGUpe3JldHVybiJbIitXdSgpKyc9IicrZSsnIl0nfSk7cmV0dXJuIHlyKE10KG8sbi5zdGFydE9mZnNldCkuZ2V0T3IobyksYSxmdW5jdGlvbihlKXtyZXR1cm4gamUoZSxpKX0pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSwiIitLdSgpKS5iaW5kKGZ1bmN0aW9uKG4pe3JldHVybiB0KGUsIiIrV3UoKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PVh1KHIsbik7cmV0dXJue3VpZDpuLG5hbWU6ZSxlbGVtZW50czp0fX0pfSl9KX1mdW5jdGlvbiB4dSh0KXtmdW5jdGlvbiBvKCl7cmV0dXJue2xpc3RlbmVyczpbXSxwcmV2aW91czpkdSgpfX1mdW5jdGlvbiBjKGUsdCl7bihlLGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpLGV9KX1mdW5jdGlvbiBuKGUsdCl7dmFyIG49aS5nZXQoKSxyPXQodWUobixlKS5nZXRPclRodW5rKG8pKTtuW2VdPXIsaS5zZXQobil9dmFyIGk9YXUoe30pLGU9Z3UoZnVuY3Rpb24oKXt2YXIgZT1pLmdldCgpO1koVyh3ZShlKSksZnVuY3Rpb24oZSl7bihlLGZ1bmN0aW9uKHUpe3ZhciBzPXUucHJldmlvdXMuZ2V0KCk7cmV0dXJuIEN1KHQsdmUuc29tZShlKSkuZm9sZChmdW5jdGlvbigpe3ZhciB0O3MuaXNTb21lKCkmJihjKHQ9ZSxmdW5jdGlvbihlKXtZKGUubGlzdGVuZXJzLGZ1bmN0aW9uKGUpe3JldHVybiBlKCExLHQpfSl9KSx1LnByZXZpb3VzLmNsZWFyKCkpfSxmdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1lLnVpZCxpPWUubmFtZSxhPWUuZWxlbWVudHM7Zm4ocyxvKXx8KG49byxyPWEsYyh0PWksZnVuY3Rpb24oZSl7WShlLmxpc3RlbmVycyxmdW5jdGlvbihlKXtyZXR1cm4gZSghMCx0LHt1aWQ6bixub2RlczpBKHIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tfSl9KX0pfSksdS5wcmV2aW91cy5zZXQobykpfSkse3ByZXZpb3VzOnUucHJldmlvdXMsbGlzdGVuZXJzOnUubGlzdGVuZXJzfX0pfSl9LDMwKTtyZXR1cm4gdC5vbigicmVtb3ZlIixmdW5jdGlvbigpe2UuY2FuY2VsKCl9KSx0Lm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbigpe2UudGhyb3R0bGUoKX0pLHthZGRMaXN0ZW5lcjpmdW5jdGlvbihlLHQpe24oZSxmdW5jdGlvbihlKXtyZXR1cm57cHJldmlvdXM6ZS5wcmV2aW91cyxsaXN0ZW5lcnM6ZS5saXN0ZW5lcnMuY29uY2F0KFt0XSl9fSl9fX1mdW5jdGlvbiB3dShlKXt2YXIgdD0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gZSsiXyIrTWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSkrICsrWXUrU3RyaW5nKHQpfWZ1bmN0aW9uIFN1KGUsdCl7dmFyIG4scixvPVJ0KGUpLmRvbSxpPUV0LmZyb21Eb20oby5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO0t0KGksKG49dCwocj0ob3x8ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9bixUbihFdC5mcm9tRG9tKHIpKSkpLFh0KGUpLExuKGUsaSl9ZnVuY3Rpb24gTnUoZSx0KXtyZXR1cm4gRXQuZnJvbURvbShlLmRvbS5jbG9uZU5vZGUodCkpfWZ1bmN0aW9uIEV1KGUpe3JldHVybiBOdShlLCExKX1mdW5jdGlvbiBrdShlKXtyZXR1cm4gTnUoZSwhMCl9ZnVuY3Rpb24gX3UoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7Zm9yKHZhciB0Oyh0PW9bZV0oKSkmJiFWbih0KSYmIW4odCk7KTtyZXR1cm4gdmUuZnJvbSh0KS5maWx0ZXIoVm4pfXZvaWQgMD09PW4mJihuPUQpO3ZhciBvPW5ldyBEcihlLHQpO3JldHVybntjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHZlLmZyb20oby5jdXJyZW50KCkpLmZpbHRlcihWbil9LG5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gcigibmV4dCIpfSxwcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIHIoInByZXYiKX0scHJldjI6ZnVuY3Rpb24oKXtyZXR1cm4gcigicHJldjIiKX19fWZ1bmN0aW9uIEF1KHQsZSl7dmFyIGk9ZXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNCbG9jayhlKXx8S24oZSl8fEduKGUpfSxhPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKFZuKGUpKXt2YXIgbz1yKGUsdCxlLmRhdGEpO2lmKC0xIT09bylyZXR1cm4gdmUuc29tZSh7Y29udGFpbmVyOmUsb2Zmc2V0Om99KX1yZXR1cm4gbigpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGEoZS5jb250YWluZXIsZS5vZmZzZXQsbixyKX0pfTtyZXR1cm57YmFja3dhcmRzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPV91KGUscixpKTtyZXR1cm4gYShlLHQsZnVuY3Rpb24oKXtyZXR1cm4gby5wcmV2KCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntjb250YWluZXI6ZSxvZmZzZXQ6ZS5sZW5ndGh9fSl9LG4pLmdldE9yTnVsbCgpfSxmb3J3YXJkczpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1fdShlLHIsaSk7cmV0dXJuIGEoZSx0LGZ1bmN0aW9uKCl7cmV0dXJuIG8ubmV4dCgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Y29udGFpbmVyOmUsb2Zmc2V0OjB9fSl9LG4pLmdldE9yTnVsbCgpfX19ZnVuY3Rpb24gUnUoZSl7cmV0dXJuIGU/e2xlZnQ6R3UoZS5sZWZ0KSx0b3A6R3UoZS50b3ApLGJvdHRvbTpHdShlLmJvdHRvbSkscmlnaHQ6R3UoZS5yaWdodCksd2lkdGg6R3UoZS53aWR0aCksaGVpZ2h0Okd1KGUuaGVpZ2h0KX06e2xlZnQ6MCx0b3A6MCxib3R0b206MCxyaWdodDowLHdpZHRoOjAsaGVpZ2h0OjB9fWZ1bmN0aW9uIER1KGUsdCl7cmV0dXJuIGU9UnUoZSksdHx8KGUubGVmdD1lLmxlZnQrZS53aWR0aCksZS5yaWdodD1lLmxlZnQsZS53aWR0aD0wLGV9ZnVuY3Rpb24gVHUoZSx0LG4pe3JldHVybiAwPD1lJiZlPD1NYXRoLm1pbih0LmhlaWdodCxuLmhlaWdodCkvMn1mdW5jdGlvbiBPdShlLHQpe3ZhciBuPU1hdGgubWluKHQuaGVpZ2h0LzIsZS5oZWlnaHQvMik7cmV0dXJuIGUuYm90dG9tLW48dC50b3B8fCEoZS50b3A+dC5ib3R0b20pJiZUdSh0LnRvcC1lLmJvdHRvbSxlLHQpfWZ1bmN0aW9uIEJ1KGUsdCl7cmV0dXJuIGUudG9wPnQuYm90dG9tfHwhKGUuYm90dG9tPHQudG9wKSYmVHUodC5ib3R0b20tZS50b3AsZSx0KX1mdW5jdGlvbiBQdShlLHQsbil7cmV0dXJuIHQ+PWUubGVmdCYmdDw9ZS5yaWdodCYmbj49ZS50b3AmJm48PWUuYm90dG9tfWZ1bmN0aW9uIEx1KGUpe3ZhciB0PWUuc3RhcnRDb250YWluZXIsbj1lLnN0YXJ0T2Zmc2V0O3JldHVybiB0Lmhhc0NoaWxkTm9kZXMoKSYmZS5lbmRPZmZzZXQ9PT1uKzE/dC5jaGlsZE5vZGVzW25dOm51bGx9ZnVuY3Rpb24gSXUoZSx0KXtpZihIbihlKSYmZS5oYXNDaGlsZE5vZGVzKCkpe3ZhciBuPWUuY2hpbGROb2RlcztyZXR1cm4gbltyPW4ubGVuZ3RoLTEsTWF0aC5taW4oTWF0aC5tYXgodCwwKSxyKV19cmV0dXJuIGU7dmFyIHJ9ZnVuY3Rpb24gTXUoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiY3Njg8PWUuY2hhckNvZGVBdCgwKSYmSnUudGVzdChlKX1mdW5jdGlvbiBGdShlKXtyZXR1cm4iY3JlYXRlUmFuZ2UiaW4gZT9lLmNyZWF0ZVJhbmdlKCk6ZXUuRE9NLmNyZWF0ZVJuZygpfWZ1bmN0aW9uIFV1KGUpe3JldHVybiBlJiYvW1xyXG5cdCBdLy50ZXN0KGUpfWZ1bmN0aW9uIHp1KGUpe3JldHVybiBlLnNldFN0YXJ0JiZlLnNldEVuZH1mdW5jdGlvbiBIdShlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5zdGFydE9mZnNldDtpZihVdShlLnRvU3RyaW5nKCkpJiZycyh0LnBhcmVudE5vZGUpJiZWbih0KSl7dmFyIHI9dC5kYXRhO3JldHVybiBVdShyW24tMV0pfHxVdShyW24rMV0pPzE6dm9pZCAwfX1mdW5jdGlvbiBqdShlKXtyZXR1cm4gMD09PWUubGVmdCYmMD09PWUucmlnaHQmJjA9PT1lLnRvcCYmMD09PWUuYm90dG9tfWZ1bmN0aW9uIFZ1KGUsdCl7dmFyIG49RHUoZSx0KTtyZXR1cm4gbi53aWR0aD0xLG4ucmlnaHQ9bi5sZWZ0KzEsbn1mdS5sYW5ndWFnZUxvYWQ9ITAsZnUuYmFzZVVSTD0iIixmdS5QbHVnaW5NYW5hZ2VyPWZ1KCksZnUuVGhlbWVNYW5hZ2VyPWZ1KCk7dmFyIHF1PWZ1bmN0aW9uKGUsdCl7dmFyIG49W107cmV0dXJuIFkoVG4oZSksZnVuY3Rpb24oZSl7bj0obj10KGUpP24uY29uY2F0KFtlXSk6bikuY29uY2F0KHF1KGUsdCkpfSksbn0sJHU9SigibWNlLWFubm90YXRpb24iKSxXdT1KKCJkYXRhLW1jZS1hbm5vdGF0aW9uIiksS3U9SigiZGF0YS1tY2UtYW5ub3RhdGlvbi11aWQiKSxYdT1mdW5jdGlvbihlLHQpe3JldHVybiB5dShFdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSwiWyIrS3UoKSsnPSInK3QrJyJdJyl9LFl1PTAsR3U9TWF0aC5yb3VuZCxKdT1uZXcgUmVnRXhwKCJbXHUwMzAwLVx1MDM2Zlx1MDQ4My1cdTA0ODdcdTA0ODgtXHUwNDg5XHUwNTkxLVx1MDViZFx1MDViZlx1MDVjMS1cdTA1YzJcdTA1YzQtXHUwNWM1XHUwNWM3XHUwNjEwLVx1MDYxYVx1MDY0Yi1cdTA2NWZcdTA2NzBcdTA2ZDYtXHUwNmRjXHUwNmRmLVx1MDZlNFx1MDZlNy1cdTA2ZThcdTA2ZWEtXHUwNmVkXHUwNzExXHUwNzMwLVx1MDc0YVx1MDdhNi1cdTA3YjBcdTA3ZWItXHUwN2YzXHUwODE2LVx1MDgxOVx1MDgxYi1cdTA4MjNcdTA4MjUtXHUwODI3XHUwODI5LVx1MDgyZFx1MDg1OS1cdTA4NWJcdTA4ZTMtXHUwOTAyXHUwOTNhXHUwOTNjXHUwOTQxLVx1MDk0OFx1MDk0ZFx1MDk1MS1cdTA5NTdcdTA5NjItXHUwOTYzXHUwOTgxXHUwOWJjXHUwOWJlXHUwOWMxLVx1MDljNFx1MDljZFx1MDlkN1x1MDllMi1cdTA5ZTNcdTBhMDEtXHUwYTAyXHUwYTNjXHUwYTQxLVx1MGE0Mlx1MGE0Ny1cdTBhNDhcdTBhNGItXHUwYTRkXHUwYTUxXHUwYTcwLVx1MGE3MVx1MGE3NVx1MGE4MS1cdTBhODJcdTBhYmNcdTBhYzEtXHUwYWM1XHUwYWM3LVx1MGFjOFx1MGFjZFx1MGFlMi1cdTBhZTNcdTBiMDFcdTBiM2NcdTBiM2VcdTBiM2ZcdTBiNDEtXHUwYjQ0XHUwYjRkXHUwYjU2XHUwYjU3XHUwYjYyLVx1MGI2M1x1MGI4Mlx1MGJiZVx1MGJjMFx1MGJjZFx1MGJkN1x1MGMwMFx1MGMzZS1cdTBjNDBcdTBjNDYtXHUwYzQ4XHUwYzRhLVx1MGM0ZFx1MGM1NS1cdTBjNTZcdTBjNjItXHUwYzYzXHUwYzgxXHUwY2JjXHUwY2JmXHUwY2MyXHUwY2M2XHUwY2NjLVx1MGNjZFx1MGNkNS1cdTBjZDZcdTBjZTItXHUwY2UzXHUwZDAxXHUwZDNlXHUwZDQxLVx1MGQ0NFx1MGQ0ZFx1MGQ1N1x1MGQ2Mi1cdTBkNjNcdTBkY2FcdTBkY2ZcdTBkZDItXHUwZGQ0XHUwZGQ2XHUwZGRmXHUwZTMxXHUwZTM0LVx1MGUzYVx1MGU0Ny1cdTBlNGVcdTBlYjFcdTBlYjQtXHUwZWI5XHUwZWJiLVx1MGViY1x1MGVjOC1cdTBlY2RcdTBmMTgtXHUwZjE5XHUwZjM1XHUwZjM3XHUwZjM5XHUwZjcxLVx1MGY3ZVx1MGY4MC1cdTBmODRcdTBmODYtXHUwZjg3XHUwZjhkLVx1MGY5N1x1MGY5OS1cdTBmYmNcdTBmYzZcdTEwMmQtXHUxMDMwXHUxMDMyLVx1MTAzN1x1MTAzOS1cdTEwM2FcdTEwM2QtXHUxMDNlXHUxMDU4LVx1MTA1OVx1MTA1ZS1cdTEwNjBcdTEwNzEtXHUxMDc0XHUxMDgyXHUxMDg1LVx1MTA4Nlx1MTA4ZFx1MTA5ZFx1MTM1ZC1cdTEzNWZcdTE3MTItXHUxNzE0XHUxNzMyLVx1MTczNFx1MTc1Mi1cdTE3NTNcdTE3NzItXHUxNzczXHUxN2I0LVx1MTdiNVx1MTdiNy1cdTE3YmRcdTE3YzZcdTE3YzktXHUxN2QzXHUxN2RkXHUxODBiLVx1MTgwZFx1MThhOVx1MTkyMC1cdTE5MjJcdTE5MjctXHUxOTI4XHUxOTMyXHUxOTM5LVx1MTkzYlx1MWExNy1cdTFhMThcdTFhMWJcdTFhNTZcdTFhNTgtXHUxYTVlXHUxYTYwXHUxYTYyXHUxYTY1LVx1MWE2Y1x1MWE3My1cdTFhN2NcdTFhN2ZcdTFhYjAtXHUxYWJkXHUxYWJlXHUxYjAwLVx1MWIwM1x1MWIzNFx1MWIzNi1cdTFiM2FcdTFiM2NcdTFiNDJcdTFiNmItXHUxYjczXHUxYjgwLVx1MWI4MVx1MWJhMi1cdTFiYTVcdTFiYTgtXHUxYmE5XHUxYmFiLVx1MWJhZFx1MWJlNlx1MWJlOC1cdTFiZTlcdTFiZWRcdTFiZWYtXHUxYmYxXHUxYzJjLVx1MWMzM1x1MWMzNi1cdTFjMzdcdTFjZDAtXHUxY2QyXHUxY2Q0LVx1MWNlMFx1MWNlMi1cdTFjZThcdTFjZWRcdTFjZjRcdTFjZjgtXHUxY2Y5XHUxZGMwLVx1MWRmNVx1MWRmYy1cdTFkZmZcdTIwMGMtXHUyMDBkXHUyMGQwLVx1MjBkY1x1MjBkZC1cdTIwZTBcdTIwZTFcdTIwZTItXHUyMGU0XHUyMGU1LVx1MjBmMFx1MmNlZi1cdTJjZjFcdTJkN2ZcdTJkZTAtXHUyZGZmXHUzMDJhLVx1MzAyZFx1MzAyZS1cdTMwMmZcdTMwOTktXHUzMDlhXHVhNjZmXHVhNjcwLVx1YTY3Mlx1YTY3NC1cdWE2N2RcdWE2OWUtXHVhNjlmXHVhNmYwLVx1YTZmMVx1YTgwMlx1YTgwNlx1YTgwYlx1YTgyNS1cdWE4MjZcdWE4YzRcdWE4ZTAtXHVhOGYxXHVhOTI2LVx1YTkyZFx1YTk0Ny1cdWE5NTFcdWE5ODAtXHVhOTgyXHVhOWIzXHVhOWI2LVx1YTliOVx1YTliY1x1YTllNVx1YWEyOS1cdWFhMmVcdWFhMzEtXHVhYTMyXHVhYTM1LVx1YWEzNlx1YWE0M1x1YWE0Y1x1YWE3Y1x1YWFiMFx1YWFiMi1cdWFhYjRcdWFhYjctXHVhYWI4XHVhYWJlLVx1YWFiZlx1YWFjMVx1YWFlYy1cdWFhZWRcdWFhZjZcdWFiZTVcdWFiZThcdWFiZWRcdWZiMWVcdWZlMDAtXHVmZTBmXHVmZTIwLVx1ZmUyZlx1ZmY5ZS1cdWZmOWZdIiksUXU9SG4sWnU9VnIsZXM9YW4oImRpc3BsYXkiLCJibG9jayB0YWJsZSIpLHRzPWFuKCJmbG9hdCIsImxlZnQgcmlnaHQiKSxucz1mdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoIW5bdF0oZSkpcmV0dXJuITE7cmV0dXJuITB9fShRdSxadSxzKHRzKSkscnM9cyhhbigid2hpdGUtc3BhY2UiLCJwcmUgcHJlLWxpbmUgcHJlLXdyYXAiKSksb3M9Vm4saXM9S24sYXM9ZXUubm9kZUluZGV4LHVzPWZ1bmN0aW9uKGUsdCl7aWYoISh0PDAmJkhuKGUpJiZlLmhhc0NoaWxkTm9kZXMoKSkpcmV0dXJuIEl1KGUsdCl9LHNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Q2xpZW50UmVjdHMoKSxuPTA8dC5sZW5ndGg/UnUodFswXSk6UnUoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7cmV0dXJuIXp1KGUpJiZpcyhlKSYmanUobik/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LG49RnUodCkscj10LmNyZWF0ZVRleHROb2RlKHdvKSxvPWUucGFyZW50Tm9kZTtvLmluc2VydEJlZm9yZShyLGUpLG4uc2V0U3RhcnQociwwKSxuLnNldEVuZChyLDEpO3ZhciBpPVJ1KG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO3JldHVybiBvLnJlbW92ZUNoaWxkKHIpLGl9KGUpOmp1KG4pJiZ6dShlKT9mdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5lbmRDb250YWluZXIscj1lLnN0YXJ0T2Zmc2V0LG89ZS5lbmRPZmZzZXQ7aWYodD09PW4mJlZuKG4pJiYwPT09ciYmMT09PW8pe3ZhciBpPWUuY2xvbmVSYW5nZSgpO3JldHVybiBpLnNldEVuZEFmdGVyKG4pLHNzKGkpfXJldHVybiBudWxsfShlKTpufSxjcz1mdW5jdGlvbih0LG4sZSl7ZnVuY3Rpb24gcigpe3JldHVybiBlPWV8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSl7dmFyIHQ7MCE9PWUuaGVpZ2h0JiYoMDxvLmxlbmd0aCYmKHQ9b1tvLmxlbmd0aC0xXSxlLmxlZnQ9PT10LmxlZnQmJmUudG9wPT09dC50b3AmJmUuYm90dG9tPT09dC5ib3R0b20mJmUucmlnaHQ9PT10LnJpZ2h0KXx8by5wdXNoKGUpKX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49RnUoZS5vd25lckRvY3VtZW50KTtpZih0PGUuZGF0YS5sZW5ndGgpe2lmKE11KGUuZGF0YVt0XSkpcmV0dXJuIG87aWYoTXUoZS5kYXRhW3QtMV0pJiYobi5zZXRTdGFydChlLHQpLG4uc2V0RW5kKGUsdCsxKSwhSHUobikpKXJldHVybiByKFZ1KHNzKG4pLCExKSksb30wPHQmJihuLnNldFN0YXJ0KGUsdC0xKSxuLnNldEVuZChlLHQpLEh1KG4pfHxyKFZ1KHNzKG4pLCExKSkpLHQ8ZS5kYXRhLmxlbmd0aCYmKG4uc2V0U3RhcnQoZSx0KSxuLnNldEVuZChlLHQrMSksSHUobil8fHIoVnUoc3MobiksITApKSl9dmFyIG89W10sbj1lLmNvbnRhaW5lcigpLGk9ZS5vZmZzZXQoKTtpZihvcyhuKSlyZXR1cm4gdChuLGkpLG87aWYoUXUobikpaWYoZS5pc0F0RW5kKCkpe3ZhciBhPXVzKG4saSk7b3MoYSkmJnQoYSxhLmRhdGEubGVuZ3RoKSxucyhhKSYmIWlzKGEpJiZyKFZ1KHNzKGEpLCExKSl9ZWxzZXtpZihhPXVzKG4saSksb3MoYSkmJnQoYSwwKSxucyhhKSYmZS5pc0F0RW5kKCkpcmV0dXJuIHIoVnUoc3MoYSksITEpKSxvO3ZhciB1PXVzKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKS0xKTtucyh1KSYmIWlzKHUpJiYoIWVzKHUpJiYhZXMoYSkmJm5zKGEpfHxyKFZ1KHNzKHUpLCExKSkpLG5zKGEpJiZyKFZ1KHNzKGEpLCEwKSl9cmV0dXJuIG99KGNzKHQsbikpfXJldHVybntjb250YWluZXI6Sih0KSxvZmZzZXQ6SihuKSx0b1JhbmdlOmZ1bmN0aW9uKCl7dmFyIGU9RnUodC5vd25lckRvY3VtZW50KTtyZXR1cm4gZS5zZXRTdGFydCh0LG4pLGUuc2V0RW5kKHQsbiksZX0sZ2V0Q2xpZW50UmVjdHM6cixpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gMDxyKCkubGVuZ3RofSxpc0F0U3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gb3ModCksMD09PW59LGlzQXRFbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gb3ModCk/bj49dC5kYXRhLmxlbmd0aDpuPj10LmNoaWxkTm9kZXMubGVuZ3RofSxpc0VxdWFsOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0PT09ZS5jb250YWluZXIoKSYmbj09PWUub2Zmc2V0KCl9LGdldE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHVzKHQsZT9uLTE6bil9fX07ZnVuY3Rpb24gbHMoZSx0KXtWbih0KSYmMD09PXQuZGF0YS5sZW5ndGgmJmUucmVtb3ZlKHQpfWZ1bmN0aW9uIGZzKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYztXbihuKT8oaT1lLGE9dCxzPXZlLmZyb20oKHU9bikuZmlyc3RDaGlsZCksYz12ZS5mcm9tKHUubGFzdENoaWxkKSxhLmluc2VydE5vZGUodSkscy5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBscyhpLGUucHJldmlvdXNTaWJsaW5nKX0pLGMuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbHMoaSxlLm5leHRTaWJsaW5nKX0pKToocj1lLHQuaW5zZXJ0Tm9kZShvPW4pLGxzKHIsby5wcmV2aW91c1NpYmxpbmcpLGxzKHIsby5uZXh0U2libGluZykpfWZ1bmN0aW9uIGRzKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PWV9fWZ1bmN0aW9uIG1zKGUpe3ZhciB0LHIsbixvO3JldHVybihsYyhlKT8idGV4dCgpIjplLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKyJbIisocj1nYyhtYyh0PWUpKSxuPWdlKHIsZHModCksdCksbz1tZShyPXIuc2xpY2UoMCxuKzEpLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbGModCkmJmxjKHJbbi0xXSkmJmUrKyxlfSwwKSxnZShyPWZlKHIsb24oW3Qubm9kZU5hbWVdKSksZHModCksdCktbykrIl0ifWZ1bmN0aW9uIGdzKGUsdCl7dmFyIG4scixvLGk9W10sYT10LmNvbnRhaW5lcigpLHU9dC5vZmZzZXQoKTtyZXR1cm4gbGMoYSk/bj1mdW5jdGlvbihlLHQpe2Zvcig7KGU9ZS5wcmV2aW91c1NpYmxpbmcpJiZsYyhlKTspdCs9ZS5kYXRhLmxlbmd0aDtyZXR1cm4gdH0oYSx1KToodT49KHI9YS5jaGlsZE5vZGVzKS5sZW5ndGg/KG49ImFmdGVyIix1PXIubGVuZ3RoLTEpOm49ImJlZm9yZSIsYT1yW3VdKSxpLnB1c2gobXMoYSkpLG89ZmUoZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtmb3IodD10LnBhcmVudE5vZGU7dCE9PWU7dD10LnBhcmVudE5vZGUpbi5wdXNoKHQpO3JldHVybiBufShlLGEpLHMoc24pKSwoaT1pLmNvbmNhdChsZShvLG1zKSkpLnJldmVyc2UoKS5qb2luKCIvIikrIiwiK259ZnVuY3Rpb24gcHMoZSx0KXtpZighdClyZXR1cm4gbnVsbDt2YXIgbj10LnNwbGl0KCIsIikscj1uWzBdLnNwbGl0KCIvIiksbz0xPG4ubGVuZ3RoP25bMV06ImJlZm9yZSIsaT1tZShyLGZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYT0vKFtcd1wtXChcKV0rKVxbKFswLTldKylcXS8uZXhlYyh0KTtyZXR1cm4gYT8oInRleHQoKSI9PT1hWzFdJiYoYVsxXT0iI3RleHQiKSxuPWUscj1hWzFdLG89cGFyc2VJbnQoYVsyXSwxMCksaT1mZShpPWdjKG4pLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIWxjKGUpfHwhbGMoaVt0LTFdKX0pLChpPWZlKGksb24oW3JdKSkpW29dKTpudWxsfSxlKTtyZXR1cm4gaT9sYyhpKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUsbz0wO2xjKHIpOyl7aWYobj1yLmRhdGEubGVuZ3RoLG88PXQmJnQ8PW8rbil7ZT1yLHQtPW87YnJlYWt9aWYoIWxjKHIubmV4dFNpYmxpbmcpKXtlPXIsdD1uO2JyZWFrfW8rPW4scj1yLm5leHRTaWJsaW5nfXJldHVybiBsYyhlKSYmdD5lLmRhdGEubGVuZ3RoJiYodD1lLmRhdGEubGVuZ3RoKSxjcyhlLHQpfShpLHBhcnNlSW50KG8sMTApKToobz0iYWZ0ZXIiPT09bz9kYyhpKSsxOmRjKGkpLGNzKGkucGFyZW50Tm9kZSxvKSk6bnVsbH1mdW5jdGlvbiBocyhlLHQsbixyLG8pe3ZhciBpLGE9cltvPyJzdGFydENvbnRhaW5lciI6ImVuZENvbnRhaW5lciJdLHU9cltvPyJzdGFydE9mZnNldCI6ImVuZE9mZnNldCJdLHM9W10sYz0wLGw9ZS5nZXRSb290KCk7Zm9yKFZuKGEpP3MucHVzaChuP2Z1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZSh0LmRhdGEuc2xpY2UoMCxuKSkubGVuZ3RoLG89dC5wcmV2aW91c1NpYmxpbmc7byYmVm4obyk7bz1vLnByZXZpb3VzU2libGluZylyKz1lKG8uZGF0YSkubGVuZ3RoO3JldHVybiByfSh0LGEsdSk6dSk6KHU+PShpPWEuY2hpbGROb2RlcykubGVuZ3RoJiZpLmxlbmd0aCYmKGM9MSx1PU1hdGgubWF4KDAsaS5sZW5ndGgtMSkpLHMucHVzaChlLm5vZGVJbmRleChpW3VdLG4pK2MpKTthJiZhIT09bDthPWEucGFyZW50Tm9kZSlzLnB1c2goZS5ub2RlSW5kZXgoYSxuKSk7cmV0dXJuIHN9ZnVuY3Rpb24gdnMoZSx0LG4pe3ZhciByPTA7cmV0dXJuIE50LmVhY2goZS5zZWxlY3QodCksZnVuY3Rpb24oZSl7aWYoImFsbCIhPT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSlyZXR1cm4gZSE9PW4mJnZvaWQgcisrfSkscn1mdW5jdGlvbiBicyhlLHQpe3ZhciBuLHI9dD8ic3RhcnQiOiJlbmQiLG89ZVtyKyJDb250YWluZXIiXSxpPWVbcisiT2Zmc2V0Il07SG4obykmJiJUUiI9PT1vLm5vZGVOYW1lJiYobz0obj1vLmNoaWxkTm9kZXMpW01hdGgubWluKHQ/aTppLTEsbi5sZW5ndGgtMSldKSYmKGk9dD8wOm8uY2hpbGROb2Rlcy5sZW5ndGgsZVsic2V0IisodD8iU3RhcnQiOiJFbmQiKV0obyxpKSl9ZnVuY3Rpb24geXMoZSl7cmV0dXJuIGJzKGUsITApLGJzKGUsITEpLGV9ZnVuY3Rpb24gQ3MoZSx0KXt2YXIgbjtyZXR1cm4gSG4oZSkmJihlPUl1KGUsdCkscGMoZSkpP2U6TXIoZSk/KG49KGU9Vm4oZSkmJkxyKGUpP2UucGFyZW50Tm9kZTplKS5wcmV2aW91c1NpYmxpbmcscGMobik/bjoobj1lLm5leHRTaWJsaW5nLHBjKG4pP246dm9pZCAwKSk6dm9pZCAwfWZ1bmN0aW9uIHhzKGUsdCxuKXt2YXIgcj1uLmdldE5vZGUoKSxvPXI/ci5ub2RlTmFtZTpudWxsLGk9bi5nZXRSbmcoKTtpZihwYyhyKXx8IklNRyI9PT1vKXJldHVybntuYW1lOm8saW5kZXg6dnMobi5kb20sbyxyKX07dmFyIGEsdSxzLGMsbCxmLGQsbT1DcygoYT1pKS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KXx8Q3MoYS5lbmRDb250YWluZXIsYS5lbmRPZmZzZXQpO3JldHVybiBtP3tuYW1lOm89bS50YWdOYW1lLGluZGV4OnZzKG4uZG9tLG8sbSl9OihmPShzPW4pLmRvbSwoZD17fSkuc3RhcnQ9aHMoZix1PWUsYz10LGw9aSwhMCkscy5pc0NvbGxhcHNlZCgpfHwoZC5lbmQ9aHMoZix1LGMsbCwhMSkpLGpyKGwpJiYoZC5pc0Zha2VDYXJldD0hMCksZCl9ZnVuY3Rpb24gd3MoZSx0LG4pe3ZhciByPXsiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIixpZDp0LHN0eWxlOiJvdmVyZmxvdzpoaWRkZW47bGluZS1oZWlnaHQ6MHB4In07cmV0dXJuIG4/ZS5jcmVhdGUoInNwYW4iLHIsIiYjeEZFRkY7Iik6ZS5jcmVhdGUoInNwYW4iLHIpfWZ1bmN0aW9uIFNzKGUsdCl7dmFyIG49ZS5kb20scj1lLmdldFJuZygpLG89bi51bmlxdWVJZCgpLGk9ZS5pc0NvbGxhcHNlZCgpLGE9ZS5nZXROb2RlKCksdT1hLm5vZGVOYW1lO2lmKCJJTUciPT09dSlyZXR1cm57bmFtZTp1LGluZGV4OnZzKG4sdSxhKX07dmFyIHM9eXMoci5jbG9uZVJhbmdlKCkpO3JldHVybiBpfHwocy5jb2xsYXBzZSghMSksZnMobixzLHdzKG4sbysiX2VuZCIsdCkpKSwocj15cyhyKSkuY29sbGFwc2UoITApLGZzKG4scix3cyhuLG8rIl9zdGFydCIsdCkpLGUubW92ZVRvQm9va21hcmsoe2lkOm8sa2VlcDohMH0pLHtpZDpvfX1mdW5jdGlvbiBOcyhlLHQsbil7dmFyIHI9ZS5nZXRQYXJhbSh0LG4pO3JldHVybi0xPT09ci5pbmRleE9mKCI9Iik/cjp1ZShlLmdldFBhcmFtKHQsIiIsImhhc2giKSxlLmlkKS5nZXRPcihuKX1mdW5jdGlvbiBFcyhlKXtyZXR1cm4gZS5nZXRQYXJhbSgiY29udGVudF9zZWN1cml0eV9wb2xpY3kiLCIiKX1mdW5jdGlvbiBrcyhlKXtpZihlLmdldFBhcmFtKCJmb3JjZV9wX25ld2xpbmVzIiwhMSkpcmV0dXJuInAiO3ZhciB0PWUuZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrIiwicCIpO3JldHVybiExPT09dD8iIjohMD09PXQ/InAiOnR9ZnVuY3Rpb24gX3MoZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrX2F0dHJzIix7fSl9ZnVuY3Rpb24gQXMoZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImF1dG9tYXRpY191cGxvYWRzIiwhMCwiYm9vbGVhbiIpfWZ1bmN0aW9uIFJzKGUpe3JldHVybiBlLmdldFBhcmFtKCJpY29ucyIsIiIsInN0cmluZyIpfWZ1bmN0aW9uIERzKGUpe3JldHVybiBlLmdldFBhcmFtKCJyZWZlcnJlcl9wb2xpY3kiLCIiLCJzdHJpbmciKX1mdW5jdGlvbiBUcyhlKXtyZXR1cm4gZS5nZXRQYXJhbSgibGFuZ3VhZ2UiLCJlbiIsInN0cmluZyIpfWZ1bmN0aW9uIE9zKGUpe3JldHVybiBlLmdldFBhcmFtKCJpbmRlbnRfdXNlX21hcmdpbiIsITEpfWZ1bmN0aW9uIEJzKGUpe3ZhciB0PWUuZ2V0UGFyYW0oImZvbnRfY3NzIixbXSk7cmV0dXJuIFModCk/dDpBKHQuc3BsaXQoIiwiKSxKZSl9ZnVuY3Rpb24gUHMoZSl7dmFyIHQ9ZS5nZXRQYXJhbSgib2JqZWN0X3Jlc2l6aW5nIik7cmV0dXJuITEhPT10JiYheHQuaU9TJiYoWCh0KT90OiJ0YWJsZSxpbWcsZmlndXJlLmltYWdlLGRpdix2aWRlbyxpZnJhbWUiKX1mdW5jdGlvbiBMcyhlKXtyZXR1cm4gZS5nZXRQYXJhbSgiZXZlbnRfcm9vdCIpfWZ1bmN0aW9uIElzKGUpe3JldHVybiBlLmdldFBhcmFtKCJ0aGVtZSIpfWZ1bmN0aW9uIE1zKGUpe3JldHVybiExIT09ZS5nZXRQYXJhbSgiaW5saW5lX2JvdW5kYXJpZXMiKX1mdW5jdGlvbiBGcyhlKXtyZXR1cm4gZS5nZXRQYXJhbSgicGx1Z2lucyIsIiIsInN0cmluZyIpfWZ1bmN0aW9uIFVzKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHpzKGUpe3ZhciB0PUVvKGUpO3JldHVybntjb3VudDplLmxlbmd0aC10Lmxlbmd0aCx0ZXh0OnR9fWZ1bmN0aW9uIEhzKGUpe2Zvcih2YXIgdDstMSE9PSh0PWUuZGF0YS5sYXN0SW5kZXhPZihTbykpOyllLmRlbGV0ZURhdGEodCwxKX1mdW5jdGlvbiBqcyhlLHQpe3JldHVybiBDYyhlKSx0fWZ1bmN0aW9uIFZzKGUsdCl7dmFyIG4scj10LmNvbnRhaW5lcigpLG89KC0xPT09KG49Xyh4ZShyLmNoaWxkTm9kZXMpLGUpKT92ZS5ub25lKCk6dmUuc29tZShuKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPHQub2Zmc2V0KCk/Y3Mocix0Lm9mZnNldCgpLTEpOnR9KS5nZXRPcih0KTtyZXR1cm4gQ2MoZSksb31mdW5jdGlvbiBxcyhlLHQpe3JldHVybiBjcy5pc1RleHRQb3NpdGlvbih0KT8ocj10LHljKG49ZSkmJnIuY29udGFpbmVyKCk9PT1uPyhhPXpzKChvPW4pLmRhdGEuc3Vic3RyKDAsKGk9cikub2Zmc2V0KCkpKSx1PXpzKG8uZGF0YS5zdWJzdHIoaS5vZmZzZXQoKSkpLDA8KGEudGV4dCt1LnRleHQpLmxlbmd0aD8oSHMobyksY3MobyxpLm9mZnNldCgpLWEuY291bnQpKTppKTpqcyhuLHIpKToocz1lLCgoYz10KS5jb250YWluZXIoKT09PXMucGFyZW50Tm9kZT9WczpqcykocyxjKSk7dmFyIG4scixvLGksYSx1LHMsY31mdW5jdGlvbiAkcyhlLHQsbil7dmFyIHIsbyxpLGE9RHUodC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuKSx1PSJCT0RZIj09PWUudGFnTmFtZT8ocj1lLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG89ZS5zY3JvbGxMZWZ0fHxyLnNjcm9sbExlZnQsZS5zY3JvbGxUb3B8fHIuc2Nyb2xsVG9wKTooaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89ZS5zY3JvbGxMZWZ0LWkubGVmdCxlLnNjcm9sbFRvcC1pLnRvcCk7YS5sZWZ0Kz1vLGEucmlnaHQrPW8sYS50b3ArPXUsYS5ib3R0b20rPXUsYS53aWR0aD0xO3ZhciBzPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aDtyZXR1cm4gMDxzJiYobiYmKHMqPS0xKSxhLmxlZnQrPXMsYS5yaWdodCs9cyksYX1mdW5jdGlvbiBXcyhlLGksYSx1KXtmdW5jdGlvbiBzKCl7IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXl1KEV0LmZyb21Eb20oaSksIipbY29udGVudEVkaXRhYmxlPWZhbHNlXSx2aWRlbyxhdWRpbyxlbWJlZCxvYmplY3QiKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuLHI9ZVt0XS5kb20sbz1yLnByZXZpb3VzU2libGluZztSbyhvKSYmKDE9PT0obj1vLmRhdGEpLmxlbmd0aD9vLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyk6by5kZWxldGVEYXRhKG4ubGVuZ3RoLTEsMSkpLG89ci5uZXh0U2libGluZyxBbyhvKSYmKDE9PT0obj1vLmRhdGEpLmxlbmd0aD9vLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyk6by5kZWxldGVEYXRhKDAsMSkpfX0oKSxsJiYoQ2MobCksbD1udWxsKSxmLm9uKGZ1bmN0aW9uKGUpe1lhKGUuY2FyZXQpLnJlbW92ZSgpLGYuY2xlYXIoKX0pLGMmJihBci5jbGVhckludGVydmFsKGMpLGM9dm9pZCAwKX12YXIgYyxsLGY9ZHUoKSx0PWtzKGUpLGQ9MDx0Lmxlbmd0aD90OiJwIjtyZXR1cm57c2hvdzpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKHMoKSxOYyh0KSlyZXR1cm4gbnVsbDtpZighYSh0KSlyZXR1cm4gbD1mdW5jdGlvbihlLHQpe3ZhciBuPWUub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTbykscj1lLnBhcmVudE5vZGU7aWYodCl7aWYobz1lLnByZXZpb3VzU2libGluZyxfbyhvKSl7aWYoTXIobykpcmV0dXJuIG87aWYoUm8obykpcmV0dXJuIG8uc3BsaXRUZXh0KG8uZGF0YS5sZW5ndGgtMSl9ci5pbnNlcnRCZWZvcmUobixlKX1lbHNle3ZhciBvPWUubmV4dFNpYmxpbmc7aWYoX28obykpe2lmKE1yKG8pKXJldHVybiBvO2lmKEFvKG8pKXJldHVybiBvLnNwbGl0VGV4dCgxKSxvfWUubmV4dFNpYmxpbmc/ci5pbnNlcnRCZWZvcmUobixlLm5leHRTaWJsaW5nKTpyLmFwcGVuZENoaWxkKG4pfXJldHVybiBufSh0LGUpLG49dC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCksRWMobC5uZXh0U2libGluZyk/KG4uc2V0U3RhcnQobCwwKSxuLnNldEVuZChsLDApKToobi5zZXRTdGFydChsLDEpLG4uc2V0RW5kKGwsMSkpLG47bD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbz10Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtvLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiLG4/ImJlZm9yZSI6ImFmdGVyIiksby5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiwiYWxsIiksby5hcHBlbmRDaGlsZCgoKHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSkuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsIjEiKSxyKSk7dmFyIGk9dC5wYXJlbnROb2RlO3JldHVybiBuP2kuaW5zZXJ0QmVmb3JlKG8sdCk6dC5uZXh0U2libGluZz9pLmluc2VydEJlZm9yZShvLHQubmV4dFNpYmxpbmcpOmkuYXBwZW5kQ2hpbGQobyksb30oZCx0LGUpO3ZhciByPSRzKGksdCxlKTtZYShsKS5jc3MoInRvcCIsci50b3ApO3ZhciBvPVlhKCc8ZGl2IGNsYXNzPSJtY2UtdmlzdWFsLWNhcmV0IiBkYXRhLW1jZS1ib2d1cz0iYWxsIj48L2Rpdj4nKS5jc3MoX2Uoe30scikpLmFwcGVuZFRvKGkpWzBdO3JldHVybiBmLnNldCh7Y2FyZXQ6byxlbGVtZW50OnQsYmVmb3JlOmV9KSxlJiZZYShvKS5hZGRDbGFzcygibWNlLXZpc3VhbC1jYXJldC1iZWZvcmUiKSxjPUFyLnNldEludGVydmFsKGZ1bmN0aW9uKCl7dSgpP1lhKCJkaXYubWNlLXZpc3VhbC1jYXJldCIsaSkudG9nZ2xlQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIik6WWEoImRpdi5tY2UtdmlzdWFsLWNhcmV0IixpKS5hZGRDbGFzcygibWNlLXZpc3VhbC1jYXJldC1oaWRkZW4iKX0sNTAwKSwobj10Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQobCwwKSxuLnNldEVuZChsLDApLG59LGhpZGU6cyxnZXRDc3M6ZnVuY3Rpb24oKXtyZXR1cm4iLm1jZS12aXN1YWwtY2FyZXQge3Bvc2l0aW9uOiBhYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Y29sb3I7fS5tY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiB7ZGlzcGxheTogbm9uZTt9KltkYXRhLW1jZS1jYXJldF0ge3Bvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAtMTAwMHB4O3JpZ2h0OiBhdXRvO3RvcDogMDttYXJnaW46IDA7cGFkZGluZzogMDt9In0scmVwb3NpdGlvbjpmdW5jdGlvbigpe2Yub24oZnVuY3Rpb24oZSl7dmFyIHQ9JHMoaSxlLmVsZW1lbnQsZS5iZWZvcmUpO1lhKGUuY2FyZXQpLmNzcyhfZSh7fSx0KSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3JldHVybiBBci5jbGVhckludGVydmFsKGMpfX19ZnVuY3Rpb24gS3MoKXtyZXR1cm4geGMuaXNJRSgpfHx4Yy5pc0VkZ2UoKXx8eGMuaXNGaXJlZm94KCl9ZnVuY3Rpb24gWHMoZSl7cmV0dXJuIEVjKGUpfHxjbihlKSYmS3MoKX1mdW5jdGlvbiBZcyhlLHQpe2Zvcih2YXIgbjtuPWUodCk7KWlmKCFEYyhuKSlyZXR1cm4gbjtyZXR1cm4gbnVsbH1mdW5jdGlvbiBHcyhlLHQsbixyLG8pe3ZhciBpPW5ldyBEcihlLHIpLGE9a2MoZSl8fERjKGUpO2lmKHQ8MCl7aWYoYSYmbihlPVlzKGkucHJldi5iaW5kKGkpLCEwKSkpcmV0dXJuIGU7Zm9yKDtlPVlzKGkucHJldi5iaW5kKGkpLG8pOylpZihuKGUpKXJldHVybiBlfWlmKDA8dCl7aWYoYSYmbihlPVlzKGkubmV4dC5iaW5kKGkpLCEwKSkpcmV0dXJuIGU7Zm9yKDtlPVlzKGkubmV4dC5iaW5kKGkpLG8pOylpZihuKGUpKXJldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIEpzKGUsdCl7Zm9yKDtlJiZlIT09dDspe2lmKEFjKGUpKXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIFFzKGUsdCxuKXtyZXR1cm4gSnMoZS5jb250YWluZXIoKSxuKT09PUpzKHQuY29udGFpbmVyKCksbil9ZnVuY3Rpb24gWnMoZSx0KXtpZighdClyZXR1cm4gbnVsbDt2YXIgbj10LmNvbnRhaW5lcigpLHI9dC5vZmZzZXQoKTtyZXR1cm4gVGMobik/bi5jaGlsZE5vZGVzW3IrZV06bnVsbH1mdW5jdGlvbiBlYyhlLHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBlPyhuLnNldFN0YXJ0QmVmb3JlKHQpLG4uc2V0RW5kQmVmb3JlKHQpKToobi5zZXRTdGFydEFmdGVyKHQpLG4uc2V0RW5kQWZ0ZXIodCkpLG59ZnVuY3Rpb24gdGMoZSx0LG4pe2Zvcih2YXIgcixvLGk9ZT8icHJldmlvdXNTaWJsaW5nIjoibmV4dFNpYmxpbmciO24mJm4hPT10Oyl7dmFyIGE9bltpXTtpZihSYyhhKSYmKGE9YVtpXSksa2MoYSl8fF9jKGEpKXtpZihvPW4sSnMoYSxyPXQpPT09SnMobyxyKSlyZXR1cm4gYTticmVha31pZihPYyhhKSlicmVhaztuPW4ucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBuYyhlLHQsbil7dmFyIHIsbz1SKHRjLCEwLHQpLGk9Uih0YywhMSx0KSxhPW4uc3RhcnRDb250YWluZXIsdT1uLnN0YXJ0T2Zmc2V0O2lmKExyKGEpKXt2YXIgcz0oYT1UYyhhKT9hOmEucGFyZW50Tm9kZSkuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpO2lmKCJiZWZvcmUiPT09cyYmWHMocj1hLm5leHRTaWJsaW5nKSlyZXR1cm4gQmMocik7aWYoImFmdGVyIj09PXMmJlhzKHI9YS5wcmV2aW91c1NpYmxpbmcpKXJldHVybiBQYyhyKX1pZighbi5jb2xsYXBzZWQpcmV0dXJuIG47aWYoVm4oYSkpe2lmKFJjKGEpKXtpZigxPT09ZSl7aWYocj1pKGEpKXJldHVybiBCYyhyKTtpZihyPW8oYSkpcmV0dXJuIFBjKHIpfWlmKC0xPT09ZSl7aWYocj1vKGEpKXJldHVybiBQYyhyKTtpZihyPWkoYSkpcmV0dXJuIEJjKHIpfXJldHVybiBufWlmKFJvKGEpJiZ1Pj1hLmRhdGEubGVuZ3RoLTEpcmV0dXJuIDE9PT1lJiYocj1pKGEpKT9CYyhyKTpuO2lmKEFvKGEpJiZ1PD0xKXJldHVybi0xPT09ZSYmKHI9byhhKSk/UGMocik6bjtpZih1PT09YS5kYXRhLmxlbmd0aClyZXR1cm4ocj1pKGEpKT9CYyhyKTpuO2lmKDA9PT11KXJldHVybihyPW8oYSkpP1BjKHIpOm59cmV0dXJuIG59ZnVuY3Rpb24gcmMoZSx0KXtyZXR1cm4gdmUuZnJvbShacyhlPzA6LTEsdCkpLmZpbHRlcihrYyl9ZnVuY3Rpb24gb2MoZSx0LG4pe3ZhciByPW5jKGUsdCxuKTtyZXR1cm4tMT09PWU/Y3MuZnJvbVJhbmdlU3RhcnQocik6Y3MuZnJvbVJhbmdlRW5kKHIpfWZ1bmN0aW9uIGljKGUpe3JldHVybiB2ZS5mcm9tKGUuZ2V0Tm9kZSgpKS5tYXAoRXQuZnJvbURvbSl9ZnVuY3Rpb24gYWMoZSx0KXtmb3IoO3Q9ZSh0KTspaWYodC5pc1Zpc2libGUoKSlyZXR1cm4gdDtyZXR1cm4gdH1mdW5jdGlvbiB1YyhlLHQpe3ZhciBuPVFzKGUsdCk7cmV0dXJuIShufHwhS24oZS5nZXROb2RlKCkpKXx8bn1jcy5mcm9tUmFuZ2VTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gY3MoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KX0sY3MuZnJvbVJhbmdlRW5kPWZ1bmN0aW9uKGUpe3JldHVybiBjcyhlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9LGNzLmFmdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBjcyhlLnBhcmVudE5vZGUsYXMoZSkrMSl9LGNzLmJlZm9yZT1mdW5jdGlvbihlKXtyZXR1cm4gY3MoZS5wYXJlbnROb2RlLGFzKGUpKX0sY3MuaXNBYm92ZT1mdW5jdGlvbihlLHQpe3JldHVybiBkbihRKHQuZ2V0Q2xpZW50UmVjdHMoKSksWihlLmdldENsaWVudFJlY3RzKCkpLE91KS5nZXRPcighMSl9LGNzLmlzQmVsb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZG4oWih0LmdldENsaWVudFJlY3RzKCkpLFEoZS5nZXRDbGllbnRSZWN0cygpKSxCdSkuZ2V0T3IoITEpfSxjcy5pc0F0U3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLmlzQXRTdGFydCgpfSxjcy5pc0F0RW5kPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmZS5pc0F0RW5kKCl9LGNzLmlzVGV4dFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmVm4oZS5jb250YWluZXIoKSl9LGNzLmlzRWxlbWVudFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiExPT09Y3MuaXNUZXh0UG9zaXRpb24oZSl9O3ZhciBzYyxjYyxsYz1WbixmYz1zbixkYz1ldS5ub2RlSW5kZXgsbWM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiBmYyh0KT9tYyh0KTp0fSxnYz1mdW5jdGlvbihlKXtyZXR1cm4gZT9tZShlLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZmModCkmJiJCUiIhPT10Lm5vZGVOYW1lP2U9ZS5jb25jYXQoZ2ModCkpOmUucHVzaCh0KSxlfSxbXSk6W119LHBjPUduLGhjPVIoeHMsdSwhMCksdmM9ZXUuRE9NLGJjPUhuLHljPVZuLENjPWZ1bmN0aW9uKGUpe2JjKGUpJiZNcihlKSYmKEZyKGUpP2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpOlVzKGUpKSx5YyhlKSYmKEhzKGUpLDA9PT1lLmRhdGEubGVuZ3RoJiZVcyhlKSl9LHhjPWR0KCkuYnJvd3Nlcix3Yz1HbixTYz1RbixOYz1KbixFYz1mdW5jdGlvbihlKXtyZXR1cm4gd2MoZSl8fFNjKGUpfSxrYz1HbixfYz1RbixBYz1hbigiZGlzcGxheSIsImJsb2NrIHRhYmxlIHRhYmxlLWNlbGwgdGFibGUtY2FwdGlvbiBsaXN0LWl0ZW0iKSxSYz1NcixEYz1McixUYz1IbixPYz1WcixCYz1SKGVjLCEwKSxQYz1SKGVjLCExKTtmdW5jdGlvbiBMYyhlLHQpe3JldHVybiBlLmhhc0NoaWxkTm9kZXMoKSYmdDxlLmNoaWxkTm9kZXMubGVuZ3RoP2UuY2hpbGROb2Rlc1t0XTpudWxsfWZ1bmN0aW9uIEljKGUsdCl7aWYoMDxlKXtpZihHbCh0LnByZXZpb3VzU2libGluZykmJiFLbCh0LnByZXZpb3VzU2libGluZykpcmV0dXJuIGNzLmJlZm9yZSh0KTtpZihLbCh0KSlyZXR1cm4gY3ModCwwKX1pZihlPDApe2lmKEdsKHQubmV4dFNpYmxpbmcpJiYhS2wodC5uZXh0U2libGluZykpcmV0dXJuIGNzLmFmdGVyKHQpO2lmKEtsKHQpKXJldHVybiBjcyh0LHQuZGF0YS5sZW5ndGgpfXJldHVybiBlPDAmJiFZbCh0KT9jcy5hZnRlcih0KTpjcy5iZWZvcmUodCl9ZnVuY3Rpb24gTWModCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFFsKHNjLkZvcndhcmRzLGUsdCl9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIFFsKHNjLkJhY2t3YXJkcyxlLHQpfX19ZnVuY3Rpb24gRmMoZSl7cmV0dXJuIGNzLmlzVGV4dFBvc2l0aW9uKGUpPzA9PT1lLm9mZnNldCgpOlZyKGUuZ2V0Tm9kZSgpKX1mdW5jdGlvbiBVYyhlKXtpZihjcy5pc1RleHRQb3NpdGlvbihlKSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gZS5vZmZzZXQoKT09PXQuZGF0YS5sZW5ndGh9cmV0dXJuIFZyKGUuZ2V0Tm9kZSghMCkpfWZ1bmN0aW9uIHpjKGUsdCl7cmV0dXJuIWNzLmlzVGV4dFBvc2l0aW9uKGUpJiYhY3MuaXNUZXh0UG9zaXRpb24odCkmJmUuZ2V0Tm9kZSgpPT09dC5nZXROb2RlKCEwKX1mdW5jdGlvbiBIYyhvLGksYSl7cmV0dXJuIFpsKG8saSxhKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBRcyhhLGUsaSkmJih0PWEsbj1lLG8/IXpjKHQsbikmJihjcy5pc1RleHRQb3NpdGlvbihyPXQpfHwhS24oci5nZXROb2RlKCkpKSYmVWModCkmJkZjKG4pOiF6YyhuLHQpJiZGYyh0KSYmVWMobikpP1psKG8saSxlKTp2ZS5zb21lKGUpO3ZhciB0LG4scn0pfWZ1bmN0aW9uIGpjKGUsdCl7dmFyIG4scixvLGksYSx1PWU/dC5maXJzdENoaWxkOnQubGFzdENoaWxkO3JldHVybiBWbih1KT92ZS5zb21lKGNzKHUsZT8wOnUuZGF0YS5sZW5ndGgpKTp1P1ZyKHUpP3ZlLnNvbWUoZT9jcy5iZWZvcmUodSk6S24oYT11KT9jcy5iZWZvcmUoYSk6Y3MuYWZ0ZXIoYSkpOihyPXQsbz11LGk9KG49ZSk/Y3MuYmVmb3JlKG8pOmNzLmFmdGVyKG8pLFpsKG4scixpKSk6dmUubm9uZSgpfWZ1bmN0aW9uIFZjKGUpe3JldHVybiBIbihlKSYmZS5pZD09PWFmfWZ1bmN0aW9uIHFjKGUsdCl7Zm9yKDt0JiZ0IT09ZTspe2lmKHQuaWQ9PT1hZilyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiAkYyhlKXtyZXR1cm4gTnQuaXNBcnJheShlLnN0YXJ0KX1mdW5jdGlvbiBXYyhlLHQpe3JldHVybiBIbih0KSYmZS5pc0Jsb2NrKHQpJiYhdC5pbm5lckhUTUwmJiF4dC5pZSYmKHQuaW5uZXJIVE1MPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiIC8+JyksdH1mdW5jdGlvbiBLYyhlLHQsbil7cmV0dXJuITE9PT10Lmhhc0NoaWxkTm9kZXMoKSYmcWMoZSx0KSYmKG89bixpPShyPXQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU28pLHIuYXBwZW5kQ2hpbGQoaSksby5zZXRTdGFydChpLDApLG8uc2V0RW5kKGksMCksMSk7dmFyIHIsbyxpfWZ1bmN0aW9uIFhjKGUsdCxuLHIpe3ZhciBvLGksYSx1LHM9blt0PyJzdGFydCI6ImVuZCJdLGM9ZS5nZXRSb290KCk7aWYocyl7Zm9yKGE9c1swXSxpPWMsbz1zLmxlbmd0aC0xOzE8PW87by0tKXtpZih1PWkuY2hpbGROb2RlcyxLYyhjLGkscikpcmV0dXJuIDE7aWYoc1tvXT51Lmxlbmd0aC0xKXJldHVybiBLYyhjLGkscil8fGZ1bmN0aW9uKHQpe3JldHVybiBvZihpKS5mb2xkKEQsZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSx0LnNldEVuZChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLCEwfSl9KHIpO2k9dVtzW29dXX0zPT09aS5ub2RlVHlwZSYmKGE9TWF0aC5taW4oc1swXSxpLm5vZGVWYWx1ZS5sZW5ndGgpKSwxPT09aS5ub2RlVHlwZSYmKGE9TWF0aC5taW4oc1swXSxpLmNoaWxkTm9kZXMubGVuZ3RoKSksdD9yLnNldFN0YXJ0KGksYSk6ci5zZXRFbmQoaSxhKX1yZXR1cm4gMX1mdW5jdGlvbiBZYyhlKXtyZXR1cm4gVm4oZSkmJjA8ZS5kYXRhLmxlbmd0aH1mdW5jdGlvbiBHYyhlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGM9ZS5nZXQobi5pZCsiXyIrdCksbD1uLmtlZXA7aWYoYyl7aWYocj1jLnBhcmVudE5vZGUsbz0ic3RhcnQiPT09dD9sP2MuaGFzQ2hpbGROb2RlcygpPyhyPWMuZmlyc3RDaGlsZCwxKTpZYyhjLm5leHRTaWJsaW5nKT8ocj1jLm5leHRTaWJsaW5nLDApOlljKGMucHJldmlvdXNTaWJsaW5nKT8ocj1jLnByZXZpb3VzU2libGluZyxjLnByZXZpb3VzU2libGluZy5kYXRhLmxlbmd0aCk6KHI9Yy5wYXJlbnROb2RlLGUubm9kZUluZGV4KGMpKzEpOmUubm9kZUluZGV4KGMpOmw/Yy5oYXNDaGlsZE5vZGVzKCk/KHI9Yy5maXJzdENoaWxkLDEpOlljKGMucHJldmlvdXNTaWJsaW5nKT8ocj1jLnByZXZpb3VzU2libGluZyxjLnByZXZpb3VzU2libGluZy5kYXRhLmxlbmd0aCk6KHI9Yy5wYXJlbnROb2RlLGUubm9kZUluZGV4KGMpKTplLm5vZGVJbmRleChjKSx1PXIscz1vLCFsKXtmb3IoYT1jLnByZXZpb3VzU2libGluZyxpPWMubmV4dFNpYmxpbmcsTnQuZWFjaChOdC5ncmVwKGMuY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7Vm4oZSkmJihlLm5vZGVWYWx1ZT1lLm5vZGVWYWx1ZS5yZXBsYWNlKC9cdUZFRkYvZywiIikpfSk7Yz1lLmdldChuLmlkKyJfIit0KTspZS5yZW1vdmUoYywhMCk7YSYmaSYmYS5ub2RlVHlwZT09PWkubm9kZVR5cGUmJlZuKGEpJiYheHQub3BlcmEmJihvPWEubm9kZVZhbHVlLmxlbmd0aCxhLmFwcGVuZERhdGEoaS5ub2RlVmFsdWUpLGUucmVtb3ZlKGkpLHU9YSxzPW8pfXJldHVybiB2ZS5zb21lKGNzKHUscykpfXJldHVybiB2ZS5ub25lKCl9ZnVuY3Rpb24gSmModCxlKXshZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjLGwsZixkLG0sZz1lLmRvbTtpZih0KXtpZigkYyh0KSlyZXR1cm4gZD10LG09KGY9ZykuY3JlYXRlUm5nKCksWGMoZiwhMCxkLG0pJiZYYyhmLCExLGQsbSk/dmUuc29tZShtKTp2ZS5ub25lKCk7aWYoWCh0LnN0YXJ0KSlyZXR1cm4gdmUuc29tZSgocz10LGM9KHU9ZykuY3JlYXRlUm5nKCksbD1wcyh1LmdldFJvb3QoKSxzLnN0YXJ0KSxjLnNldFN0YXJ0KGwuY29udGFpbmVyKCksbC5vZmZzZXQoKSksbD1wcyh1LmdldFJvb3QoKSxzLmVuZCksYy5zZXRFbmQobC5jb250YWluZXIoKSxsLm9mZnNldCgpKSxjKSk7aWYoRWUodCwiaWQiKSlyZXR1cm4gZG4oYT1HYyhvPWcsInN0YXJ0IixpPXQpLEdjKG8sImVuZCIsaSkub3IoYSksZnVuY3Rpb24oZSx0KXt2YXIgbj1vLmNyZWF0ZVJuZygpO3JldHVybiBuLnNldFN0YXJ0KFdjKG8sZS5jb250YWluZXIoKSksZS5vZmZzZXQoKSksbi5zZXRFbmQoV2Mobyx0LmNvbnRhaW5lcigpKSx0Lm9mZnNldCgpKSxufSk7aWYoRWUodCwibmFtZSIpKXJldHVybiBuPWcsdmUuZnJvbShuLnNlbGVjdCgocj10KS5uYW1lKVtyLmluZGV4XSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uY3JlYXRlUm5nKCk7cmV0dXJuIHQuc2VsZWN0Tm9kZShlKSx0fSk7aWYoRWUodCwicm5nIikpcmV0dXJuIHZlLnNvbWUodC5ybmcpfXJldHVybiB2ZS5ub25lKCl9KHQsZSkuZWFjaChmdW5jdGlvbihlKXt0LnNldFJuZyhlKX0pfWZ1bmN0aW9uIFFjKGUpe3JldHVybiBIbihlKSYmIlNQQU4iPT09ZS50YWdOYW1lJiYiYm9va21hcmsiPT09ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXR5cGUiKX1mdW5jdGlvbiBaYyhlKXtyZXR1cm4iIiE9PWUmJi0xIT09IiBcZlxuXHJcdFx2Ii5pbmRleE9mKGUpfWZ1bmN0aW9uIGVsKGUpe3JldHVybiFaYyhlKSYmIXNmKGUpfWZ1bmN0aW9uIHRsKGUpe3JldHVybiBlLm5vZGVUeXBlfWZ1bmN0aW9uIG5sKGUsdCxuKXt2YXIgcixvPW4uc3RhcnRPZmZzZXQsaT1uLnN0YXJ0Q29udGFpbmVyO2lmKChpIT09bi5lbmRDb250YWluZXJ8fCEocj1pLmNoaWxkTm9kZXNbb10pfHwhL14oSU1HKSQvLnRlc3Qoci5ub2RlTmFtZSkpJiZIbihpKSl7dmFyIGE9aS5jaGlsZE5vZGVzLHU9dm9pZCAwO288YS5sZW5ndGg/KGk9YVtvXSx1PW5ldyBEcihpLGUuZ2V0UGFyZW50KGksZS5pc0Jsb2NrKSkpOihpPWFbYS5sZW5ndGgtMV0sKHU9bmV3IERyKGksZS5nZXRQYXJlbnQoaSxlLmlzQmxvY2spKSkubmV4dCghMCkpO2Zvcih2YXIgcz11LmN1cnJlbnQoKTtzO3M9dS5uZXh0KCkpaWYoVm4ocykmJiFjZihzKSlyZXR1cm4gbi5zZXRTdGFydChzLDApLHQuc2V0Um5nKG4pLDB9fWZ1bmN0aW9uIHJsKGUsdCxuKXtpZihlKXt2YXIgcj10PyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyI7Zm9yKGU9bj9lOmVbcl07ZTtlPWVbcl0paWYoSG4oZSl8fCFjZihlKSlyZXR1cm4gZX19ZnVuY3Rpb24gb2woZSx0KXtyZXR1cm4gdGwodCkmJih0PXQubm9kZU5hbWUpLCEhZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVt0LnRvTG93ZXJDYXNlKCldfWZ1bmN0aW9uIGlsKGUsdCxuKXtyZXR1cm4gZS5zY2hlbWEuaXNWYWxpZENoaWxkKHQsbil9ZnVuY3Rpb24gYWwoZSxuKXtyZXR1cm4geShlKT9lPWUobik6VihuKSYmKGU9ZS5yZXBsYWNlKC8lKFx3KykvZyxmdW5jdGlvbihlLHQpe3JldHVybiBuW3RdfHxlfSkpLGV9ZnVuY3Rpb24gdWwoZSx0KXtyZXR1cm4gZT0iIisoKGU9ZXx8IiIpLm5vZGVOYW1lfHxlKSx0PSIiKygodD10fHwiIikubm9kZU5hbWV8fHQpLGUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBzbChlLHQsbil7cmV0dXJuImNvbG9yIiE9PW4mJiJiYWNrZ3JvdW5kQ29sb3IiIT09bnx8KHQ9ZS50b0hleCh0KSksImZvbnRXZWlnaHQiPT09biYmNzAwPT09dCYmKHQ9ImJvbGQiKSwiIisoImZvbnRGYW1pbHkiPT09bj90LnJlcGxhY2UoL1tcJ1wiXS9nLCIiKS5yZXBsYWNlKC8sXHMrL2csIiwiKTp0KX1mdW5jdGlvbiBjbChlLHQsbil7cmV0dXJuIHNsKGUsZS5nZXRTdHlsZSh0LG4pLG4pfWZ1bmN0aW9uIGxsKHQsZSl7dmFyIG47cmV0dXJuIHQuZ2V0UGFyZW50KGUsZnVuY3Rpb24oZSl7cmV0dXJuKG49dC5nZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iKSkmJiJub25lIiE9PW59KSxufWZ1bmN0aW9uIGZsKGUsdCxuKXtyZXR1cm4gZS5nZXRQYXJlbnRzKHQsbixlLmdldFJvb3QoKSl9ZnVuY3Rpb24gZGwoZSx0KXtyZXR1cm4gRihlLmZvcm1hdHRlci5nZXQodCksZnVuY3Rpb24odCl7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gMTxlLmxlbmd0aCYmIiUiPT09ZS5jaGFyQXQoMCl9cmV0dXJuIEYoWyJzdHlsZXMiLCJhdHRyaWJ1dGVzIl0sZnVuY3Rpb24oZSl7cmV0dXJuIHVlKHQsZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciBuLHI7cmV0dXJuIEYoUyhlKT9lOihuPXUscj1bXSxuZShlLGZ1bmN0aW9uKGUsdCl7ci5wdXNoKG4oZSx0KSl9KSxyKSxvKX0pfSl9KX1mdW5jdGlvbiBtbChlKXtyZXR1cm4gc2UoZSwiYmxvY2siKX1mdW5jdGlvbiBnbChlKXtyZXR1cm4gc2UoZSwic2VsZWN0b3IiKX1mdW5jdGlvbiBwbChlKXtyZXR1cm4gc2UoZSwiaW5saW5lIil9ZnVuY3Rpb24gaGwoZSl7cmV0dXJuIGdsKGUpJiYhMSE9PWUuZXhwYW5kJiYhcGwoZSl9ZnVuY3Rpb24gdmwoZSx0KXtmb3IodmFyIG49dDtuOyl7aWYoSG4obikmJmUuZ2V0Q29udGVudEVkaXRhYmxlKG4pKXJldHVybiJmYWxzZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZShuKT9uOnQ7bj1uLnBhcmVudE5vZGV9cmV0dXJuIHR9ZnVuY3Rpb24gYmwoZSx0LG4scil7Zm9yKHZhciBvPXQuZGF0YSxpPW47ZT8wPD1pOmk8by5sZW5ndGg7ZT9pLS06aSsrKWlmKHIoby5jaGFyQXQoaSkpKXJldHVybiBlP2krMTppO3JldHVybi0xfWZ1bmN0aW9uIHlsKGUsdCxuKXtyZXR1cm4gYmwoZSx0LG4sZnVuY3Rpb24oZSl7cmV0dXJuIHNmKGUpfHxaYyhlKX0pfWZ1bmN0aW9uIENsKGUsdCxuKXtyZXR1cm4gYmwoZSx0LG4sZWwpfWZ1bmN0aW9uIHhsKGksZSx0LG4sYSxyKXtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1BdShpKSxvPWE/ci5iYWNrd2FyZHM6ci5mb3J3YXJkcztyZXR1cm4gdmUuZnJvbShvKGUsdCxmdW5jdGlvbihlLHQpe3JldHVybiBsZihlLnBhcmVudE5vZGUpPy0xOm4oYSx1PWUsdCl9LHMpKX12YXIgdSxzPWkuZ2V0UGFyZW50KHQsaS5pc0Jsb2NrKXx8ZTtyZXR1cm4gbyh0LG4seWwpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHI/byhlLmNvbnRhaW5lcixlLm9mZnNldCsoYT8tMTowKSxDbCk6dmUuc29tZShlKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gdT92ZS5zb21lKHtjb250YWluZXI6dSxvZmZzZXQ6YT8wOnUubGVuZ3RofSk6dmUubm9uZSgpfSl9ZnVuY3Rpb24gd2woZSx0LG4scixvKXtWbihyKSYmUGUoci5kYXRhKSYmcltvXSYmKHI9cltvXSk7Zm9yKHZhciBpPWZmKGUsciksYT0wO2E8aS5sZW5ndGg7YSsrKWZvcih2YXIgdT0wO3U8dC5sZW5ndGg7dSsrKXt2YXIgcz10W3VdO2lmKCghVihzLmNvbGxhcHNlZCl8fHMuY29sbGFwc2VkPT09bi5jb2xsYXBzZWQpJiZnbChzKSYmZS5pcyhpW2FdLHMuc2VsZWN0b3IpKXJldHVybiBpW2FdfXJldHVybiByfWZ1bmN0aW9uIFNsKHQsZSxuLHIpe3ZhciBvLGk9bixhPXQuZG9tLHU9YS5nZXRSb290KCkscz1lWzBdO2lmKChpPW1sKHMpP3Mud3JhcHBlcj9udWxsOmEuZ2V0UGFyZW50KG4scy5ibG9jayx1KTppKXx8KG89YS5nZXRQYXJlbnQobiwiTEksVEQsVEgiKSxpPWEuZ2V0UGFyZW50KFZuKG4pP24ucGFyZW50Tm9kZTpuLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dSYmbWYodCxlKX0sbykpLCEoaT1pJiZtbChzKSYmcy53cmFwcGVyJiZmZihhLGksInVsLG9sIikucmV2ZXJzZSgpWzBdfHxpKSlmb3IoaT1uO2lbcl0mJiFhLmlzQmxvY2soaVtyXSkmJiF1bChpPWlbcl0sImJyIik7KTtyZXR1cm4gaXx8bn1mdW5jdGlvbiBObChlLHQsbixyLG8pe3ZhciBpLGE9bix1PW8/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIixzPWUuZ2V0Um9vdCgpO2lmKFZuKG4pJiYhZGYobikmJihvPzA8cjpyPG4uZGF0YS5sZW5ndGgpKXJldHVybiBuO2Zvcig7Oyl7aWYoIXRbMF0uYmxvY2tfZXhwYW5kJiZlLmlzQmxvY2soYSkpcmV0dXJuIGE7Zm9yKHZhciBjPWFbdV07YztjPWNbdV0pe3ZhciBsPVZuKGMpJiYhZ2YoZSxzLGMsdSk7aWYoIWxmKGMpJiYoIUtuKGk9Yyl8fCFpLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKXx8aS5uZXh0U2libGluZykmJiFkZihjLGwpKXJldHVybiBhfWlmKGE9PT1zfHxhLnBhcmVudE5vZGU9PT1zKXtuPWE7YnJlYWt9YT1hLnBhcmVudE5vZGV9cmV0dXJuIG59ZnVuY3Rpb24gRWwoZSl7cmV0dXJuIGxmKGUucGFyZW50Tm9kZSl8fGxmKGUpfWZ1bmN0aW9uIGtsKGUsdCxuLHIpe3ZvaWQgMD09PXImJihyPSExKTt2YXIgbz10LnN0YXJ0Q29udGFpbmVyLGk9dC5zdGFydE9mZnNldCxhPXQuZW5kQ29udGFpbmVyLHU9dC5lbmRPZmZzZXQscz1lLmRvbSxjPW5bMF07cmV0dXJuIEhuKG8pJiZvLmhhc0NoaWxkTm9kZXMoKSYmKG89SXUobyxpKSxWbihvKSYmKGk9MCkpLEhuKGEpJiZhLmhhc0NoaWxkTm9kZXMoKSYmKGE9SXUoYSx0LmNvbGxhcHNlZD91OnUtMSksVm4oYSkmJih1PWEubm9kZVZhbHVlLmxlbmd0aCkpLG89dmwocyxvKSxhPXZsKHMsYSksRWwobykmJihvPWxmKG8pP286by5wYXJlbnROb2RlLG89dC5jb2xsYXBzZWQ/by5wcmV2aW91c1NpYmxpbmd8fG86by5uZXh0U2libGluZ3x8byxWbihvKSYmKGk9dC5jb2xsYXBzZWQ/by5sZW5ndGg6MCkpLEVsKGEpJiYoYT1sZihhKT9hOmEucGFyZW50Tm9kZSxhPXQuY29sbGFwc2VkP2EubmV4dFNpYmxpbmd8fGE6YS5wcmV2aW91c1NpYmxpbmd8fGEsVm4oYSkmJih1PXQuY29sbGFwc2VkPzA6YS5sZW5ndGgpKSx0LmNvbGxhcHNlZCYmKHhsKHMsZS5nZXRCb2R5KCksbyxpLCEwLHIpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIsbj1lLm9mZnNldDtvPXQsaT1ufSkseGwocyxlLmdldEJvZHkoKSxhLHUsITEscikuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcixuPWUub2Zmc2V0O2E9dCx1PW59KSksKHBsKGMpfHxjLmJsb2NrX2V4cGFuZCkmJihwbChjKSYmVm4obykmJjAhPT1pfHwobz1ObChzLG4sbyxpLCEwKSkscGwoYykmJlZuKGEpJiZ1IT09YS5ub2RlVmFsdWUubGVuZ3RofHwoYT1ObChzLG4sYSx1LCExKSkpLGhsKGMpJiYobz13bChzLG4sdCxvLCJwcmV2aW91c1NpYmxpbmciKSxhPXdsKHMsbix0LGEsIm5leHRTaWJsaW5nIikpLChtbChjKXx8Z2woYykpJiYobz1TbChlLG4sbywicHJldmlvdXNTaWJsaW5nIiksYT1TbChlLG4sYSwibmV4dFNpYmxpbmciKSxtbChjKSYmKHMuaXNCbG9jayhvKXx8KG89TmwocyxuLG8saSwhMCkpLHMuaXNCbG9jayhhKXx8KGE9TmwocyxuLGEsdSwhMSkpKSksSG4obykmJihpPXMubm9kZUluZGV4KG8pLG89by5wYXJlbnROb2RlKSxIbihhKSYmKHU9cy5ub2RlSW5kZXgoYSkrMSxhPWEucGFyZW50Tm9kZSkse3N0YXJ0Q29udGFpbmVyOm8sc3RhcnRPZmZzZXQ6aSxlbmRDb250YWluZXI6YSxlbmRPZmZzZXQ6dX19ZnVuY3Rpb24gX2wobixlLHUpe2Z1bmN0aW9uIHMoZSl7dmFyIHQ9ZVswXTtWbih0KSYmdD09PWkmJm8+PXQuZGF0YS5sZW5ndGgmJmUuc3BsaWNlKDAsMSk7dmFyIG49ZVtlLmxlbmd0aC0xXTtyZXR1cm4gMD09PWEmJjA8ZS5sZW5ndGgmJm49PT1sJiZWbihuKSYmZS5zcGxpY2UoZS5sZW5ndGgtMSwxKSxlfWZ1bmN0aW9uIGMoZSx0LG4pe2Zvcih2YXIgcj1bXTtlJiZlIT09bjtlPWVbdF0pci5wdXNoKGUpO3JldHVybiByfWZ1bmN0aW9uIHQoZSx0KXtyZXR1cm4gbi5nZXRQYXJlbnQoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlPT09dH0sdCl9ZnVuY3Rpb24gcihlLHQsbil7dmFyIHI9bj8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLG89ZTtmb3Ioby5wYXJlbnROb2RlO28mJm8hPT10O289aSl7dmFyIGk9by5wYXJlbnROb2RlLGE9YyhvPT09ZT9vOm9bcl0scik7YS5sZW5ndGgmJihufHxhLnJldmVyc2UoKSx1KHMoYSkpKX19dmFyIG89ZS5zdGFydE9mZnNldCxpPUl1KGUuc3RhcnRDb250YWluZXIsbyksYT1lLmVuZE9mZnNldCxsPUl1KGUuZW5kQ29udGFpbmVyLGEtMSk7aWYoaT09PWwpcmV0dXJuIHUocyhbaV0pKTt2YXIgZj1uLmZpbmRDb21tb25BbmNlc3RvcihpLGwpO2lmKG4uaXNDaGlsZE9mKGksbCkpcmV0dXJuIHIoaSxmLCEwKTtpZihuLmlzQ2hpbGRPZihsLGkpKXJldHVybiByKGwsZik7dmFyIGQ9dChpLGYpfHxpLG09dChsLGYpfHxsO3IoaSxkLCEwKTt2YXIgZz1jKGQ9PT1pP2Q6ZC5uZXh0U2libGluZywibmV4dFNpYmxpbmciLG09PT1sP20ubmV4dFNpYmxpbmc6bSk7Zy5sZW5ndGgmJnUocyhnKSkscihsLG0pfWZ1bmN0aW9uIEFsKGUpe3ZhciB0PVtdO2lmKGUpZm9yKHZhciBuPTA7bjxlLnJhbmdlQ291bnQ7bisrKXQucHVzaChlLmdldFJhbmdlQXQobikpO3JldHVybiB0fWZ1bmN0aW9uIFJsKGUsdCl7dmFyIG49eXUodCwidGRbZGF0YS1tY2Utc2VsZWN0ZWRdLHRoW2RhdGEtbWNlLXNlbGVjdGVkXSIpO3JldHVybiAwPG4ubGVuZ3RoP246VShIKGUsZnVuY3Rpb24oZSl7dmFyIHQ9THUoZSk7cmV0dXJuIHQ/W0V0LmZyb21Eb20odCldOltdfSkseW8pfWZ1bmN0aW9uIERsKGUpe3JldHVybiBSbChBbChlLnNlbGVjdGlvbi5nZXRTZWwoKSksRXQuZnJvbURvbShlLmdldEJvZHkoKSkpfWZ1bmN0aW9uIFRsKGUsdCl7cmV0dXJuIHZyKGUsInRhYmxlIix0KX1mdW5jdGlvbiBPbChvLGUpe3JldHVybiBkbigocj1lLnN0YXJ0Q29udGFpbmVyLGk9ZS5zdGFydE9mZnNldCxWbihyKT8wPT09aT92ZS5zb21lKEV0LmZyb21Eb20ocikpOnZlLm5vbmUoKTp2ZS5mcm9tKHIuY2hpbGROb2Rlc1tpXSkubWFwKEV0LmZyb21Eb20pKSwodD1lLmVuZENvbnRhaW5lcixuPWUuZW5kT2Zmc2V0LFZuKHQpP249PT10LmRhdGEubGVuZ3RoP3ZlLnNvbWUoRXQuZnJvbURvbSh0KSk6dmUubm9uZSgpOnZlLmZyb20odC5jaGlsZE5vZGVzW24tMV0pLm1hcChFdC5mcm9tRG9tKSksZnVuY3Rpb24oZSx0KXt2YXIgbj1NKHBmKG8pLFIoamUsZSkpLHI9TShoZihvKSxSKGplLHQpKTtyZXR1cm4gbi5pc1NvbWUoKSYmci5pc1NvbWUoKX0pLmdldE9yKCExKTt2YXIgdCxuLHIsaX1mdW5jdGlvbiBCbChlLHQsbixyKXt2YXIgbz1uLGk9bmV3IERyKG4sbyksYT1hZShlLnNjaGVtYS5nZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKSxmdW5jdGlvbihlLHQpe3JldHVybiFUKFsidGQiLCJ0aCIsInRhYmxlIl0sdC50b0xvd2VyQ2FzZSgpKX0pO2Rve2lmKFZuKG4pJiYwIT09TnQudHJpbShuLm5vZGVWYWx1ZSkubGVuZ3RoKXJldHVybiByP3Quc2V0U3RhcnQobiwwKTp0LnNldEVuZChuLG4ubm9kZVZhbHVlLmxlbmd0aCksMDtpZihhW24ubm9kZU5hbWVdKXJldHVybiByP3Quc2V0U3RhcnRCZWZvcmUobik6IkJSIj09PW4ubm9kZU5hbWU/dC5zZXRFbmRCZWZvcmUobik6dC5zZXRFbmRBZnRlcihuKSwwfXdoaWxlKG49cj9pLm5leHQoKTppLnByZXYoKSk7IkJPRFkiPT09by5ub2RlTmFtZSYmKHI/dC5zZXRTdGFydChvLDApOnQuc2V0RW5kKG8sby5jaGlsZE5vZGVzLmxlbmd0aCkpfWZ1bmN0aW9uIFBsKGUpe3ZhciB0PWUuc2VsZWN0aW9uLmdldFNlbCgpO3JldHVybiB0JiYwPHQucmFuZ2VDb3VudH1mdW5jdGlvbiBMbChyLG8pe3ZhciBlPURsKHIpOzA8ZS5sZW5ndGg/WShlLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLG49ci5kb20uY3JlYXRlUm5nKCk7bi5zZXRTdGFydEJlZm9yZSh0KSxuLnNldEVuZEFmdGVyKHQpLG8obiwhMCl9KTpvKHIuc2VsZWN0aW9uLmdldFJuZygpLCExKX1mdW5jdGlvbiBJbChlLHQsbil7dmFyIHI9U3MoZSx0KTtuKHIpLGUubW92ZVRvQm9va21hcmsocil9ZnVuY3Rpb24gTWwoZSl7cmV0dXJuIHZmLmdldChlKX1mdW5jdGlvbiBGbChlLHQsbixyKXt2YXIgbz10LnVpZCxpPXZvaWQgMD09PW8/d3UoIm1jZS1hbm5vdGF0aW9uIik6byxhPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmdC5pbmRleE9mKG8pPDAmJihuW29dPWVbb10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKWZvcih2YXIgcj0wLG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyPG8ubGVuZ3RoO3IrKyl0LmluZGV4T2Yob1tyXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsb1tyXSkmJihuW29bcl1dPWVbb1tyXV0pO3JldHVybiBufSh0LFsidWlkIl0pLHU9RXQuZnJvbVRhZygic3BhbiIsZSk7dnUodSwkdSgpKSxwbih1LCIiK0t1KCksaSkscG4odSwiIitXdSgpLG4pO3ZhciBzLGM9cihpLGEpLGw9Yy5hdHRyaWJ1dGVzLGY9Yy5jbGFzc2VzLGQ9dm9pZCAwPT09Zj9bXTpmO3JldHVybiBobih1LHZvaWQgMD09PWw/e306bCkscz11LFkoZCxmdW5jdGlvbihlKXt2dShzLGUpfSksdX1mdW5jdGlvbiBVbCh1LGUsdCxuLHIpe2Z1bmN0aW9uIHMoKXtkLmNsZWFyKCl9ZnVuY3Rpb24gYyhlKXtZKGUsbyl9dmFyIGw9W10sZj1GbCh1LmdldERvYygpLHIsdCxuKSxkPWR1KCksbz1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE7c3dpdGNoKHI9dSxpPSJzcGFuIixhPWt0KG89ZSksT3QobykuZm9sZChmdW5jdGlvbigpe3JldHVybiJza2lwcGluZyJ9LGZ1bmN0aW9uKGUpe3JldHVybiJiciI9PT1hfHxBbihuPW8pJiZNbChuKT09PVNvPyJ2YWxpZCI6X24odD1vKSYmYnUodCwkdSgpKT8iZXhpc3RpbmciOlZjKG8uZG9tKT8iY2FyZXQiOmlsKHIsaSxhKSYmaWwocixrdChlKSxpKT8idmFsaWQiOiJpbnZhbGlkLWNoaWxkIjt2YXIgdCxufSkpe2Nhc2UiaW52YWxpZC1jaGlsZCI6cygpLGMoVG4oZSkpLHMoKTticmVhaztjYXNlInZhbGlkIjpxdCh0PWUsbj1kLmdldCgpLmdldE9yVGh1bmsoZnVuY3Rpb24oKXt2YXIgZT1FdShmKTtyZXR1cm4gbC5wdXNoKGUpLGQuc2V0KGUpLGV9KSksTG4obix0KX19O3JldHVybiBfbCh1LmRvbSxlLGZ1bmN0aW9uKGUpe3MoKSxjKEEoZSxFdC5mcm9tRG9tKSl9KSxsfWZ1bmN0aW9uIHpsKG8pe3ZhciBuLGUscixpPShuPXt9LHtyZWdpc3RlcjpmdW5jdGlvbihlLHQpe25bZV09e25hbWU6ZSxzZXR0aW5nczp0fX0sbG9va3VwOmZ1bmN0aW9uKGUpe3JldHVybiB1ZShuLGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXR0aW5nc30pfX0pO3I9aSwoZT1vKS5vbigiaW5pdCIsZnVuY3Rpb24oKXtlLnNlcmlhbGl6ZXIuYWRkTm9kZUZpbHRlcigic3BhbiIsZnVuY3Rpb24oZSl7WShlLGZ1bmN0aW9uKHQpe3ZlLmZyb20odC5hdHRyKFd1KCkpKS5iaW5kKHIubG9va3VwKS5lYWNoKGZ1bmN0aW9uKGUpeyExPT09ZS5wZXJzaXN0ZW50JiZ0LnVud3JhcCgpfSl9KX0pfSk7dmFyIGE9eHUobyk7cmV0dXJue3JlZ2lzdGVyOmZ1bmN0aW9uKGUsdCl7aS5yZWdpc3RlcihlLHQpfSxhbm5vdGF0ZTpmdW5jdGlvbih0LG4pe2kubG9va3VwKHQpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHUscyxjLGw7cz10LGM9ZSxsPW4sKHU9bykudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgZSx0LG4scixvPXUuc2VsZWN0aW9uLGk9by5nZXRSbmcoKSxhPTA8RGwodSkubGVuZ3RoO2kuY29sbGFwc2VkJiYhYSYmKG49a2woZT11LHQ9aSxbe2lubGluZToic3BhbiJ9XSksdC5zZXRTdGFydChuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQpLHQuc2V0RW5kKG4uZW5kQ29udGFpbmVyLG4uZW5kT2Zmc2V0KSxlLnNlbGVjdGlvbi5zZXRSbmcodCkpLG8uZ2V0Um5nKCkuY29sbGFwc2VkJiYhYT8oU3Uocj1GbCh1LmdldERvYygpLGwscyxjLmRlY29yYXRlKSx3byksby5nZXRSbmcoKS5pbnNlcnROb2RlKHIuZG9tKSxvLnNlbGVjdChyLmRvbSkpOklsKG8sITEsZnVuY3Rpb24oKXtMbCh1LGZ1bmN0aW9uKGUpe1VsKHUsZSxzLGMuZGVjb3JhdGUsbCl9KX0pfSl9KX0sYW5ub3RhdGlvbkNoYW5nZWQ6ZnVuY3Rpb24oZSx0KXthLmFkZExpc3RlbmVyKGUsdCl9LHJlbW92ZTpmdW5jdGlvbihlKXtDdShvLHZlLnNvbWUoZSkpLmVhY2goZnVuY3Rpb24oZSl7WShlLmVsZW1lbnRzLFl0KX0pfSxnZXRBbGw6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiByZSgodD1lLG49eXUoRXQuZnJvbURvbShvLmdldEJvZHkoKSksIlsiK1d1KCkrJz0iJyt0KyciXScpLHI9e30sWShuLGZ1bmN0aW9uKGUpe3ZhciB0PXZuKGUsS3UoKSksbj11ZShyLHQpLmdldE9yKFtdKTtyW3RdPW4uY29uY2F0KFtlXSl9KSxyKSxmdW5jdGlvbihlKXtyZXR1cm4gQShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pfSl9fX1mdW5jdGlvbiBIbChlKXtyZXR1cm57Z2V0Qm9va21hcms6Uih1ZixlKSxtb3ZlVG9Cb29rbWFyazpSKEpjLGUpfX0oY2M9c2M9c2N8fHt9KVtjYy5CYWNrd2FyZHM9LTFdPSJCYWNrd2FyZHMiLGNjW2NjLkZvcndhcmRzPTFdPSJGb3J3YXJkcyI7ZnVuY3Rpb24gamwoZSl7cmV0dXJuIExvKGUpfHwhIUZvKHQ9ZSkmJiEwIT09TCh4ZSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8fERvKHQpfSwhMSk7dmFyIHR9dmFyIFZsLHFsLCRsLFdsPUduLEtsPVZuLFhsPUhuLFlsPUtuLEdsPVZyLEpsPXFyLFFsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk7aWYoIVhsKG4pfHwhdClyZXR1cm4gbnVsbDtpZih0LmlzRXF1YWwoY3MuYWZ0ZXIobikpJiZuLmxhc3RDaGlsZCl7aWYoaT1jcy5hZnRlcihuLmxhc3RDaGlsZCksZTwwJiZHbChuLmxhc3RDaGlsZCkmJlhsKG4ubGFzdENoaWxkKSlyZXR1cm4gWWwobi5sYXN0Q2hpbGQpP2NzLmJlZm9yZShuLmxhc3RDaGlsZCk6aX1lbHNlIGk9dDt2YXIgYSx1LHMsYz1pLmNvbnRhaW5lcigpLGw9aS5vZmZzZXQoKTtpZihLbChjKSl7aWYoZTwwJiYwPGwpcmV0dXJuIGNzKGMsLS1sKTtpZigwPGUmJmw8Yy5sZW5ndGgpcmV0dXJuIGNzKGMsKytsKTtyPWN9ZWxzZXtpZihlPDAmJjA8bCYmKGY9TGMoYyxsLTEpLEdsKGYpKSlyZXR1cm4hamwoZikmJihvPUdzKGYsZSxKbCxmKSk/S2wobyk/Y3MobyxvLmRhdGEubGVuZ3RoKTpjcy5hZnRlcihvKTpLbChmKT9jcyhmLGYuZGF0YS5sZW5ndGgpOmNzLmJlZm9yZShmKTtpZigwPGUmJmw8Yy5jaGlsZE5vZGVzLmxlbmd0aCYmKGY9TGMoYyxsKSxHbChmKSkpcmV0dXJuIFlsKGYpPyhhPW4sKHM9KHU9ZikubmV4dFNpYmxpbmcpJiZHbChzKT9LbChzKT9jcyhzLDApOmNzLmJlZm9yZShzKTpRbChzYy5Gb3J3YXJkcyxjcy5hZnRlcih1KSxhKSk6IWpsKGYpJiYobz1HcyhmLGUsSmwsZikpP0tsKG8pP2NzKG8sMCk6Y3MuYmVmb3JlKG8pOktsKGYpP2NzKGYsMCk6Y3MuYWZ0ZXIoZik7cj1mfHxpLmdldE5vZGUoKX1pZigoMDxlJiZpLmlzQXRFbmQoKXx8ZTwwJiZpLmlzQXRTdGFydCgpKSYmKHI9R3MocixlLHcsbiwhMCksSmwocixuKSkpcmV0dXJuIEljKGUscik7dmFyIGY9R3MocixlLEpsLG4pLGQ9cGUoVShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlJiZlIT09dDspbi5wdXNoKGUpLGU9ZS5wYXJlbnROb2RlO3JldHVybiBufShjLG4pLFdsKSk7cmV0dXJuIWR8fGYmJmQuY29udGFpbnMoZik/Zj9JYyhlLGYpOm51bGw6MDxlP2NzLmFmdGVyKGQpOmNzLmJlZm9yZShkKX0sWmw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU1jKHQpO3JldHVybiB2ZS5mcm9tKGU/ci5uZXh0KG4pOnIucHJldihuKSl9LGVmPWZ1bmN0aW9uKHQsbixlLHIpe3JldHVybiBIYyh0LG4sZSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gcihlKT9lZih0LG4sZSxyKTp2ZS5zb21lKGUpfSl9LHRmPVIoWmwsITApLG5mPVIoWmwsITEpLHJmPVIoamMsITApLG9mPVIoamMsITEpLGFmPSJfbWNlX2NhcmV0Iix1Zj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIDI9PT10P3hzKEVvLG4sZSk6Mz09PXQ/KG89KHI9ZSkuZ2V0Um5nKCkse3N0YXJ0OmdzKHIuZG9tLmdldFJvb3QoKSxjcy5mcm9tUmFuZ2VTdGFydChvKSksZW5kOmdzKHIuZG9tLmdldFJvb3QoKSxjcy5mcm9tUmFuZ2VFbmQobykpfSk6dD97cm5nOmUuZ2V0Um5nKCl9OlNzKGUsITEpO3ZhciByLG99LHNmPShWbD13byxmdW5jdGlvbihlKXtyZXR1cm4gVmw9PT1lfSksY2Y9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLCEoIVYoZSl8fCFWbihlKSkmJiRyKHQ/ZS5kYXRhLnJlcGxhY2UoLyAvZywiXHhhMCIpOmUuZGF0YSl9LGxmPVFjLGZmPWZsLGRmPWNmLG1mPW9sLGdmPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW4ucGFyZW50Tm9kZTtyZXR1cm4hVihuW3JdKSYmKCEobyE9PXQmJiFLKG8pJiYhZS5pc0Jsb2NrKG8pKXx8Z2YoZSx0LG8scikpfSxwZj1mdW5jdGlvbih0KXtyZXR1cm4gRnQodCkuZm9sZChKKFt0XSksZnVuY3Rpb24oZSl7cmV0dXJuW3RdLmNvbmNhdChwZihlKSl9KX0saGY9ZnVuY3Rpb24odCl7cmV0dXJuIFV0KHQpLmZvbGQoSihbdF0pLGZ1bmN0aW9uKGUpe3JldHVybiJiciI9PT1rdChlKT9CdChlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW3RdLmNvbmNhdChoZihlKSl9KS5nZXRPcihbXSk6W3RdLmNvbmNhdChoZihlKSl9KX0sdmY9KHFsPUFuLHtnZXQ6ZnVuY3Rpb24oZSl7aWYoIXFsKGUpKXRocm93IG5ldyBFcnJvcigiQ2FuIG9ubHkgZ2V0IHRleHQgdmFsdWUgb2YgYSB0ZXh0IG5vZGUiKTtyZXR1cm4gJGwoZSkuZ2V0T3IoIiIpfSxnZXRPcHRpb246JGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHFsKGUpP3ZlLmZyb20oZS5kb20ubm9kZVZhbHVlKTp2ZS5ub25lKCl9LHNldDpmdW5jdGlvbihlLHQpe2lmKCFxbChlKSl0aHJvdyBuZXcgRXJyb3IoIkNhbiBvbmx5IHNldCByYXcgdGV4dCB2YWx1ZSBvZiBhIHRleHQgbm9kZSIpO2UuZG9tLm5vZGVWYWx1ZT10fX0pO2Z1bmN0aW9uIGJmKGUsdCl7Zm9yKDt0JiZ0IT09ZTspe2lmKFluKHQpfHxHbih0KSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5Zih0LG4sZSl7aWYoIWUuY29sbGFwc2VkKXtpZih4dC5icm93c2VyLmlzSUUoKSYmZS5zdGFydE9mZnNldD09PWUuZW5kT2Zmc2V0LTEmJmUuc3RhcnRDb250YWluZXI9PT1lLmVuZENvbnRhaW5lcil7dmFyIHI9ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdO2lmKEhuKHIpKXJldHVybiBGKHIuZ2V0Q2xpZW50UmVjdHMoKSxmdW5jdGlvbihlKXtyZXR1cm4gUHUoZSx0LG4pfSl9cmV0dXJuIEYoZS5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKGUpe3JldHVybiBQdShlLHQsbil9KX19ZnVuY3Rpb24gQ2YoZSx0LG4pe3JldHVybiBlLmZpcmUodCxuKX1mdW5jdGlvbiB4ZihlLHQsbixyKXtyZXR1cm4gZS5maXJlKCJGb3JtYXRBcHBseSIse2Zvcm1hdDp0LG5vZGU6bix2YXJzOnJ9KX1mdW5jdGlvbiB3ZihlLHQsbixyKXtyZXR1cm4gZS5maXJlKCJGb3JtYXRSZW1vdmUiLHtmb3JtYXQ6dCxub2RlOm4sdmFyczpyfSl9ZnVuY3Rpb24gU2YocixsKXtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiYoIklNRyI9PT1lLm5vZGVOYW1lfHxsLmRvbS5pcyhlLCJmaWd1cmUuaW1hZ2UiKSl9ZnVuY3Rpb24gZihlKXtyZXR1cm4gUW4oZSl8fFQuaGFzQ2xhc3MoZSwibWNlLXByZXZpZXctb2JqZWN0Iil9ZnVuY3Rpb24gbihlKXt2YXIgdD1lLnRhcmdldDshZnVuY3Rpb24oZSx0KXtpZigibG9uZ3ByZXNzIiE9PWUudHlwZSYmMCE9PWUudHlwZS5pbmRleE9mKCJ0b3VjaCIpKXJldHVybiBjKGUudGFyZ2V0KSYmIXlmKGUuY2xpZW50WCxlLmNsaWVudFksdCk7dmFyIG49ZS50b3VjaGVzWzBdO3JldHVybiBjKGUudGFyZ2V0KSYmIXlmKG4uY2xpZW50WCxuLmNsaWVudFksdCl9KGUsbC5zZWxlY3Rpb24uZ2V0Um5nKCkpfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxsLnNlbGVjdGlvbi5zZWxlY3QodCl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gVC5pcyhlLCJmaWd1cmUuaW1hZ2UiKT9bZS5xdWVyeVNlbGVjdG9yKCJpbWciKV06VC5oYXNDbGFzcyhlLCJtY2UtcHJldmlldy1vYmplY3QiKSYmVihlLmZpcnN0RWxlbWVudENoaWxkKT9bZSxlLmZpcnN0RWxlbWVudENoaWxkXTpbZV19ZnVuY3Rpb24gaShlKXt2YXIgdD1QcyhsKTtyZXR1cm4hIXQmJiJmYWxzZSIhPT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtcmVzaXplIikmJmUhPT1sLmdldEJvZHkoKSYmKFQuaGFzQ2xhc3MoZSwibWNlLXByZXZpZXctb2JqZWN0Iik/emUoRXQuZnJvbURvbShlLmZpcnN0RWxlbWVudENoaWxkKSx0KTp6ZShFdC5mcm9tRG9tKGUpLHQpKX1mdW5jdGlvbiBhKGUsdCxuKXtWKG4pJiZZKGQoZSksZnVuY3Rpb24oZSl7ZS5zdHlsZVt0XXx8IWwuc2NoZW1hLmlzVmFsaWQoZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQpP1Quc2V0U3R5bGUoZSx0LG4pOlQuc2V0QXR0cmliKGUsdCwiIituKX0pfWZ1bmN0aW9uIG0oZSx0LG4pe2EoZSwid2lkdGgiLHQpLGEoZSwiaGVpZ2h0IixuKX1mdW5jdGlvbiBnKGUpe3ZhciB0LG4scixvLGksYSx1PWUuc2NyZWVuWC1DLHM9ZS5zY3JlZW5ZLXg7az11KmJbMl0rdyxfPXMqYlszXStTLGs9azw1PzU6ayxfPV88NT81Ol8sKChjKHApfHxmKHApKSYmITEhPT1sLmdldFBhcmFtKCJyZXNpemVfaW1nX3Byb3BvcnRpb25hbCIsITAsImJvb2xlYW4iKT8hSWYubW9kaWZpZXJQcmVzc2VkKGUpOklmLm1vZGlmaWVyUHJlc3NlZChlKSkmJihMKHUpPkwocyk/KF89SShrKk4pLGs9SShfL04pKTooaz1JKF8vTiksXz1JKGsqTikpKSxtKGgsayxfKSx0PWIuc3RhcnRQb3MueCt1LG49Yi5zdGFydFBvcy55K3MsVC5zZXRTdHlsZXModix7bGVmdDp0PTA8dD90OjAsdG9wOm49MDxuP246MCxkaXNwbGF5OiJibG9jayJ9KSx2LmlubmVySFRNTD1rKyIgJnRpbWVzOyAiK18sYlsyXTwwJiZoLmNsaWVudFdpZHRoPD1rJiZULnNldFN0eWxlKGgsImxlZnQiLHZvaWQgMCsody1rKSksYlszXTwwJiZoLmNsaWVudEhlaWdodDw9XyYmVC5zZXRTdHlsZShoLCJ0b3AiLHZvaWQgMCsoUy1fKSksKHU9TS5zY3JvbGxXaWR0aC1BKSsocz1NLnNjcm9sbEhlaWdodC1SKSE9MCYmVC5zZXRTdHlsZXModix7bGVmdDp0LXUsdG9wOm4tc30pLEV8fChyPXAsbz13LGk9UyxhPSJjb3JuZXItIitiLm5hbWUsbC5maXJlKCJPYmplY3RSZXNpemVTdGFydCIse3RhcmdldDpyLHdpZHRoOm8saGVpZ2h0Omksb3JpZ2luOmF9KSxFPSEwKX1mdW5jdGlvbiBvKGUpe2Z1bmN0aW9uIHQoZSx0KXtpZihlKWRve2lmKGU9PT10KXJldHVybiAxfXdoaWxlKGU9ZS5wYXJlbnROb2RlKX12YXIgbjtFfHxsLnJlbW92ZWR8fChPKFQuc2VsZWN0KCJpbWdbZGF0YS1tY2Utc2VsZWN0ZWRdLGhyW2RhdGEtbWNlLXNlbGVjdGVkXSIpLGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKEQpfSksbj0ibW91c2Vkb3duIj09PWUudHlwZT9lLnRhcmdldDpyLmdldE5vZGUoKSx0KG49VC4kKG4pLmNsb3Nlc3QoInRhYmxlLGltZyxmaWd1cmUuaW1hZ2UsaHIsdmlkZW8sc3Bhbi5tY2UtcHJldmlldy1vYmplY3QiKVswXSxNKSYmKHMoKSx0KHIuZ2V0U3RhcnQoITApLG4pJiZ0KHIuZ2V0RW5kKCEwKSxuKSk/eihuKTpIKCkpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIE1mKGJmKGwuZ2V0Qm9keSgpLGUpKX1mdW5jdGlvbiBzKCl7dHJ5e2wuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSwiZmFsc2UiKX1jYXRjaChlKXt9fXZhciBwLGgsdixiLHksQyx4LHcsUyxOLEUsayxfLEEsUixEPSJkYXRhLW1jZS1zZWxlY3RlZCIsVD1sLmRvbSxPPU50LmVhY2gsQj1sLmdldERvYygpLFA9ZG9jdW1lbnQsTD1NYXRoLmFicyxJPU1hdGgucm91bmQsTT1sLmdldEJvZHkoKSxGPXtudzpbMCwwLC0xLC0xXSxuZTpbMSwwLDEsLTFdLHNlOlsxLDEsMSwxXSxzdzpbMCwxLC0xLDFdfSxVPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbz1FO0U9ITEsbyYmKGEocCwid2lkdGgiLGspLGEocCwiaGVpZ2h0IixfKSksVC51bmJpbmQoQiwibW91c2Vtb3ZlIixnKSxULnVuYmluZChCLCJtb3VzZXVwIixVKSxQIT09QiYmKFQudW5iaW5kKFAsIm1vdXNlbW92ZSIsZyksVC51bmJpbmQoUCwibW91c2V1cCIsVSkpLFQucmVtb3ZlKGgpLFQucmVtb3ZlKHYpLFQucmVtb3ZlKHkpLHoocCksbyYmKGU9cCx0PWssbj1fLHI9ImNvcm5lci0iK2IubmFtZSxsLmZpcmUoIk9iamVjdFJlc2l6ZWQiLHt0YXJnZXQ6ZSx3aWR0aDp0LGhlaWdodDpuLG9yaWdpbjpyfSksVC5zZXRBdHRyaWIocCwic3R5bGUiLFQuZ2V0QXR0cmliKHAsInN0eWxlIikpKSxsLm5vZGVDaGFuZ2VkKCl9LHo9ZnVuY3Rpb24oZSl7aigpO3ZhciB0PVQuZ2V0UG9zKGUsTSksYT10LngsdT10Lnksbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9bi53aWR0aHx8bi5yaWdodC1uLmxlZnQsYz1uLmhlaWdodHx8bi5ib3R0b20tbi50b3A7cCE9PWUmJihIKCkscD1lLGs9Xz0wKTt2YXIgcj1sLmZpcmUoIk9iamVjdFNlbGVjdGVkIix7dGFyZ2V0OmV9KSxvPVQuZ2V0QXR0cmliKHAsRCwiMSIpO2koZSkmJiFyLmlzRGVmYXVsdFByZXZlbnRlZCgpP08oRixmdW5jdGlvbihvLGkpe3ZhciBlPVQuZ2V0KCJtY2VSZXNpemVIYW5kbGUiK2kpO2UmJlQucmVtb3ZlKGUpLGU9VC5hZGQoTSwiZGl2Iix7aWQ6Im1jZVJlc2l6ZUhhbmRsZSIraSwiZGF0YS1tY2UtYm9ndXMiOiJhbGwiLGNsYXNzOiJtY2UtcmVzaXplaGFuZGxlIix1bnNlbGVjdGFibGU6ITAsc3R5bGU6ImN1cnNvcjoiK2krIi1yZXNpemU7IG1hcmdpbjowOyBwYWRkaW5nOjAifSksMTE9PT14dC5pZSYmKGUuY29udGVudEVkaXRhYmxlPSExKSxULmJpbmQoZSwibW91c2Vkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHI7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksdD1lLHI9ZChwKVswXSxDPXQuc2NyZWVuWCx4PXQuc2NyZWVuWSx3PXIuY2xpZW50V2lkdGgsUz1yLmNsaWVudEhlaWdodCxOPVMvdywoYj1vKS5uYW1lPWksYi5zdGFydFBvcz17eDpzKm9bMF0rYSx5OmMqb1sxXSt1fSxBPU0uc2Nyb2xsV2lkdGgsUj1NLnNjcm9sbEhlaWdodCx5PVQuYWRkKE0sImRpdiIse2NsYXNzOiJtY2UtcmVzaXplLWJhY2tkcm9wIiwiZGF0YS1tY2UtYm9ndXMiOiJhbGwifSksVC5zZXRTdHlsZXMoeSx7cG9zaXRpb246ImZpeGVkIixsZWZ0OiIwIix0b3A6IjAiLHdpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUifSksaD1mKG49cCk/VC5jcmVhdGUoImltZyIse3NyYzp4dC50cmFuc3BhcmVudFNyY30pOm4uY2xvbmVOb2RlKCEwKSxULmFkZENsYXNzKGgsIm1jZS1jbG9uZWRyZXNpemFibGUiKSxULnNldEF0dHJpYihoLCJkYXRhLW1jZS1ib2d1cyIsImFsbCIpLGguY29udGVudEVkaXRhYmxlPSJmYWxzZSIsVC5zZXRTdHlsZXMoaCx7bGVmdDphLHRvcDp1LG1hcmdpbjowfSksbShoLHMsYyksaC5yZW1vdmVBdHRyaWJ1dGUoRCksTS5hcHBlbmRDaGlsZChoKSxULmJpbmQoQiwibW91c2Vtb3ZlIixnKSxULmJpbmQoQiwibW91c2V1cCIsVSksUCE9PUImJihULmJpbmQoUCwibW91c2Vtb3ZlIixnKSxULmJpbmQoUCwibW91c2V1cCIsVSkpLHY9VC5hZGQoTSwiZGl2Iix7Y2xhc3M6Im1jZS1yZXNpemUtaGVscGVyIiwiZGF0YS1tY2UtYm9ndXMiOiJhbGwifSx3KyIgJnRpbWVzOyAiK1MpfSksby5lbG09ZSxULnNldFN0eWxlcyhlLHtsZWZ0OnMqb1swXSthLWUub2Zmc2V0V2lkdGgvMix0b3A6YypvWzFdK3UtZS5vZmZzZXRIZWlnaHQvMn0pfSk6SCgpLFQuZ2V0QXR0cmliKHAsRCl8fHAuc2V0QXR0cmlidXRlKEQsbyl9LEg9ZnVuY3Rpb24oKXtqKCkscCYmcC5yZW1vdmVBdHRyaWJ1dGUoRCksbmUoRixmdW5jdGlvbihlLHQpe3ZhciBuPVQuZ2V0KCJtY2VSZXNpemVIYW5kbGUiK3QpO24mJihULnVuYmluZChuKSxULnJlbW92ZShuKSl9KX0saj1mdW5jdGlvbigpe25lKEYsZnVuY3Rpb24oZSl7ZS5lbG0mJihULnVuYmluZChlLmVsbSksZGVsZXRlIGUuZWxtKX0pfTtyZXR1cm4gbC5vbigiaW5pdCIsZnVuY3Rpb24oKXt2YXIgZTtzKCksKHh0LmJyb3dzZXIuaXNJRSgpfHx4dC5icm93c2VyLmlzRWRnZSgpKSYmKGwub24oIm1vdXNlZG93biBjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQsbj10Lm5vZGVOYW1lO0V8fCEvXihUQUJMRXxJTUd8SFIpJC8udGVzdChuKXx8dSh0KXx8KDIhPT1lLmJ1dHRvbiYmbC5zZWxlY3Rpb24uc2VsZWN0KHQsIlRBQkxFIj09PW4pLCJtb3VzZWRvd24iPT09ZS50eXBlJiZsLm5vZGVDaGFuZ2VkKCkpfSksVC5iaW5kKE0sIm1zY29udHJvbHNlbGVjdCIsZT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe0FyLnNldEVkaXRvclRpbWVvdXQobCxmdW5jdGlvbigpe3JldHVybiBsLnNlbGVjdGlvbi5zZWxlY3QoZSl9KX1pZih1KGUudGFyZ2V0KXx8UW4oZS50YXJnZXQpKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksdm9pZCB0KGUudGFyZ2V0KTsvXihUQUJMRXxJTUd8SFIpJC8udGVzdChlLnRhcmdldC5ub2RlTmFtZSkmJihlLnByZXZlbnREZWZhdWx0KCksIklNRyI9PT1lLnRhcmdldC50YWdOYW1lJiZ0KGUudGFyZ2V0KSl9KSxsLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7cmV0dXJuIFQudW5iaW5kKE0sIm1zY29udHJvbHNlbGVjdCIsZSl9KSk7dmFyIHQ9QXIudGhyb3R0bGUoZnVuY3Rpb24oZSl7bC5jb21wb3Npbmd8fG8oZSl9KTtsLm9uKCJOb2RlQ2hhbmdlIFJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3cgUmVzaXplQ29udGVudCBkcm9wIix0KSxsLm9uKCJrZXl1cCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7cCYmIlRBQkxFIj09PXAubm9kZU5hbWUmJnQoZSl9KSxsLm9uKCJoaWRlIGJsdXIiLEgpLGwub24oImNvbnRleHRtZW51IGxvbmdwcmVzcyIsbiwhMCl9KSxsLm9uKCJyZW1vdmUiLGopLHtpc1Jlc2l6YWJsZTppLHNob3dSZXNpemVSZWN0OnosaGlkZVJlc2l6ZVJlY3Q6SCx1cGRhdGVSZXNpemVSZWN0Om8sZGVzdHJveTpmdW5jdGlvbigpe3A9aD15PW51bGx9fX1mdW5jdGlvbiBOZihlKXtyZXR1cm4gWW4oZSl8fEduKGUpfWZ1bmN0aW9uIEVmKHQsbixyKXt2YXIgbyxlLGksYSx1LHM9cjtpZihzLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpKGU9cy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KHQsbikpJiYoKG89ci5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChlLm9mZnNldE5vZGUsZS5vZmZzZXQpLG8uY29sbGFwc2UoITApKTtlbHNlIGlmKHMuY2FyZXRSYW5nZUZyb21Qb2ludClvPXMuY2FyZXRSYW5nZUZyb21Qb2ludCh0LG4pO2Vsc2UgaWYocy5ib2R5LmNyZWF0ZVRleHRSYW5nZSl7bz1zLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e28ubW92ZVRvUG9pbnQodCxuKSxvLmNvbGxhcHNlKCEwKX1jYXRjaChlKXtvPWZ1bmN0aW9uKGUsbix0KXt2YXIgcixvPXQuZWxlbWVudEZyb21Qb2ludChlLG4pLGk9dC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2lmKG8mJiJIVE1MIiE9PW8udGFnTmFtZXx8KG89dC5ib2R5KSxpLm1vdmVUb0VsZW1lbnRUZXh0KG8pLDA8KHI9KHI9TnQudG9BcnJheShpLmdldENsaWVudFJlY3RzKCkpKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9TWF0aC5hYnMoTWF0aC5tYXgoZS50b3AtbixlLmJvdHRvbS1uKSkpLU1hdGguYWJzKE1hdGgubWF4KHQudG9wLW4sdC5ib3R0b20tbikpfSkpLmxlbmd0aCl7bj0oclswXS5ib3R0b20rclswXS50b3ApLzI7dHJ5e3JldHVybiBpLm1vdmVUb1BvaW50KGUsbiksaS5jb2xsYXBzZSghMCksaX1jYXRjaChlKXt9fXJldHVybiBudWxsfSh0LG4scil9cmV0dXJuIGk9byxhPXIuYm9keSx1PWkmJmkucGFyZW50RWxlbWVudD9pLnBhcmVudEVsZW1lbnQoKTpudWxsLEduKGZ1bmN0aW9uKGUsdCxuKXtmb3IoO2UmJmUhPT10Oyl7aWYobihlKSlyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0odSxhLE5mKSk/bnVsbDppfXJldHVybiBvfWZ1bmN0aW9uIGtmKGUsdCl7cmV0dXJuIGUmJnQmJmUuc3RhcnRDb250YWluZXI9PT10LnN0YXJ0Q29udGFpbmVyJiZlLnN0YXJ0T2Zmc2V0PT09dC5zdGFydE9mZnNldCYmZS5lbmRDb250YWluZXI9PT10LmVuZENvbnRhaW5lciYmZS5lbmRPZmZzZXQ9PT10LmVuZE9mZnNldH1mdW5jdGlvbiBfZihlLHQsbil7cmV0dXJuIG51bGwhPT1mdW5jdGlvbihlLHQsbil7Zm9yKDtlJiZlIT09dDspe2lmKG4oZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9KGUsdCxuKX1mdW5jdGlvbiBBZihlKXtyZXR1cm4gZSYmIlRBQkxFIj09PWUubm9kZU5hbWV9ZnVuY3Rpb24gUmYoZSx0LG4pe2Zvcih2YXIgcj1uZXcgRHIodCxlLmdldFBhcmVudCh0LnBhcmVudE5vZGUsZS5pc0Jsb2NrKXx8ZS5nZXRSb290KCkpO3Q9cltuPyJwcmV2IjoibmV4dCJdKCk7KWlmKEtuKHQpKXJldHVybiAxfWZ1bmN0aW9uIERmKGUsdCxuLHIsbyl7dmFyIGksYSx1PWUuZ2V0Um9vdCgpLHM9ZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLGM9ZS5nZXRQYXJlbnQoby5wYXJlbnROb2RlLGUuaXNCbG9jayl8fHU7aWYociYmS24obykmJnQmJmUuaXNFbXB0eShjKSlyZXR1cm4gdmUuc29tZShjcyhvLnBhcmVudE5vZGUsZS5ub2RlSW5kZXgobykpKTtmb3IodmFyIGwsZixkPW5ldyBEcihvLGMpO2E9ZFtyPyJwcmV2IjoibmV4dCJdKCk7KXtpZigiZmFsc2UiPT09ZS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQoYSl8fChmPXUsTXIobD1hKSYmITE9PT1fZihsLGYsVmMpKSlyZXR1cm4gdmUubm9uZSgpO2lmKFZuKGEpJiYwPGEubm9kZVZhbHVlLmxlbmd0aClyZXR1cm4hMT09PV9mKGEsdSxmdW5jdGlvbihlKXtyZXR1cm4iQSI9PT1lLm5vZGVOYW1lfSk/dmUuc29tZShjcyhhLHI/YS5ub2RlVmFsdWUubGVuZ3RoOjApKTp2ZS5ub25lKCk7aWYoZS5pc0Jsb2NrKGEpfHxzW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pcmV0dXJuIHZlLm5vbmUoKTtpPWF9cmV0dXJuIG4mJmk/dmUuc29tZShjcyhpLDApKTp2ZS5ub25lKCl9ZnVuY3Rpb24gVGYoZSx0LG4scil7dmFyIG8saT1lLmdldFJvb3QoKSxhPSExLHU9clsobj8ic3RhcnQiOiJlbmQiKSsiQ29udGFpbmVyIl0scz1yWyhuPyJzdGFydCI6ImVuZCIpKyJPZmZzZXQiXSxjPUhuKHUpJiZzPT09dS5jaGlsZE5vZGVzLmxlbmd0aCxsPWUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSxmPW47aWYoTXIodSkpcmV0dXJuIHZlLm5vbmUoKTtpZihIbih1KSYmcz51LmNoaWxkTm9kZXMubGVuZ3RoLTEmJihmPSExKSwkbih1KSYmKHU9aSxzPTApLHU9PT1pKXtpZihmJiYoZD11LmNoaWxkTm9kZXNbMDxzP3MtMTowXSkpe2lmKE1yKGQpKXJldHVybiB2ZS5ub25lKCk7aWYobFtkLm5vZGVOYW1lXXx8QWYoZCkpcmV0dXJuIHZlLm5vbmUoKX1pZih1Lmhhc0NoaWxkTm9kZXMoKSl7aWYocz1NYXRoLm1pbighZiYmMDxzP3MtMTpzLHUuY2hpbGROb2Rlcy5sZW5ndGgtMSksdT11LmNoaWxkTm9kZXNbc10scz1Wbih1KSYmYz91LmRhdGEubGVuZ3RoOjAsIXQmJnU9PT1pLmxhc3RDaGlsZCYmQWYodSkpcmV0dXJuIHZlLm5vbmUoKTtpZihmdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZihHbih0KSlyZXR1cm4gMTt0PXQucGFyZW50Tm9kZX19KGksdSl8fE1yKHUpKXJldHVybiB2ZS5ub25lKCk7aWYodS5oYXNDaGlsZE5vZGVzKCkmJiExPT09QWYodSkpe3ZhciBkPXUsbT1uZXcgRHIodSxpKTtkb3tpZihHbihkKXx8TXIoZCkpe2E9ITE7YnJlYWt9aWYoVm4oZCkmJjA8ZC5ub2RlVmFsdWUubGVuZ3RoKXtzPWY/MDpkLm5vZGVWYWx1ZS5sZW5ndGgsdT1kLGE9ITA7YnJlYWt9aWYobFtkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoIShvPWQpfHwhL14oVER8VEh8Q0FQVElPTikkLy50ZXN0KG8ubm9kZU5hbWUpKSl7cz1lLm5vZGVJbmRleChkKSx1PWQucGFyZW50Tm9kZSxmfHxzKyssYT0hMDticmVha319d2hpbGUoZD1mP20ubmV4dCgpOm0ucHJldigpKX19fXJldHVybiB0JiYoVm4odSkmJjA9PT1zJiZEZihlLGMsdCwhMCx1KS5lYWNoKGZ1bmN0aW9uKGUpe3U9ZS5jb250YWluZXIoKSxzPWUub2Zmc2V0KCksYT0hMH0pLEhuKHUpJiYoIShkPShkPXUuY2hpbGROb2Rlc1tzXSl8fHUuY2hpbGROb2Rlc1tzLTFdKXx8IUtuKGQpfHxkLnByZXZpb3VzU2libGluZyYmIkEiPT09ZC5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWV8fFJmKGUsZCwhMSl8fFJmKGUsZCwhMCl8fERmKGUsYyx0LCEwLGQpLmVhY2goZnVuY3Rpb24oZSl7dT1lLmNvbnRhaW5lcigpLHM9ZS5vZmZzZXQoKSxhPSEwfSkpKSxmJiYhdCYmVm4odSkmJnM9PT11Lm5vZGVWYWx1ZS5sZW5ndGgmJkRmKGUsYyx0LCExLHUpLmVhY2goZnVuY3Rpb24oZSl7dT1lLmNvbnRhaW5lcigpLHM9ZS5vZmZzZXQoKSxhPSEwfSksYT92ZS5zb21lKGNzKHUscykpOnZlLm5vbmUoKX1mdW5jdGlvbiBPZihlLHQpe3ZhciBuPXQuY29sbGFwc2VkLHI9dC5jbG9uZVJhbmdlKCksbz1jcy5mcm9tUmFuZ2VTdGFydCh0KTtyZXR1cm4gVGYoZSxuLCEwLHIpLmVhY2goZnVuY3Rpb24oZSl7biYmY3MuaXNBYm92ZShvLGUpfHxyLnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSxufHxUZihlLG4sITEscikuZWFjaChmdW5jdGlvbihlKXtyLnNldEVuZChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpfSksbiYmci5jb2xsYXBzZSghMCksa2YodCxyKT92ZS5ub25lKCk6dmUuc29tZShyKX1mdW5jdGlvbiBCZihlLHQpe3JldHVybiBlLnNwbGl0VGV4dCh0KX1mdW5jdGlvbiBQZihlKXt2YXIgdD1lLnN0YXJ0Q29udGFpbmVyLG49ZS5zdGFydE9mZnNldCxyPWUuZW5kQ29udGFpbmVyLG89ZS5lbmRPZmZzZXQ7cmV0dXJuIHQ9PT1yJiZWbih0KT8wPG4mJm48dC5ub2RlVmFsdWUubGVuZ3RoJiYodD0ocj1CZih0LG4pKS5wcmV2aW91c1NpYmxpbmcsbjxvPyh0PXI9QmYocixvLT1uKS5wcmV2aW91c1NpYmxpbmcsbz1yLm5vZGVWYWx1ZS5sZW5ndGgsbj0wKTpvPTApOihWbih0KSYmMDxuJiZuPHQubm9kZVZhbHVlLmxlbmd0aCYmKHQ9QmYodCxuKSxuPTApLFZuKHIpJiYwPG8mJm88ci5ub2RlVmFsdWUubGVuZ3RoJiYobz0ocj1CZihyLG8pLnByZXZpb3VzU2libGluZykubm9kZVZhbHVlLmxlbmd0aCkpLHtzdGFydENvbnRhaW5lcjp0LHN0YXJ0T2Zmc2V0Om4sZW5kQ29udGFpbmVyOnIsZW5kT2Zmc2V0Om99fWZ1bmN0aW9uIExmKG4pe3JldHVybnt3YWxrOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9sKG4sZSx0KX0sc3BsaXQ6UGYsbm9ybWFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiBPZihuLHQpLmZvbGQoRCxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLHQuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSwhMH0pfX19SGwuaXNCb29rbWFya05vZGU9UWM7dmFyIElmPXtCQUNLU1BBQ0U6OCxERUxFVEU6NDYsRE9XTjo0MCxFTlRFUjoxMyxFU0M6MjcsTEVGVDozNyxSSUdIVDozOSxTUEFDRUJBUjozMixUQUI6OSxVUDozOCxQQUdFX1VQOjMzLFBBR0VfRE9XTjozNCxFTkQ6MzUsSE9NRTozNixtb2RpZmllclByZXNzZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hpZnRLZXl8fGUuY3RybEtleXx8ZS5hbHRLZXl8fElmLm1ldGFLZXlQcmVzc2VkKGUpfSxtZXRhS2V5UHJlc3NlZDpmdW5jdGlvbihlKXtyZXR1cm4geHQubWFjP2UubWV0YUtleTplLmN0cmxLZXkmJiFlLmFsdEtleX19LE1mPUduO0xmLmNvbXBhcmVSYW5nZXM9a2YsTGYuZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludD1FZixMZi5nZXRTZWxlY3RlZE5vZGU9THUsTGYuZ2V0Tm9kZT1JdTt2YXIgRmYsVWYsemY9KEZmPSJoZWlnaHQiLFVmPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tO3JldHVybiBNbihlKT90LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDp0Lm9mZnNldEhlaWdodH0se3NldDpmdW5jdGlvbihlLHQpe2lmKCFOKHQpJiYhdC5tYXRjaCgvXlswLTldKyQvKSl0aHJvdyBuZXcgRXJyb3IoRmYrIi5zZXQgYWNjZXB0cyBvbmx5IHBvc2l0aXZlIGludGVnZXIgdmFsdWVzLiBWYWx1ZSB3YXMgIit0KTt2YXIgbj1lLmRvbTttbihuKSYmKG4uc3R5bGVbRmZdPXQrInB4Iil9LGdldDpIZixnZXRPdXRlcjpIZixhZ2dyZWdhdGU6amYsbWF4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1qZihlLG4pO3JldHVybiByPHQ/dC1yOjB9fSk7ZnVuY3Rpb24gSGYoZSl7dmFyIHQ9VWYoZSk7aWYodDw9MHx8bnVsbD09PXQpe3ZhciBuPXduKGUsRmYpO3JldHVybiBwYXJzZUZsb2F0KG4pfHwwfXJldHVybiB0fWZ1bmN0aW9uIGpmKG8sZSl7cmV0dXJuIEwoZSxmdW5jdGlvbihlLHQpe3ZhciBuPXduKG8sdCkscj12b2lkIDA9PT1uPzA6cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHIpP2U6ZStyfSwwKX1mdW5jdGlvbiBWZihlKXtyZXR1cm4idGV4dGFyZWEiPT09a3QoZSl9ZnVuY3Rpb24gcWYoZSx0KXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1lLmRvbS5vd25lckRvY3VtZW50LG49dC5ib2R5LHI9dC5kZWZhdWx0VmlldyxvPXQuZG9jdW1lbnRFbGVtZW50O2lmKG49PT1lLmRvbSlyZXR1cm4gVW4obi5vZmZzZXRMZWZ0LG4ub2Zmc2V0VG9wKTt2YXIgaT1HdChudWxsPT1yP3ZvaWQgMDpyLnBhZ2VZT2Zmc2V0LG8uc2Nyb2xsVG9wKSxhPUd0KG51bGw9PXI/dm9pZCAwOnIucGFnZVhPZmZzZXQsby5zY3JvbGxMZWZ0KSx1PUd0KG8uY2xpZW50VG9wLG4uY2xpZW50VG9wKSxzPUd0KG8uY2xpZW50TGVmdCxuLmNsaWVudExlZnQpO3JldHVybiB6bihlKS50cmFuc2xhdGUoYS1zLGktdSl9KGUpLHI9emYuZ2V0KGUpO3JldHVybntlbGVtZW50OmUsYm90dG9tOm4udG9wK3IsaGVpZ2h0OnIscG9zOm4sY2xlYW51cDp0fX1mdW5jdGlvbiAkZihuLHIsbyxpKXtPZChuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFRkKG4scixvLGkpfSxvKX1mdW5jdGlvbiBXZihlLHQsbixyLG8pe3ZhciBpPXtlbG06ci5lbGVtZW50LmRvbSxhbGlnblRvVG9wOm99O2UuZmlyZSgiU2Nyb2xsSW50b1ZpZXciLGkpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwobih0LEp0KHQpLnRvcCxyLG8pLGUuZmlyZSgiQWZ0ZXJTY3JvbGxJbnRvVmlldyIsaSkpfWZ1bmN0aW9uIEtmKGUsdCxuLHIpe3ZhciBvPUV0LmZyb21Eb20oZS5nZXREb2MoKSk7V2YoZSxvLG4scWYoRXQuZnJvbURvbSh0KSx0ZSkscil9ZnVuY3Rpb24gWGYoZSx0LG4scil7dmFyIG8saT1lLnBvcztuP1F0KGkubGVmdCxpLnRvcCxyKToobz1pLnRvcC10K2UuaGVpZ2h0LFF0KGkubGVmdCxvLHIpKX1mdW5jdGlvbiBZZihlLHQsbixyLG8pe3ZhciBpPW4rdCxhPXIucG9zLnRvcCx1PXIuYm90dG9tLHM9bjw9dS1hO2E8dD9YZihyLG4sITEhPT1vLGUpOmk8YT9YZihyLG4scz8hMSE9PW86ITA9PT1vLGUpOmk8dSYmIXMmJlhmKHIsbiwhMD09PW8sZSl9ZnVuY3Rpb24gR2YoZSx0LG4scil7WWYoZSx0LGUuZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LG4scil9ZnVuY3Rpb24gSmYoZSx0LG4scil7WWYoZSx0LGUuZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LG4scik7dmFyIG8saSxhLHUscyxjLGwsZj0obz1uLmVsZW1lbnQsdT1KdChFdC5mcm9tRG9tKGRvY3VtZW50KSksYT0oaT1EZCkub3duZXIobykscz1SZChpLGEpLGM9em4obyksbD1QKHMsZnVuY3Rpb24oZSx0KXt2YXIgbj16bih0KTtyZXR1cm57bGVmdDplLmxlZnQrbi5sZWZ0LHRvcDplLnRvcCtuLnRvcH19LHtsZWZ0OjAsdG9wOjB9KSxVbihsLmxlZnQrYy5sZWZ0K3UubGVmdCxsLnRvcCtjLnRvcCt1LnRvcCkpLGQ9dG4od2luZG93KTtmLnRvcDxkLnk/WnQobi5lbGVtZW50LCExIT09cik6Zi50b3A+ZC5ib3R0b20mJlp0KG4uZWxlbWVudCwhMD09PXIpfWZ1bmN0aW9uIFFmKGUsdCxuKXtyZXR1cm4gJGYoZSxHZix0LG4pfWZ1bmN0aW9uIFpmKGUsdCxuKXtyZXR1cm4gS2YoZSx0LEdmLG4pfWZ1bmN0aW9uIGVkKGUsdCxuKXtyZXR1cm4gJGYoZSxKZix0LG4pfWZ1bmN0aW9uIHRkKGUsdCxuKXtyZXR1cm4gS2YoZSx0LEpmLG4pfWZ1bmN0aW9uIG5kKGUsdCxuKXsoZS5pbmxpbmU/UWY6ZWQpKGUsdCxuKX1mdW5jdGlvbiByZChlKXt2YXIgdD1QbihlKS5kb207cmV0dXJuIGUuZG9tPT09dC5hY3RpdmVFbGVtZW50fWZ1bmN0aW9uIG9kKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1FdC5mcm9tRG9tKGRvY3VtZW50KSksdmUuZnJvbShlLmRvbS5hY3RpdmVFbGVtZW50KS5tYXAoRXQuZnJvbURvbSl9ZnVuY3Rpb24gaWQoZSx0KXt2YXIgbj1Bbih0KT9NbCh0KS5sZW5ndGg6VG4odCkubGVuZ3RoKzE7cmV0dXJuIG48ZT9uOmU8MD8wOmV9ZnVuY3Rpb24gYWQoZSl7cmV0dXJuIElkLnJhbmdlKGUuc3RhcnQsaWQoZS5zb2Zmc2V0LGUuc3RhcnQpLGUuZmluaXNoLGlkKGUuZm9mZnNldCxlLmZpbmlzaCkpfWZ1bmN0aW9uIHVkKGUsdCl7cmV0dXJuIXJuKHQuZG9tKSYmKFZlKGUsdCl8fGplKGUsdCkpfWZ1bmN0aW9uIHNkKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdWQodCxlLnN0YXJ0KSYmdWQodCxlLmZpbmlzaCl9fWZ1bmN0aW9uIGNkKGUpe3JldHVybiEwPT09ZS5pbmxpbmV8fE1kLmlzSUUoKX1mdW5jdGlvbiBsZChlKXtyZXR1cm4gSWQucmFuZ2UoRXQuZnJvbURvbShlLnN0YXJ0Q29udGFpbmVyKSxlLnN0YXJ0T2Zmc2V0LEV0LmZyb21Eb20oZS5lbmRDb250YWluZXIpLGUuZW5kT2Zmc2V0KX1mdW5jdGlvbiBmZChlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3RyeXtyZXR1cm4gdC5zZXRTdGFydChlLnN0YXJ0LmRvbSxlLnNvZmZzZXQpLHQuc2V0RW5kKGUuZmluaXNoLmRvbSxlLmZvZmZzZXQpLHZlLnNvbWUodCl9Y2F0Y2goZSl7cmV0dXJuIHZlLm5vbmUoKX19ZnVuY3Rpb24gZGQoZSl7dmFyIHQsbixyPWNkKGUpPyh0PUV0LmZyb21Eb20oZS5nZXRCb2R5KCkpLCgobj1UdCh0KS5kb20uZ2V0U2VsZWN0aW9uKCkpJiYwIT09bi5yYW5nZUNvdW50P3ZlLmZyb20obi5nZXRSYW5nZUF0KDApKTp2ZS5ub25lKCkpLm1hcChsZCkuZmlsdGVyKHNkKHQpKSk6dmUubm9uZSgpO2UuYm9va21hcms9ci5pc1NvbWUoKT9yOmUuYm9va21hcmt9ZnVuY3Rpb24gbWQobil7cmV0dXJuKG4uYm9va21hcmt8fHZlLm5vbmUoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gdD1FdC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSx2ZS5mcm9tKGUpLmZpbHRlcihzZCh0KSkubWFwKGFkKTt2YXIgdH0pLmJpbmQoZmQpfWZ1bmN0aW9uIGdkKHUpe3ZhciBzPW11KGZ1bmN0aW9uKCl7ZGQodSl9LDApO3Uub24oImluaXQiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24udGhyb3R0bGUoKX12YXIgdCxuLHIsbyxpLGE7dS5pbmxpbmUmJih0PXUsbj1zLGV1LkRPTS5iaW5kKGRvY3VtZW50LCJtb3VzZXVwIixlKSx0Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7ZXUuRE9NLnVuYmluZChkb2N1bWVudCwibW91c2V1cCIsZSl9KSkscj11LG89cyxkdCgpLmJyb3dzZXIuaXNJRSgpPyhhPXIpLm9uKCJmb2N1c291dCIsZnVuY3Rpb24oKXtkZChhKX0pOihpPW8sci5vbigibW91c2V1cCB0b3VjaGVuZCIsZnVuY3Rpb24oZSl7aS50aHJvdHRsZSgpfSkpLHIub24oImtleXVwIE5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpeyJub2RlY2hhbmdlIj09PWUudHlwZSYmZS5zZWxlY3Rpb25DaGFuZ2V8fGRkKHIpfSl9KSx1Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7cy5jYW5jZWwoKX0pfWZ1bmN0aW9uIHBkKHQsZSl7dmFyIG49dC5nZXRQYXJhbSgiY3VzdG9tX3VpX3NlbGVjdG9yIiwiIiwic3RyaW5nIik7cmV0dXJuIG51bGwhPT1VZC5nZXRQYXJlbnQoZSxmdW5jdGlvbihlKXtyZXR1cm4gRmQuaXNFZGl0b3JVSUVsZW1lbnQoZSl8fCEhbiYmdC5kb20uaXMoZSxuKX0pfWZ1bmN0aW9uIGhkKG4sZSl7dmFyIHQ9ZS5lZGl0b3I7Z2QodCksdC5vbigiZm9jdXNpbiIsZnVuY3Rpb24oKXt2YXIgZT1uLmZvY3VzZWRFZGl0b3I7ZSE9PXQmJihlJiZlLmZpcmUoImJsdXIiLHtmb2N1c2VkRWRpdG9yOnR9KSxuLnNldEFjdGl2ZSh0KSwobi5mb2N1c2VkRWRpdG9yPXQpLmZpcmUoImZvY3VzIix7Ymx1cnJlZEVkaXRvcjplfSksdC5mb2N1cyghMCkpfSksdC5vbigiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7QXIuc2V0RWRpdG9yVGltZW91dCh0LGZ1bmN0aW9uKCl7dmFyIGU9bi5mb2N1c2VkRWRpdG9yO3BkKHQsZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBvZChQbihFdC5mcm9tRG9tKGUuZ2V0RWxlbWVudCgpKSkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keX0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tfSl9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LmJvZHl9fSh0KSl8fGUhPT10fHwodC5maXJlKCJibHVyIix7Zm9jdXNlZEVkaXRvcjpudWxsfSksbi5mb2N1c2VkRWRpdG9yPW51bGwpfSl9KSxBZHx8KEFkPWZ1bmN0aW9uKGUpe3ZhciB0PW4uYWN0aXZlRWRpdG9yO3QmJiFmdW5jdGlvbihlKXtpZihCbigpJiZWKGUudGFyZ2V0KSl7dmFyIHQ9RXQuZnJvbURvbShlLnRhcmdldCk7aWYoX24odCkmJlYodC5kb20uc2hhZG93Um9vdCkmJmUuY29tcG9zZWQmJmUuY29tcG9zZWRQYXRoKXt2YXIgbj1lLmNvbXBvc2VkUGF0aCgpO2lmKG4pcmV0dXJuIFEobil9fXJldHVybiB2ZS5mcm9tKGUudGFyZ2V0KX0oZSkuZWFjaChmdW5jdGlvbihlKXtlLm93bmVyRG9jdW1lbnQ9PT1kb2N1bWVudCYmKGU9PT1kb2N1bWVudC5ib2R5fHxwZCh0LGUpfHxuLmZvY3VzZWRFZGl0b3IhPT10fHwodC5maXJlKCJibHVyIix7Zm9jdXNlZEVkaXRvcjpudWxsfSksbi5mb2N1c2VkRWRpdG9yPW51bGwpKX0pfSxVZC5iaW5kKGRvY3VtZW50LCJmb2N1c2luIixBZCkpfWZ1bmN0aW9uIHZkKGUsdCl7ZS5mb2N1c2VkRWRpdG9yPT09dC5lZGl0b3ImJihlLmZvY3VzZWRFZGl0b3I9bnVsbCksZS5hY3RpdmVFZGl0b3J8fChVZC51bmJpbmQoZG9jdW1lbnQsImZvY3VzaW4iLEFkKSxBZD1udWxsKX1mdW5jdGlvbiBiZCh0LGUpe3ZhciBuLHI7bj1FdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSwoKHI9ZSkuY29sbGFwc2VkP3ZlLmZyb20oSXUoci5zdGFydENvbnRhaW5lcixyLnN0YXJ0T2Zmc2V0KSkubWFwKEV0LmZyb21Eb20pOnZlLm5vbmUoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gYm8oZSk/dmUuc29tZShlKTohMT09PVZlKG4sZSk/dmUuc29tZShuKTp2ZS5ub25lKCl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiByZihlLmRvbSl9KS5mb2xkKGZ1bmN0aW9uKCl7dC5zZWxlY3Rpb24ubm9ybWFsaXplKCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSl9ZnVuY3Rpb24geWQodCl7aWYodC5zZXRBY3RpdmUpdHJ5e3Quc2V0QWN0aXZlKCl9Y2F0Y2goZSl7dC5mb2N1cygpfWVsc2UgdC5mb2N1cygpfWZ1bmN0aW9uIENkKGUpe3JldHVybiBlLmlubGluZT8ocj1lLmdldEJvZHkoKSkmJihyZCh0PUV0LmZyb21Eb20ocikpfHxvZChQbihuPXQpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG4uZG9tLmNvbnRhaW5zKGUuZG9tKX0pLmlzU29tZSgpKTplLmlmcmFtZUVsZW1lbnQmJnJkKEV0LmZyb21Eb20oZS5pZnJhbWVFbGVtZW50KSk7dmFyIHQsbixyfWZ1bmN0aW9uIHhkKGUsdCxuLHIsbyl7dmFyIGk9bj90LnN0YXJ0Q29udGFpbmVyOnQuZW5kQ29udGFpbmVyLGE9bj90LnN0YXJ0T2Zmc2V0OnQuZW5kT2Zmc2V0O3JldHVybiB2ZS5mcm9tKGkpLm1hcChFdC5mcm9tRG9tKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHImJnQuY29sbGFwc2VkP2U6TXQoZSxvKGUsYSkpLmdldE9yKGUpfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gX24oZSk/dmUuc29tZShlKTpPdChlKS5maWx0ZXIoX24pfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pLmdldE9yKGUpfWZ1bmN0aW9uIHdkKGUsdCxuKXtyZXR1cm4geGQoZSx0LCEwLG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5taW4oenQoZSksdCl9KX1mdW5jdGlvbiBTZChlLHQsbil7cmV0dXJuIHhkKGUsdCwhMSxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8dD90LTE6dH0pfWZ1bmN0aW9uIE5kKGUsdCl7Zm9yKHZhciBuPWU7ZSYmVm4oZSkmJjA9PT1lLmxlbmd0aDspZT10P2UubmV4dFNpYmxpbmc6ZS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGV8fG59ZnVuY3Rpb24gRWQobixlKXtyZXR1cm4gQShlLGZ1bmN0aW9uKGUpe3ZhciB0PW4uZmlyZSgiR2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplfSk7cmV0dXJuIHQucmFuZ2UhPT1lP3QucmFuZ2U6ZX0pfWZ1bmN0aW9uIGtkKGUsdCxuKXt2YXIgcj1uPyJsYXN0Q2hpbGQiOiJmaXJzdENoaWxkIixvPW4/InByZXYiOiJuZXh0IjtpZihlW3JdKXJldHVybiBlW3JdO2lmKGUhPT10KXt2YXIgaT1lW29dO2lmKGkpcmV0dXJuIGk7Zm9yKHZhciBhPWUucGFyZW50O2EmJmEhPT10O2E9YS5wYXJlbnQpaWYoaT1hW29dKXJldHVybiBpfX1mdW5jdGlvbiBfZChlKXt2YXIgdD0iYSI9PT1lLm5hbWUmJiFlLmF0dHIoImhyZWYiKSYmZS5hdHRyKCJpZCIpO3JldHVybiBlLmF0dHIoIm5hbWUiKXx8ZS5hdHRyKCJpZCIpJiYhZS5maXJzdENoaWxkfHxlLmF0dHIoImRhdGEtbWNlLWJvb2ttYXJrIil8fHR9dmFyIEFkLFJkPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHIudmlldyhlKS5mb2xkKEooW10pLGZ1bmN0aW9uKGUpe3ZhciB0PXIub3duZXIoZSksbj1SZChyLHQpO3JldHVybltlXS5jb25jYXQobil9KX0sRGQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsdmlldzpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4oZS5kb209PT1kb2N1bWVudD92ZS5ub25lKCk6dmUuZnJvbShudWxsPT09KHQ9ZS5kb20uZGVmYXVsdFZpZXcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmZyYW1lRWxlbWVudCkpLm1hcChFdC5mcm9tRG9tKX0sb3duZXI6RHR9KSxUZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1FdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSxpPUV0LmZyb21Eb20oZS5nZXREb2MoKSk7by5kb20ub2Zmc2V0V2lkdGg7dmFyIGEsdSxzLGMsbD0oYT1FdC5mcm9tRG9tKG4uc3RhcnRDb250YWluZXIpLHU9bi5zdGFydE9mZnNldCxzPWZ1bmN0aW9uKGUsdCl7dmFyIG49VG4oZSk7aWYoMD09PW4ubGVuZ3RofHxWZihlKSlyZXR1cm57ZWxlbWVudDplLG9mZnNldDp0fTtpZih0PG4ubGVuZ3RoJiYhVmYoblt0XSkpcmV0dXJue2VsZW1lbnQ6blt0XSxvZmZzZXQ6MH07dmFyIHI9bltuLmxlbmd0aC0xXTtyZXR1cm4gVmYocik/e2VsZW1lbnQ6ZSxvZmZzZXQ6dH06ImltZyI9PT1rdChyKT97ZWxlbWVudDpyLG9mZnNldDoxfTpBbihyKT97ZWxlbWVudDpyLG9mZnNldDpNbChyKS5sZW5ndGh9OntlbGVtZW50OnIsb2Zmc2V0OlRuKHIpLmxlbmd0aH19KGEsdSksYz1FdC5mcm9tSHRtbCgnPHNwYW4gZGF0YS1tY2UtYm9ndXM9ImFsbCIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsiPlx1ZmVmZjwvc3Bhbj4nKSxxdChzLmVsZW1lbnQsYykscWYoYyxmdW5jdGlvbigpe3JldHVybiBJbihjKX0pKTtXZihlLGksdCxsLHIpLGwuY2xlYW51cCgpfSxPZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9bi5zdGFydENvbnRhaW5lcixvPW4uc3RhcnRPZmZzZXQsaT1uLmVuZENvbnRhaW5lcixhPW4uZW5kT2Zmc2V0O3QoRXQuZnJvbURvbShyKSxFdC5mcm9tRG9tKGkpKTt2YXIgdT1lLmRvbS5jcmVhdGVSbmcoKTt1LnNldFN0YXJ0KHIsbyksdS5zZXRFbmQoaSxhKSxlLnNlbGVjdGlvbi5zZXRSbmcobil9LEJkPWlyKFt7YmVmb3JlOlsiZWxlbWVudCJdfSx7b246WyJlbGVtZW50Iiwib2Zmc2V0Il19LHthZnRlcjpbImVsZW1lbnQiXX1dKSxQZD0oQmQuYmVmb3JlLEJkLm9uLEJkLmFmdGVyLGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQodSx1LHUpfSksTGQ9aXIoW3tkb21SYW5nZTpbInJuZyJdfSx7cmVsYXRpdmU6WyJzdGFydFNpdHUiLCJmaW5pc2hTaXR1Il19LHtleGFjdDpbInN0YXJ0Iiwic29mZnNldCIsImZpbmlzaCIsImZvZmZzZXQiXX1dKSxJZD17ZG9tUmFuZ2U6TGQuZG9tUmFuZ2UscmVsYXRpdmU6TGQucmVsYXRpdmUsZXhhY3Q6TGQuZXhhY3QsZXhhY3RGcm9tUmFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIExkLmV4YWN0KGUuc3RhcnQsZS5zb2Zmc2V0LGUuZmluaXNoLGUuZm9mZnNldCl9LGdldFdpbjpmdW5jdGlvbihlKXtyZXR1cm4gVHQoZS5tYXRjaCh7ZG9tUmFuZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIEV0LmZyb21Eb20oZS5zdGFydENvbnRhaW5lcil9LHJlbGF0aXZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFBkKGUpfSxleGFjdDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZX19KSl9LHJhbmdlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybntzdGFydDplLHNvZmZzZXQ6dCxmaW5pc2g6bixmb2Zmc2V0OnJ9fX0sTWQ9ZHQoKS5icm93c2VyLEZkPXtpc0VkaXRvclVJRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1lLmNsYXNzTmFtZS50b1N0cmluZygpO3JldHVybi0xIT09dC5pbmRleE9mKCJ0b3gtIil8fC0xIT09dC5pbmRleE9mKCJtY2UtIil9fSxVZD1ldS5ET00semQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUoZSl9LEhkPXsiI3RleHQiOjMsIiNjb21tZW50Ijo4LCIjY2RhdGEiOjQsIiNwaSI6NywiI2RvY3R5cGUiOjEwLCIjZG9jdW1lbnQtZnJhZ21lbnQiOjExfSxqZD0oVmQuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IFZkKGUsSGRbZV18fDEpO3JldHVybiB0JiZuZSh0LGZ1bmN0aW9uKGUsdCl7bi5hdHRyKHQsZSl9KSxufSxWZC5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnQmJmUucmVtb3ZlKCksdGhpcy5pbnNlcnQoZSx0aGlzKSx0aGlzLnJlbW92ZSgpLHRoaXN9LFZkLnByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gbnVsbCE9ZSYmbmUoZSxmdW5jdGlvbihlLHQpe3IuYXR0cih0LGUpfSkscjtpZihuPXIuYXR0cmlidXRlcyl7aWYodm9pZCAwPT09dClyZXR1cm4gbi5tYXBbZV07aWYobnVsbD09PXQpe2lmKGUgaW4gbi5tYXApe2RlbGV0ZSBuLm1hcFtlXTtmb3IodmFyIG89bi5sZW5ndGg7by0tOylpZihuW29dLm5hbWU9PT1lKXJldHVybiBuLnNwbGljZShvLDEpLHJ9cmV0dXJuIHJ9aWYoZSBpbiBuLm1hcCl7Zm9yKG89bi5sZW5ndGg7by0tOylpZihuW29dLm5hbWU9PT1lKXtuW29dLnZhbHVlPXQ7YnJlYWt9fWVsc2Ugbi5wdXNoKHtuYW1lOmUsdmFsdWU6dH0pO3JldHVybiBuLm1hcFtlXT10LHJ9fSxWZC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZSx0PW5ldyBWZCh0aGlzLm5hbWUsdGhpcy50eXBlKTtpZihlPXRoaXMuYXR0cmlidXRlcyl7dmFyIG49W107bi5tYXA9e307Zm9yKHZhciByPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdOyJpZCIhPT1pLm5hbWUmJihuW24ubGVuZ3RoXT17bmFtZTppLm5hbWUsdmFsdWU6aS52YWx1ZX0sbi5tYXBbaS5uYW1lXT1pLnZhbHVlKX10LmF0dHJpYnV0ZXM9bn1yZXR1cm4gdC52YWx1ZT10aGlzLnZhbHVlLHQuc2hvcnRFbmRlZD10aGlzLnNob3J0RW5kZWQsdH0sVmQucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50Lmluc2VydChlLHRoaXMpLGUuYXBwZW5kKHRoaXMpLHRoaXN9LFZkLnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5maXJzdENoaWxkO2U7KXt2YXIgdD1lLm5leHQ7dGhpcy5pbnNlcnQoZSx0aGlzLCEwKSxlPXR9dGhpcy5yZW1vdmUoKX0sVmQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyZW50LHQ9dGhpcy5uZXh0LG49dGhpcy5wcmV2O3JldHVybiBlJiYoZS5maXJzdENoaWxkPT09dGhpcz8oZS5maXJzdENoaWxkPXQpJiYodC5wcmV2PW51bGwpOm4ubmV4dD10LGUubGFzdENoaWxkPT09dGhpcz8oZS5sYXN0Q2hpbGQ9bikmJihuLm5leHQ9bnVsbCk6dC5wcmV2PW4sdGhpcy5wYXJlbnQ9dGhpcy5uZXh0PXRoaXMucHJldj1udWxsKSx0aGlzfSxWZC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe2UucGFyZW50JiZlLnJlbW92ZSgpO3ZhciB0PXRoaXMubGFzdENoaWxkO3JldHVybiB0PygodC5uZXh0PWUpLnByZXY9dCx0aGlzLmxhc3RDaGlsZD1lKTp0aGlzLmxhc3RDaGlsZD10aGlzLmZpcnN0Q2hpbGQ9ZSxlLnBhcmVudD10aGlzLGV9LFZkLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSx0LG4pe2UucGFyZW50JiZlLnJlbW92ZSgpO3ZhciByPXQucGFyZW50fHx0aGlzO3JldHVybiBuPyh0PT09ci5maXJzdENoaWxkP3IuZmlyc3RDaGlsZD1lOnQucHJldi5uZXh0PWUsZS5wcmV2PXQucHJldiwoZS5uZXh0PXQpLnByZXY9ZSk6KHQ9PT1yLmxhc3RDaGlsZD9yLmxhc3RDaGlsZD1lOnQubmV4dC5wcmV2PWUsZS5uZXh0PXQubmV4dCwoZS5wcmV2PXQpLm5leHQ9ZSksZS5wYXJlbnQ9cixlfSxWZC5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXRoaXMuZmlyc3RDaGlsZDtuO249a2Qobix0aGlzKSluLm5hbWU9PT1lJiZ0LnB1c2gobik7cmV0dXJuIHR9LFZkLnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PXRoaXMuZmlyc3RDaGlsZDt0O3Q9dC5uZXh0KWUucHVzaCh0KTtyZXR1cm4gZX0sVmQucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7aWYodGhpcy5maXJzdENoaWxkKXtmb3IodmFyIGU9W10sdD10aGlzLmZpcnN0Q2hpbGQ7dDt0PWtkKHQsdGhpcykpZS5wdXNoKHQpO2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KSh0PWVbbl0pLnBhcmVudD10LmZpcnN0Q2hpbGQ9dC5sYXN0Q2hpbGQ9dC5uZXh0PXQucHJldj1udWxsfXJldHVybiB0aGlzLmZpcnN0Q2hpbGQ9dGhpcy5sYXN0Q2hpbGQ9bnVsbCx0aGlzfSxWZC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciByPXRoaXMuZmlyc3RDaGlsZDtpZihfZCh0aGlzKSlyZXR1cm4hMTtpZihyKWRve2lmKDE9PT1yLnR5cGUpe2lmKHIuYXR0cigiZGF0YS1tY2UtYm9ndXMiKSljb250aW51ZTtpZihlW3IubmFtZV0pcmV0dXJuITE7aWYoX2QocikpcmV0dXJuITF9aWYoOD09PXIudHlwZSlyZXR1cm4hMTtpZigzPT09ci50eXBlJiYhZnVuY3Rpb24oZSl7aWYoJHIoZS52YWx1ZSkpe3ZhciB0PWUucGFyZW50O3JldHVybiF0fHwic3BhbiI9PT10Lm5hbWUmJiF0LmF0dHIoInN0eWxlIil8fCEvXlsgXSskLy50ZXN0KGUudmFsdWUpfX0ocikpcmV0dXJuITE7aWYoMz09PXIudHlwZSYmci5wYXJlbnQmJnRbci5wYXJlbnQubmFtZV0mJiRyKHIudmFsdWUpKXJldHVybiExO2lmKG4mJm4ocikpcmV0dXJuITF9d2hpbGUocj1rZChyLHRoaXMpKTtyZXR1cm4hMH0sVmQucHJvdG90eXBlLndhbGs9ZnVuY3Rpb24oZSl7cmV0dXJuIGtkKHRoaXMsbnVsbCxlKX0sVmQpO2Z1bmN0aW9uIFZkKGUsdCl7dGhpcy5uYW1lPWUsMT09PSh0aGlzLnR5cGU9dCkmJih0aGlzLmF0dHJpYnV0ZXM9W10sdGhpcy5hdHRyaWJ1dGVzLm1hcD17fSl9ZnVuY3Rpb24gcWQoZSl7cmV0dXJuIFgoZS5ub2RlVmFsdWUpJiZUZShlLm5vZGVWYWx1ZSxTbyl9ZnVuY3Rpb24gJGQoZSl7cmV0dXJuKDA9PT1lLmxlbmd0aD8iIjpBKGUsZnVuY3Rpb24oZSl7cmV0dXJuIlsiK2UrIl0ifSkuam9pbigiLCIpKyIsIikrJ1tkYXRhLW1jZS1ib2d1cz0iYWxsIl0nfWZ1bmN0aW9uIFdkKGUsdCxuKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlLHQsbiwhMSl9ZnVuY3Rpb24gS2QoZSl7cmV0dXJuIFdkKGUsTm9kZUZpbHRlci5TSE9XX0NPTU1FTlQsZnVuY3Rpb24oZSl7cmV0dXJuIHFkKGUpP05vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDpOb2RlRmlsdGVyLkZJTFRFUl9TS0lQfSl9ZnVuY3Rpb24gWGQoZSl7cmV0dXJuIFdkKGUsTm9kZUZpbHRlci5TSE9XX1RFWFQsZnVuY3Rpb24oZSl7aWYocWQoZSkpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmRWUob20sdC5ub2RlTmFtZSk/Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUOk5vZGVGaWx0ZXIuRklMVEVSX1NLSVB9cmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1NLSVB9KX1mdW5jdGlvbiBZZChlKXtyZXR1cm4gbnVsbCE9PUtkKGUpLm5leHROb2RlKCl9ZnVuY3Rpb24gR2QoZSl7cmV0dXJuIG51bGwhPT1YZChlKS5uZXh0Tm9kZSgpfWZ1bmN0aW9uIEpkKGUsdCl7cmV0dXJuIG51bGwhPT10LnF1ZXJ5U2VsZWN0b3IoJGQoZSkpfWZ1bmN0aW9uIFFkKG4sZSl7WShlLnF1ZXJ5U2VsZWN0b3JBbGwoJGQobikpLGZ1bmN0aW9uKGUpe3ZhciB0PUV0LmZyb21Eb20oZSk7ImFsbCI9PT12bih0LCJkYXRhLW1jZS1ib2d1cyIpP0luKHQpOlkobixmdW5jdGlvbihlKXt5bih0LGUpJiZDbih0LGUpfSl9KX1mdW5jdGlvbiBaZChlKXtmb3IodmFyIHQ9ZS5uZXh0Tm9kZSgpO251bGwhPT10Oyl0Lm5vZGVWYWx1ZT1udWxsLHQ9ZS5uZXh0Tm9kZSgpfWZ1bmN0aW9uIGVtKHIsZSl7dmFyIHQ9W3tjb25kaXRpb246UihKZCxlKSxhY3Rpb246UihRZCxlKX0se2NvbmRpdGlvbjpZZCxhY3Rpb246aW19LHtjb25kaXRpb246R2QsYWN0aW9uOmFtfV0sbz1yLGk9ITE7cmV0dXJuIFkodCxmdW5jdGlvbihlKXt2YXIgdD1lLmNvbmRpdGlvbixuPWUuYWN0aW9uO3QobykmJihpfHwobz1yLmNsb25lTm9kZSghMCksaT0hMCksbihvKSl9KSxvfWZ1bmN0aW9uIHRtKG8pe3JldHVybntjb21wYXJlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWU9PT10Lm5vZGVOYW1lJiYhKCFyKG4oZSksbih0KSl8fCFyKG8ucGFyc2VTdHlsZShvLmdldEF0dHJpYihlLCJzdHlsZSIpKSxvLnBhcnNlU3R5bGUoby5nZXRBdHRyaWIodCwic3R5bGUiKSkpfHxRYyhlKXx8UWModCkpO2Z1bmN0aW9uIG4obil7dmFyIHI9e307cmV0dXJuIHVtKG8uZ2V0QXR0cmlicyhuKSxmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7MCE9PXQuaW5kZXhPZigiXyIpJiYic3R5bGUiIT09dCYmMCE9PXQuaW5kZXhPZigiZGF0YS0iKSYmKHJbdF09by5nZXRBdHRyaWIobix0KSl9KSxyfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbixyO2ZvcihyIGluIGUpaWYoRWUoZSxyKSl7aWYodm9pZCAwPT09KG49dFtyXSkpcmV0dXJuO2lmKGVbcl0hPT1uKXJldHVybjtkZWxldGUgdFtyXX1mb3IociBpbiB0KWlmKEVlKHQscikpcmV0dXJuO3JldHVybiAxfX19fWZ1bmN0aW9uIG5tKGUpe3ZhciB1PVtdLHM9KGU9ZXx8e30pLmluZGVudCxjPXNtKGUuaW5kZW50X2JlZm9yZXx8IiIpLGw9c20oZS5pbmRlbnRfYWZ0ZXJ8fCIiKSxmPVpvLmdldEVuY29kZUZ1bmMoZS5lbnRpdHlfZW5jb2Rpbmd8fCJyYXciLGUuZW50aXRpZXMpLGQ9Imh0bWwiPT09ZS5lbGVtZW50X2Zvcm1hdDtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhO2lmKHMmJmNbZV0mJjA8dS5sZW5ndGgmJjA8KGE9dVt1Lmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09YSYmdS5wdXNoKCJcbiIpLHUucHVzaCgiPCIsZSksdClmb3Iocj0wLG89dC5sZW5ndGg7cjxvO3IrKylpPXRbcl0sdS5wdXNoKCIgIixpLm5hbWUsJz0iJyxmKGkudmFsdWUsITApLCciJyk7dVt1Lmxlbmd0aF09IW58fGQ/Ij4iOiIgLz4iLG4mJnMmJmxbZV0mJjA8dS5sZW5ndGgmJjA8KGE9dVt1Lmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09YSYmdS5wdXNoKCJcbiIpfSxlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ7dS5wdXNoKCI8LyIsZSwiPiIpLHMmJmxbZV0mJjA8dS5sZW5ndGgmJjA8KHQ9dVt1Lmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09dCYmdS5wdXNoKCJcbiIpfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7MDxlLmxlbmd0aCYmKHVbdS5sZW5ndGhdPXQ/ZTpmKGUpKX0sY2RhdGE6ZnVuY3Rpb24oZSl7dS5wdXNoKCI8IVtDREFUQVsiLGUsIl1dPiIpfSxjb21tZW50OmZ1bmN0aW9uKGUpe3UucHVzaCgiXHgzYyEtLSIsZSwiLS1ceDNlIil9LHBpOmZ1bmN0aW9uKGUsdCl7dD91LnB1c2goIjw/IixlLCIgIixmKHQpLCI/PiIpOnUucHVzaCgiPD8iLGUsIj8+IikscyYmdS5wdXNoKCJcbiIpfSxkb2N0eXBlOmZ1bmN0aW9uKGUpe3UucHVzaCgiPCFET0NUWVBFIixlLCI+IixzPyJcbiI6IiIpfSxyZXNldDpmdW5jdGlvbigpe3UubGVuZ3RoPTB9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5qb2luKCIiKS5yZXBsYWNlKC9cbiQvLCIiKX19fWZ1bmN0aW9uIHJtKHQsZyl7dm9pZCAwPT09ZyYmKGc9b28oKSk7dmFyIHA9bm0odCk7cmV0dXJuKHQ9dHx8e30pLnZhbGlkYXRlPSEoInZhbGlkYXRlImluIHQpfHx0LnZhbGlkYXRlLHtzZXJpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIGY9dC52YWxpZGF0ZSxkPXszOmZ1bmN0aW9uKGUpe3AudGV4dChlLnZhbHVlLGUucmF3KX0sODpmdW5jdGlvbihlKXtwLmNvbW1lbnQoZS52YWx1ZSl9LDc6ZnVuY3Rpb24oZSl7cC5waShlLm5hbWUsZS52YWx1ZSl9LDEwOmZ1bmN0aW9uKGUpe3AuZG9jdHlwZShlLnZhbHVlKX0sNDpmdW5jdGlvbihlKXtwLmNkYXRhKGUudmFsdWUpfSwxMTpmdW5jdGlvbihlKXtpZihlPWUuZmlyc3RDaGlsZClmb3IoO20oZSksZT1lLm5leHQ7KTt9fTtwLnJlc2V0KCk7dmFyIG09ZnVuY3Rpb24oZSl7dmFyIHQ9ZFtlLnR5cGVdO2lmKHQpdChlKTtlbHNle3ZhciBuPWUubmFtZSxyPWUuc2hvcnRFbmRlZCxvPWUuYXR0cmlidXRlcztpZihmJiZvJiYxPG8ubGVuZ3RoKXt2YXIgaT1bXTtpLm1hcD17fTt2YXIgYT1nLmdldEVsZW1lbnRSdWxlKGUubmFtZSk7aWYoYSl7Zm9yKHZhciB1PTAscz1hLmF0dHJpYnV0ZXNPcmRlci5sZW5ndGg7dTxzO3UrKykoYz1hLmF0dHJpYnV0ZXNPcmRlclt1XSlpbiBvLm1hcCYmKGw9by5tYXBbY10saS5tYXBbY109bCxpLnB1c2goe25hbWU6Yyx2YWx1ZTpsfSkpO2Zvcih2YXIgYyxsLHU9MCxzPW8ubGVuZ3RoO3U8czt1KyspKGM9b1t1XS5uYW1lKWluIGkubWFwfHwobD1vLm1hcFtjXSxpLm1hcFtjXT1sLGkucHVzaCh7bmFtZTpjLHZhbHVlOmx9KSk7bz1pfX1pZihwLnN0YXJ0KGUubmFtZSxvLHIpLCFyKXtpZihlPWUuZmlyc3RDaGlsZClmb3IoO20oZSksZT1lLm5leHQ7KTtwLmVuZChuKX19fTtyZXR1cm4gMSE9PWUudHlwZXx8dC5pbm5lcj9kWzExXShlKTptKGUpLHAuZ2V0Q29udGVudCgpfX19dmFyIG9tPU50Lm1ha2VNYXAoIk5PU0NSSVBUIFNUWUxFIFNDUklQVCBYTVAgSUZSQU1FIE5PRU1CRUQgTk9GUkFNRVMgUExBSU5URVhUIiwiICIpLGltPWkoWmQsS2QpLGFtPWkoWmQsWGQpLHVtPU50LmVhY2gsc209TnQubWFrZU1hcCxjbT1uZXcgU2V0O2Z1bmN0aW9uIGxtKGUsdCl7cmV0dXJuIHdlKGUucGFyc2VTdHlsZShlLmdldEF0dHJpYih0LCJzdHlsZSIpKSl9ZnVuY3Rpb24gZm0obixyLG8pe3JldHVybiB2ZS5mcm9tKG8uY29udGFpbmVyKCkpLmZpbHRlcihWbikuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PW4/MDotMTtyZXR1cm4gcihlLmRhdGEuY2hhckF0KG8ub2Zmc2V0KCkrdCkpfSl9ZnVuY3Rpb24gZG0oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gVm4odCkmJigwPT09dC5kYXRhLmxlbmd0aHx8Tm8odC5kYXRhKSYmSGwuaXNCb29rbWFya05vZGUodC5wYXJlbnROb2RlKSl9ZnVuY3Rpb24gbW0odCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHZlLmZyb20oWnModD8wOi0xLGUpKS5maWx0ZXIobikuaXNTb21lKCl9fWZ1bmN0aW9uIGdtKGUpe3JldHVybiBYbihlKSYmImJsb2NrIj09PXduKEV0LmZyb21Eb20oZSksImRpc3BsYXkiKX1mdW5jdGlvbiBwbShlKXtyZXR1cm4gR24oZSkmJiEoSG4odD1lKSYmImFsbCI9PT10LmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSk7dmFyIHR9ZnVuY3Rpb24gaG0oZSl7WHQoZSksTG4oZSxFdC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSl9ZnVuY3Rpb24gdm0obil7VXQobikuZWFjaChmdW5jdGlvbih0KXtCdCh0KS5lYWNoKGZ1bmN0aW9uKGUpe2dvKG4pJiZQcih0KSYmZ28oZSkmJkluKHQpfSl9KX1mdW5jdGlvbiBibShlLHQpe3JldHVybiBvPUQsVmUocj10LG49ZSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49eSh0KT90OkQscj1lLmRvbSxvPVtdO251bGwhPT1yLnBhcmVudE5vZGUmJnZvaWQgMCE9PXIucGFyZW50Tm9kZTspe3ZhciBpPXIucGFyZW50Tm9kZSxhPUV0LmZyb21Eb20oaSk7aWYoby5wdXNoKGEpLCEwPT09bihhKSlicmVhaztyPWl9cmV0dXJuIG99KG4sZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl8fGplKGUscil9KS5zbGljZSgwLC0xKTpbXTt2YXIgbixyLG99ZnVuY3Rpb24geW0oZSx0KXtyZXR1cm5bZV0uY29uY2F0KGJtKGUsdCkpfWZ1bmN0aW9uIENtKGUsdCxuKXtyZXR1cm4gZWYoZSx0LG4sZG0pfWZ1bmN0aW9uIHhtKGUsdCl7cmV0dXJuIE0oeW0oRXQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSxlKSxnbyl9ZnVuY3Rpb24gd20oZSxuLHIpe3JldHVybiBDbShlLG4uZG9tLHIpLmZvcmFsbChmdW5jdGlvbih0KXtyZXR1cm4geG0obixyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuITE9PT1Rcyh0LHIsbi5kb20pfSxmdW5jdGlvbihlKXtyZXR1cm4hMT09PVFzKHQscixuLmRvbSkmJlZlKGUsRXQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSl9KX0pfWZ1bmN0aW9uIFNtKHQsbixyKXtyZXR1cm4geG0obixyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIENtKHQsbi5kb20scikuZm9yYWxsKGZ1bmN0aW9uKGUpe3JldHVybiExPT09UXMoZSxyLG4uZG9tKX0pfSxmdW5jdGlvbihlKXtyZXR1cm4gQ20odCxlLmRvbSxyKS5pc05vbmUoKX0pfWZ1bmN0aW9uIE5tKGUpe3JldHVybiBpYyhlKS5leGlzdHMoUHIpfWZ1bmN0aW9uIEVtKGUsdCxuKXt2YXIgcj1RKFUoeW0oRXQuZnJvbURvbShuLmNvbnRhaW5lcigpKSx0KSxnbykpLmdldE9yKHQpO3JldHVybiBabChlLHIuZG9tLG4pLmZpbHRlcihObSl9ZnVuY3Rpb24ga20oZSx0KXtyZXR1cm4gaWModCkuZXhpc3RzKFByKXx8RW0oITAsZSx0KS5pc1NvbWUoKX1mdW5jdGlvbiBfbShlLHQpe3JldHVybiB2ZS5mcm9tKHQuZ2V0Tm9kZSghMCkpLm1hcChFdC5mcm9tRG9tKS5leGlzdHMoUHIpfHxFbSghMSxlLHQpLmlzU29tZSgpfWZ1bmN0aW9uIEFtKGUpe3JldHVybiBjcy5pc1RleHRQb3NpdGlvbihlKSYmIWUuaXNBdFN0YXJ0KCkmJiFlLmlzQXRFbmQoKX1mdW5jdGlvbiBSbShlLHQpe3JldHVybiBRKFUoeW0oRXQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSxlKSxnbykpLmdldE9yKGUpfWZ1bmN0aW9uIERtKGUsdCl7cmV0dXJuIEFtKHQpP0dnKHQpOkdnKHQpfHxuZihSbShlLHQpLmRvbSx0KS5leGlzdHMoR2cpfWZ1bmN0aW9uIFRtKGUsdCl7cmV0dXJuIEFtKHQpP1lnKHQpOllnKHQpfHx0ZihSbShlLHQpLmRvbSx0KS5leGlzdHMoWWcpfWZ1bmN0aW9uIE9tKGUpe3JldHVybiBpYyhlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBocihlLF9uKX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gVChbInByZSIsInByZS13cmFwIl0sd24oZSwid2hpdGUtc3BhY2UiKSl9KX1mdW5jdGlvbiBCbShlLHQpe3JldHVybiFPbSh0KSYmKGlwKGUsdCl8fHVwKGUsdCl8fF9tKGUsdCl8fERtKGUsdCkpfWZ1bmN0aW9uIFBtKGUsdCl7cmV0dXJuIU9tKHQpJiYoYXAoZSx0KXx8c3AoZSx0KXx8a20oZSx0KXx8VG0oZSx0KSl9ZnVuY3Rpb24gTG0oZSx0KXtyZXR1cm4gQm0oZSx0KXx8UG0oZSwocj0obj10KS5jb250YWluZXIoKSxvPW4ub2Zmc2V0KCksVm4ocikmJm88ci5kYXRhLmxlbmd0aD9jcyhyLG8rMSk6bikpO3ZhciBuLHIsb31mdW5jdGlvbiBJbShlLHQpe3JldHVybiBzZihlLmNoYXJBdCh0KSl9ZnVuY3Rpb24gTW0oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gVm4odCkmJlRlKHQuZGF0YSx3byl9ZnVuY3Rpb24gRm0oZyxlKXtyZXR1cm4gdmUuc29tZShlKS5maWx0ZXIoTW0pLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGw9ZS5jb250YWluZXIoKSxmPWcsZD0oaT1sKS5kYXRhLG09Y3MoaSwwKTtyZXR1cm4oIUltKGQsMCl8fExtKGYsbSk/KHM9KGE9bCkuZGF0YSwoYz1BKHU9cy5zcGxpdCgiIiksZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2YoZSkmJjA8dCYmdDx1Lmxlbmd0aC0xJiZlbCh1W3QtMV0pJiZlbCh1W3QrMV0pPyIgIjplfSkuam9pbigiIikpIT09cyYmKGEuZGF0YT1jLDEpKTooaS5kYXRhPSIgIitkLnNsaWNlKDEpLDEpKXx8KHQ9ZyxyPShuPWwpLmRhdGEsbz1jcyhuLHIubGVuZ3RoLTEpLEltKHIsci5sZW5ndGgtMSkmJiFMbSh0LG8pJiYobi5kYXRhPXIuc2xpY2UoMCwtMSkrIiAiLDEpKT92ZS5zb21lKGUpOnZlLm5vbmUoKX0pfWZ1bmN0aW9uIFVtKHQpe3ZhciBlPUV0LmZyb21Eb20odC5nZXRCb2R5KCkpO3Quc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJkZtKGUsY3MuZnJvbVJhbmdlU3RhcnQodC5zZWxlY3Rpb24uZ2V0Um5nKCkpKS5lYWNoKGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSl9KX1mdW5jdGlvbiB6bShlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGMsbDswIT09biYmKG89cHIocj1FdC5mcm9tRG9tKGUpLGdvKS5nZXRPcihyKSxpPWUuZGF0YS5zbGljZSh0LHQrbiksYT10K24+PWUuZGF0YS5sZW5ndGgmJlBtKG8sY3MoZSxlLmRhdGEubGVuZ3RoKSksdT0wPT09dCYmQm0obyxjcyhlLDApKSxlLnJlcGxhY2VEYXRhKHQsbiwoYz11LGw9YSxMKHM9aSxmdW5jdGlvbihlLHQpe3JldHVybiBaYyh0KXx8c2YodCk/ZS5wcmV2aW91c0NoYXJJc1NwYWNlfHwiIj09PWUuc3RyJiZjfHxlLnN0ci5sZW5ndGg9PT1zLmxlbmd0aC0xJiZsP3twcmV2aW91c0NoYXJJc1NwYWNlOiExLHN0cjplLnN0cit3b306e3ByZXZpb3VzQ2hhcklzU3BhY2U6ITAsc3RyOmUuc3RyKyIgIn06e3ByZXZpb3VzQ2hhcklzU3BhY2U6ITEsc3RyOmUuc3RyK3R9fSx7cHJldmlvdXNDaGFySXNTcGFjZTohMSxzdHI6IiJ9KS5zdHIpKSl9ZnVuY3Rpb24gSG0oZSx0KXt2YXIgbj1lLmRhdGEuc2xpY2UodCk7em0oZSx0LG4ubGVuZ3RoLVFlKG4pLmxlbmd0aCl9ZnVuY3Rpb24gam0oZSx0KXt2YXIgbj1lLmRhdGEuc2xpY2UoMCx0KSxyPW4ubGVuZ3RoLVplKG4pLmxlbmd0aDt6bShlLHQtcixyKX1mdW5jdGlvbiBWbShlLHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG89WmUoZS5kYXRhKS5sZW5ndGgsaT1yP2U6dCxhPXI/dDplO3JldHVybiByP2kuYXBwZW5kRGF0YShhLmRhdGEpOmkuaW5zZXJ0RGF0YSgwLGEuZGF0YSksSW4oRXQuZnJvbURvbShhKSksbiYmSG0oaSxvKSxpfWZ1bmN0aW9uIHFtKGUsdCl7cmV0dXJuIHI9ZSxvPShuPXQpLmNvbnRhaW5lcigpLGk9bi5vZmZzZXQoKSwhMT09PWNzLmlzVGV4dFBvc2l0aW9uKG4pJiZvPT09ci5wYXJlbnROb2RlJiZpPmNzLmJlZm9yZShyKS5vZmZzZXQoKT9jcyh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCktMSk6dDt2YXIgbixyLG8saX1mdW5jdGlvbiAkbShlKXtyZXR1cm4gVnIoZS5wcmV2aW91c1NpYmxpbmcpP3ZlLnNvbWUoKHQ9ZS5wcmV2aW91c1NpYmxpbmcsVm4odCk/Y3ModCx0LmRhdGEubGVuZ3RoKTpjcy5hZnRlcih0KSkpOmUucHJldmlvdXNTaWJsaW5nP29mKGUucHJldmlvdXNTaWJsaW5nKTp2ZS5ub25lKCk7dmFyIHR9ZnVuY3Rpb24gV20oZSl7cmV0dXJuIFZyKGUubmV4dFNpYmxpbmcpP3ZlLnNvbWUoKHQ9ZS5uZXh0U2libGluZyxWbih0KT9jcyh0LDApOmNzLmJlZm9yZSh0KSkpOmUubmV4dFNpYmxpbmc/cmYoZS5uZXh0U2libGluZyk6dmUubm9uZSgpO3ZhciB0fWZ1bmN0aW9uIEttKHIsbyl7cmV0dXJuICRtKG8pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gV20obyl9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGU9cixuPWNzLmJlZm9yZSgodD1vKS5wcmV2aW91c1NpYmxpbmd8fHQucGFyZW50Tm9kZSksbmYoZSxuKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHRmKGUsY3MuYWZ0ZXIodCkpfSx2ZS5zb21lKTt2YXIgZSx0LG59KX1mdW5jdGlvbiBYbShuLHIpe3JldHVybiBXbShyKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuICRtKHIpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB0ZihlPW4sY3MuYWZ0ZXIodD1yKSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBuZihlLGNzLmJlZm9yZSh0KSl9LHZlLnNvbWUpO3ZhciBlLHR9KX1mdW5jdGlvbiBZbSh0LG4sZSl7ZS5mb2xkKGZ1bmN0aW9uKCl7dC5mb2N1cygpfSxmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCksbil9KX1mdW5jdGlvbiBHbShlLHQpe3JldHVybiB0JiZFZShlLnNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCksa3QodCkpfWZ1bmN0aW9uIEptKGUpe2lmKEtyKGUpKXt2YXIgdD1FdC5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKTtyZXR1cm4gWHQoZSksTG4oZSx0KSx2ZS5zb21lKGNzLmJlZm9yZSh0LmRvbSkpfXJldHVybiB2ZS5ub25lKCl9ZnVuY3Rpb24gUW0odCxuLGUscil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBvLGksYSx1LHMsYyxsLGYsZCxtLGcscCxoLHYsYj0ocD1uLGg9dC5nZXRCb2R5KCksdj1lLmRvbSwocD9YbTpLbSkoaCx2KS5tYXAoUihxbSx2KSkpLHk9cHIoZSxSKEdtLHQpLChvPXQuZ2V0Qm9keSgpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbT09PW99KSksQz0odT1iLGk9YT1lLHM9RWUodC5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCksa3QoaSkpLG09QnQoYSkuZmlsdGVyKEFuKSxnPVB0KGEpLmZpbHRlcihBbiksSW4oYSksbD1nLGY9dSxkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmRvbSxvPXQuZG9tLGk9ci5kYXRhLmxlbmd0aDtyZXR1cm4gVm0ocixvLHMpLG4uY29udGFpbmVyKCk9PT1vP2NzKHIsaSk6bn0sKChjPW0pLmlzU29tZSgpJiZsLmlzU29tZSgpJiZmLmlzU29tZSgpP3ZlLnNvbWUoZChjLmdldE9yRGllKCksbC5nZXRPckRpZSgpLGYuZ2V0T3JEaWUoKSkpOnZlLm5vbmUoKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBzJiYobS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBqbShlLmRvbSxlLmRvbS5sZW5ndGgpfSksZy5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBIbShlLmRvbSwwKX0pKSx1fSkpO3QuZG9tLmlzRW1wdHkodC5nZXRCb2R5KCkpPyh0LnNldENvbnRlbnQoIiIpLHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCkpOnkuYmluZChKbSkuZm9sZChmdW5jdGlvbigpe3ImJlltKHQsbixDKX0sZnVuY3Rpb24oZSl7ciYmWW0odCxuLHZlLnNvbWUoZSkpfSl9ZnVuY3Rpb24gWm0oZSl7cmV0dXJuIHl1KGUsInRkLHRoIil9ZnVuY3Rpb24gZWcoZSx0KXtyZXR1cm57c3RhcnQ6ZSxlbmQ6dH19ZnVuY3Rpb24gdGcoZSx0KXtyZXR1cm4geXIoRXQuZnJvbURvbShlKSwidGQsdGgiLHQpfWZ1bmN0aW9uIG5nKGUpe3JldHVybiFqZShlLnN0YXJ0LGUuZW5kKX1mdW5jdGlvbiByZyhlLG4pe3JldHVybiBUbChlLnN0YXJ0LG4pLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIFRsKGUuZW5kLG4pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGplKHQsZSk/dmUuc29tZSh0KTp2ZS5ub25lKCl9KX0pfWZ1bmN0aW9uIG9nKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gcmcodCxlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3JuZzp0LHRhYmxlOmUsY2VsbHM6Wm0oZSl9fSl9fWZ1bmN0aW9uIGlnKGUsdCxuLHIpe2lmKG4uY29sbGFwc2VkfHwhZS5mb3JhbGwobmcpKXJldHVybiB2ZS5ub25lKCk7aWYodC5pc1NhbWVUYWJsZSl7dmFyIG89ZS5iaW5kKG9nKHIpKTtyZXR1cm4gdmUuc29tZSh7c3RhcnQ6byxlbmQ6b30pfXZhciBpLGEsdT10ZyhuLnN0YXJ0Q29udGFpbmVyLHIpLHM9dGcobi5lbmRDb250YWluZXIsciksYz11LmJpbmQoKGE9cixmdW5jdGlvbih0KXtyZXR1cm4gVGwodCxhKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBaKFptKGUpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVnKHQsZSl9KX0pfSkpLmJpbmQob2cocikpLGw9cy5iaW5kKChpPXIsZnVuY3Rpb24odCl7cmV0dXJuIFRsKHQsaSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gUShabShlKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlZyhlLHQpfSl9KX0pKS5iaW5kKG9nKHIpKTtyZXR1cm4gdmUuc29tZSh7c3RhcnQ6YyxlbmQ6bH0pfWZ1bmN0aW9uIGFnKGUsdCl7cmV0dXJuIHooZSxmdW5jdGlvbihlKXtyZXR1cm4gamUoZSx0KX0pfWZ1bmN0aW9uIHVnKG4pe3JldHVybiBkbihhZyhuLmNlbGxzLG4ucm5nLnN0YXJ0KSxhZyhuLmNlbGxzLG4ucm5nLmVuZCksZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jZWxscy5zbGljZShlLHQrMSl9KX1mdW5jdGlvbiBzZyhlLHQpe3ZhciBuPXQuc3RhcnRUYWJsZSxyPXQuZW5kVGFibGUsbz1lLmNsb25lUmFuZ2UoKTtyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBvLnNldFN0YXJ0QWZ0ZXIoZS5kb20pfSksci5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBvLnNldEVuZEJlZm9yZShlLmRvbSl9KSxvfWZ1bmN0aW9uIGNnKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYyxsLGYsZCxtLGcscCxoLHYsYj0obj1lLGZ1bmN0aW9uKGUpe3JldHVybiBqZShuLGUpfSkseT1kbih0Zygocj10KS5zdGFydENvbnRhaW5lcixvPWIpLHRnKHIuZW5kQ29udGFpbmVyLG8pLGVnKSxDPShsPWIsZj14KChjPXQpLnN0YXJ0Q29udGFpbmVyKSxkPXgoYy5lbmRDb250YWluZXIpLG09Zi5pc1NvbWUoKSxnPWQuaXNTb21lKCkscD1kbihmLGQsamUpLmdldE9yKCExKSx7c3RhcnRUYWJsZTpmLGVuZFRhYmxlOmQsaXNTdGFydEluVGFibGU6bSxpc0VuZEluVGFibGU6Zyxpc1NhbWVUYWJsZTpwLGlzTXVsdGlUYWJsZTohcCYmbSYmZ30pO2Z1bmN0aW9uIHgoZSl7cmV0dXJuIFRsKEV0LmZyb21Eb20oZSksbCl9cmV0dXJuIGg9dCx2PWIseS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIW5nKHQ9ZSkmJnJnKHQsdikuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLnJvd3M7cmV0dXJuIDE9PT10Lmxlbmd0aCYmMT09PXRbMF0uY2VsbHMubGVuZ3RofSkmJk9sKGUuc3RhcnQsaCk7dmFyIHR9KT95Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnAuc2luZ2xlQ2VsbFRhYmxlKHQsZS5zdGFydCl9KTpDLmlzTXVsdGlUYWJsZT9pZyh5LHU9QyxzPXQsYikuYmluZChmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0LG49ZS5lbmQscj10LmJpbmQodWcpLmdldE9yKFtdKSxvPW4uYmluZCh1ZykuZ2V0T3IoW10pO2lmKDA8ci5sZW5ndGgmJjA8by5sZW5ndGgpe3ZhciBpPXNnKHMsdSk7cmV0dXJuIHZlLnNvbWUoZnAubXVsdGlUYWJsZShyLG8saSkpfXJldHVybiB2ZS5ub25lKCl9KTppZyh5LGk9QyxhPXQsYikuYmluZChmdW5jdGlvbihlKXt2YXIgdD1lLnN0YXJ0LG49ZS5lbmQ7cmV0dXJuIHQub3Iobil9KS5iaW5kKGZ1bmN0aW9uKGUpe3ZhciB0PWkuaXNTYW1lVGFibGUsbj11ZyhlKS5nZXRPcihbXSk7aWYodCYmZS5jZWxscy5sZW5ndGg9PT1uLmxlbmd0aClyZXR1cm4gdmUuc29tZShmcC5mdWxsVGFibGUoZS50YWJsZSkpO2lmKDA8bi5sZW5ndGgpe2lmKHQpcmV0dXJuIHZlLnNvbWUoZnAucGFydGlhbFRhYmxlKG4sdmUubm9uZSgpKSk7dmFyIHI9c2coYSxpKTtyZXR1cm4gdmUuc29tZShmcC5wYXJ0aWFsVGFibGUobix2ZS5zb21lKF9lKF9lKHt9LGkpLHtybmc6cn0pKSkpfXJldHVybiB2ZS5ub25lKCl9KX1mdW5jdGlvbiBsZyhlKXtyZXR1cm4gWShlLGZ1bmN0aW9uKGUpe0NuKGUsImNvbnRlbnRlZGl0YWJsZSIpLGhtKGUpfSksMH1mdW5jdGlvbiBmZyhlLHQsbixyKXt2YXIgbz1uLmNsb25lUmFuZ2UoKTtyPyhvLnNldFN0YXJ0KG4uc3RhcnRDb250YWluZXIsbi5zdGFydE9mZnNldCksby5zZXRFbmRBZnRlcih0LmRvbS5sYXN0Q2hpbGQpKTooby5zZXRTdGFydEJlZm9yZSh0LmRvbS5maXJzdENoaWxkKSxvLnNldEVuZChuLmVuZENvbnRhaW5lcixuLmVuZE9mZnNldCkpLG1wKGUsbyx0LCExKX1mdW5jdGlvbiBkZyhlKXt2YXIgdD1EbChlKSxuPUV0LmZyb21Eb20oZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpKTtKbihuLmRvbSkmJktyKG4pP2Uuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4uZG9tLDApOmUuc2VsZWN0aW9uLmNvbGxhcHNlKCEwKSwxPHQubGVuZ3RoJiZGKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGplKGUsbil9KSYmcG4obiwiZGF0YS1tY2Utc2VsZWN0ZWQiLCIxIil9ZnVuY3Rpb24gbWcocyxjLGUpe3ZhciBsPXMuc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBsZyhlLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89ZS5ybmcsaT1lLmlzU3RhcnRJblRhYmxlLGE9KHQ9aT9vLmVuZENvbnRhaW5lcjpvLnN0YXJ0Q29udGFpbmVyLHZlLmZyb20ocy5kb20uZ2V0UGFyZW50KHQscy5kb20uaXNCbG9jaykpLm1hcChFdC5mcm9tRG9tKSk7by5kZWxldGVDb250ZW50cygpLG49cyxyPWksYS5maWx0ZXIoS3IpLmVhY2goZnVuY3Rpb24oZSl7cj9JbihlKTooaG0oZSksbi5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oZS5kb20sMCkpfSk7dmFyIHU9aT9jWzBdOmNbYy5sZW5ndGgtMV07cmV0dXJuIGZnKHMsdSxsLGkpLEtyKHUpP3ZlLm5vbmUoKTp2ZS5zb21lKGk/Yy5zbGljZSgxKTpjLnNsaWNlKDAsLTEpKX0pLmdldE9yKGMpKSxkZyhzKSwhMH1mdW5jdGlvbiBnZyhlLHQsbixyKXt2YXIgbz1lLnNlbGVjdGlvbi5nZXRSbmcoKSxpPXRbMF0sYT1uW24ubGVuZ3RoLTFdO2ZnKGUsaSxvLCEwKSxmZyhlLGEsbywhMSk7dmFyIHU9S3IoaSk/dDp0LnNsaWNlKDEpLHM9S3IoYSk/bjpuLnNsaWNlKDAsLTEpO3JldHVybiBsZyh1LmNvbmNhdChzKSksci5kZWxldGVDb250ZW50cygpLGRnKGUpLCEwfWZ1bmN0aW9uIHBnKGUsdCl7cmV0dXJuIFFtKGUsITEsdCksITB9ZnVuY3Rpb24gaGcoZSx0KXtyZXR1cm4gTSh5bSh0LGUpLHlvKX1mdW5jdGlvbiB2ZyhlLHQpe3JldHVybihlP3RwOm5wKSh0KX1mdW5jdGlvbiBiZyhmLGQscyl7dmFyIG09RXQuZnJvbURvbShmLmdldEJvZHkoKSk7cmV0dXJuIGdwKG0scykuZm9sZChmdW5jdGlvbigpe3JldHVybiBvPWYsaT1kLGE9bSxlPXMsdT1jcy5mcm9tUmFuZ2VTdGFydChvLnNlbGVjdGlvbi5nZXRSbmcoKSksaGcoYSxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBLcihlKT9wcChvLGUpOih0PWEsbj1lLHI9dSxIYyhpLG8uZ2V0Qm9keSgpLHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGhnKHQsRXQuZnJvbURvbShlLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWplKGUsbil9KX0pKTt2YXIgdCxuLHJ9KS5nZXRPcighMSl8fChuPWQscj1jcy5mcm9tUmFuZ2VTdGFydCgodD1mKS5zZWxlY3Rpb24uZ2V0Um5nKCkpLHZnKG4scil8fFpsKG4sdC5nZXRCb2R5KCkscikuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiB2ZyhuLGUpfSkpO3ZhciBvLGksYSxlLHUsdCxuLHJ9LGZ1bmN0aW9uKGUpe3JldHVybiBuPWQscj1tLG89ZSxpPWNzLmZyb21SYW5nZVN0YXJ0KCh0PWYpLnNlbGVjdGlvbi5nZXRSbmcoKSksKEtyKG8pP3BwKHQsbyk6KHU9cixjPW8sbD1pLEhjKHM9biwoYT10KS5nZXRCb2R5KCksbCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gcj1zLG89bCxpPWUscmYoKG49YykuZG9tKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBvZihuLmRvbSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByP28uaXNFcXVhbCh0KSYmaS5pc0VxdWFsKGUpOm8uaXNFcXVhbChlKSYmaS5pc0VxdWFsKHQpfSl9KS5nZXRPcighMCk/cHAoYSxjKToodD1jLGdwKHUsRXQuZnJvbURvbShlLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWplKGUsdCl9KSk7dmFyIHQsbixyLG8saX0pLm9yKHZlLnNvbWUoITApKSkpLmdldE9yKCExKTt2YXIgYSx1LHMsYyxsLHQsbixyLG8saX0pfWZ1bmN0aW9uIHlnKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYyxsPUV0LmZyb21Eb20oZS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKSxmPURsKGUpO3JldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYwPT09Zi5sZW5ndGg/YmcoZSx0LGwpOihyPWwsbz1mLGk9RXQuZnJvbURvbSgobj1lKS5nZXRCb2R5KCkpLGE9bi5zZWxlY3Rpb24uZ2V0Um5nKCksMCE9PW8ubGVuZ3RoP21nKG4sbyx2ZS5ub25lKCkpOih1PW4sYz1hLGdwKHM9aSxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHQ9dSxjZyhzLGMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKFIobXAsdCksUihwZyx0KSxSKG1nLHQpLFIoZ2csdCkpfSk7dmFyIHR9LGZ1bmN0aW9uKGUpe3JldHVybiBwcCh1LGUpfSkuZ2V0T3IoITEpKSl9ZnVuY3Rpb24gQ2coZSl7cmV0dXJuIGUuY29sbGFwc2VkP2U6KGE9ZSx1PWNzLmZyb21SYW5nZVN0YXJ0KGEpLHM9Y3MuZnJvbVJhbmdlRW5kKGEpLGM9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixabCghMSxjLHMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hUXModSxzLGMpJiZRcyh1LGUsYyk/KHQ9dS5jb250YWluZXIoKSxuPXUub2Zmc2V0KCkscj1lLmNvbnRhaW5lcigpLG89ZS5vZmZzZXQoKSwoaT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh0LG4pLGkuc2V0RW5kKHIsbyksaSk6YTt2YXIgdCxuLHIsbyxpfSkuZ2V0T3IoYSkpO3ZhciBhLHUscyxjfWZ1bmN0aW9uIHhnKGUsdCl7dmFyIG4scixvLGksYSx1PXQuZmlyc3RDaGlsZCxzPXQubGFzdENoaWxkO3JldHVybiB1JiYibWV0YSI9PT11Lm5hbWUmJih1PXUubmV4dCkscj1zPXMmJiJtY2VfbWFya2VyIj09PXMuYXR0cigiaWQiKT9zLnByZXY6cyxvPShuPWUpLmdldE5vbkVtcHR5RWxlbWVudHMoKSxyJiYoci5pc0VtcHR5KG8pfHwoaT1yLG4uZ2V0QmxvY2tFbGVtZW50cygpW2kubmFtZV0mJmkuZmlyc3RDaGlsZCYmaS5maXJzdENoaWxkPT09aS5sYXN0Q2hpbGQmJigiYnIiPT09KGE9aS5maXJzdENoaWxkKS5uYW1lfHxhLnZhbHVlPT09d28pKSkmJihzPXMucHJldiksdSYmdT09PXMmJigidWwiPT09dS5uYW1lfHwib2wiPT09dS5uYW1lKX1mdW5jdGlvbiB3ZyhlKXtyZXR1cm4gMDxlLmxlbmd0aCYmKCEocj1lW2UubGVuZ3RoLTFdKS5maXJzdENoaWxkfHwodD1yKSYmdC5maXJzdENoaWxkJiZ0LmZpcnN0Q2hpbGQ9PT10Lmxhc3RDaGlsZCYmKChuPXQuZmlyc3RDaGlsZCkuZGF0YT09PXdvfHxLbihuKSkpP2Uuc2xpY2UoMCwtMSk6ZTt2YXIgdCxuLHJ9ZnVuY3Rpb24gU2coZSx0KXt2YXIgbj1lLmdldFBhcmVudCh0LGUuaXNCbG9jayk7cmV0dXJuIG4mJiJMSSI9PT1uLm5vZGVOYW1lP246bnVsbH1mdW5jdGlvbiBOZyhlLHQpe3ZhciBuPWNzLmFmdGVyKGUpLHI9TWModCkucHJldihuKTtyZXR1cm4gcj9yLnRvUmFuZ2UoKTpudWxsfWZ1bmN0aW9uIEVnKGUsbyxpLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9Y3MuZnJvbVJhbmdlU3RhcnQoaSksbj1NYyhvLmdldFJvb3QoKSkscj0xPT09ZT9uLnByZXYodCk6bi5uZXh0KHQpO3JldHVybiFyfHxTZyhvLHIuZ2V0Tm9kZSgpKSE9PVJ9dmFyIHIsYSx1LHMsYyxsLGYsZCxtLGcscCxoLHYsYix5LEMseCx3LFMsTixFLGssXyxBPShyPW8sYz1lLnNlcmlhbGl6ZSh0KSx1PShhPXIuY3JlYXRlRnJhZ21lbnQoYykpLmZpcnN0Q2hpbGQscz1hLmxhc3RDaGlsZCx1JiYiTUVUQSI9PT11Lm5vZGVOYW1lJiZ1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSkscyYmIm1jZV9tYXJrZXIiPT09cy5pZCYmcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLGEpLFI9U2cobyxpLnN0YXJ0Q29udGFpbmVyKSxEPXdnKFUoQS5maXJzdENoaWxkLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIkxJIj09PWUubm9kZU5hbWV9KSksVD1vLmdldFJvb3QoKTtyZXR1cm4gbigxKT8oUz1ULF89KHc9UikucGFyZW50Tm9kZSxOdC5lYWNoKEQsZnVuY3Rpb24oZSl7Xy5pbnNlcnRCZWZvcmUoZSx3KX0pLE49UyxFPWNzLmJlZm9yZSh3KSwoaz1NYyhOKS5uZXh0KEUpKT9rLnRvUmFuZ2UoKTpudWxsKTpuKDIpPyhsPVIsZD1ULG8uaW5zZXJ0QWZ0ZXIoKGY9RCkucmV2ZXJzZSgpLGwpLE5nKGZbMF0sZCkpOihnPUQscD1ULGg9bT1SLGI9KHY9aSkuY2xvbmVSYW5nZSgpLHk9di5jbG9uZVJhbmdlKCksYi5zZXRTdGFydEJlZm9yZShoKSx5LnNldEVuZEFmdGVyKGgpLEM9W2IuY2xvbmVDb250ZW50cygpLHkuY2xvbmVDb250ZW50cygpXSwoeD1tLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZShDWzBdLG0pLE50LmVhY2goZyxmdW5jdGlvbihlKXt4Lmluc2VydEJlZm9yZShlLG0pfSkseC5pbnNlcnRCZWZvcmUoQ1sxXSxtKSx4LnJlbW92ZUNoaWxkKG0pLE5nKGdbZy5sZW5ndGgtMV0scCkpfWZ1bmN0aW9uIGtnKGUsdCxuKXt2YXIgcixvLGksYSx1PWUuc2VsZWN0aW9uLHM9ZS5kb207L14gfCAkLy50ZXN0KHQpJiYocj1zLG89dS5nZXRSbmcoKSxpPXQsaT1CbShhPUV0LmZyb21Eb20oci5nZXRSb290KCkpLGNzLmZyb21SYW5nZVN0YXJ0KG8pKT9pLnJlcGxhY2UoL14gLywiJm5ic3A7Iik6aS5yZXBsYWNlKC9eJm5ic3A7LywiICIpLHQ9aT1QbShhLGNzLmZyb21SYW5nZUVuZChvKSk/aS5yZXBsYWNlKC8oJm5ic3A7fCApKDxiciggXC8pPik/JC8sIiZuYnNwOyIpOmkucmVwbGFjZSgvJm5ic3A7KDxiciggXC8pPz4pPyQvLCIgIikpO3ZhciBjPWUucGFyc2VyLGw9bi5tZXJnZSxmPXJtKHt2YWxpZGF0ZTplLmdldFBhcmFtKCJ2YWxpZGF0ZSIpfSxlLnNjaGVtYSksZD0nPHNwYW4gaWQ9Im1jZV9tYXJrZXIiIGRhdGEtbWNlLXR5cGU9ImJvb2ttYXJrIj4mI3hGRUZGOzwvc3Bhbj4nLG09ZS5maXJlKCJCZWZvcmVTZXRDb250ZW50Iix7Y29udGVudDp0LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOm4ucGFzdGV9KTtpZihtLmlzRGVmYXVsdFByZXZlbnRlZCgpKWUuZmlyZSgiU2V0Q29udGVudCIse2NvbnRlbnQ6bS5jb250ZW50LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOm4ucGFzdGV9KTtlbHNle3Q9bS5jb250ZW50LC0xPT09KHQ9bi5wcmVzZXJ2ZV96d3NwP3Q6RW8odCkpLmluZGV4T2YoInskY2FyZXR9IikmJih0Kz0ieyRjYXJldH0iKSx0PXQucmVwbGFjZSgvXHtcJGNhcmV0XH0vLGQpO3ZhciBnLHAsaD0oZz11LmdldFJuZygpKS5zdGFydENvbnRhaW5lcnx8KGcucGFyZW50RWxlbWVudD9nLnBhcmVudEVsZW1lbnQoKTpudWxsKSx2PWUuZ2V0Qm9keSgpO2g9PT12JiZ1LmlzQ29sbGFwc2VkKCkmJnMuaXNCbG9jayh2LmZpcnN0Q2hpbGQpJiYoKHA9di5maXJzdENoaWxkKSYmIWUuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpW3Aubm9kZU5hbWVdKSYmcy5pc0VtcHR5KHYuZmlyc3RDaGlsZCkmJigoZz1zLmNyZWF0ZVJuZygpKS5zZXRTdGFydCh2LmZpcnN0Q2hpbGQsMCksZy5zZXRFbmQodi5maXJzdENoaWxkLDApLHUuc2V0Um5nKGcpKSx1LmlzQ29sbGFwc2VkKCl8fGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tLG49Q2coZS5zZWxlY3Rpb24uZ2V0Um5nKCkpO2Uuc2VsZWN0aW9uLnNldFJuZyhuKTt2YXIgcixvPXQuZ2V0UGFyZW50KG4uc3RhcnRDb250YWluZXIsaHApLGk9bjtudWxsIT09KHI9bykmJnI9PT10LmdldFBhcmVudChpLmVuZENvbnRhaW5lcixocCkmJk9sKEV0LmZyb21Eb20ociksaSk/bXAoZSxuLEV0LmZyb21Eb20obykpOmUuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoIkRlbGV0ZSIsITEsbnVsbCl9KGUpO3ZhciBiLHksQyx4LHcsUyxOLEUsayxfLEEsUixELFQsTz17Y29udGV4dDooST11LmdldE5vZGUoKSkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxkYXRhOm4uZGF0YSxpbnNlcnQ6ITB9LEI9Yy5wYXJzZSh0LE8pO2lmKCEwPT09bi5wYXN0ZSYmeGcoZS5zY2hlbWEsQikmJlNnKHMsSSkpcmV0dXJuIGc9RWcoZixzLHUuZ2V0Um5nKCksQiksdS5zZXRSbmcoZyksdm9pZCBlLmZpcmUoIlNldENvbnRlbnQiLG0pO2lmKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPUI7ZT1lLndhbGsoKTspMT09PWUudHlwZSYmZS5hdHRyKCJkYXRhLW1jZS1mcmFnbWVudCIsIjEiKX0oKSwibWNlX21hcmtlciI9PT0oTD1CLmxhc3RDaGlsZCkuYXR0cigiaWQiKSlmb3IodmFyIFA9TCxMPUwucHJldjtMO0w9TC53YWxrKCEwKSlpZigzPT09TC50eXBlfHwhcy5pc0Jsb2NrKEwubmFtZSkpe2Uuc2NoZW1hLmlzVmFsaWRDaGlsZChMLnBhcmVudC5uYW1lLCJzcGFuIikmJkwucGFyZW50Lmluc2VydChQLEwsImJyIj09PUwubmFtZSk7YnJlYWt9aWYoZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLnNob3dCbG9ja0NhcmV0Q29udGFpbmVyKEkpLE8uaW52YWxpZCl7ZS5zZWxlY3Rpb24uc2V0Q29udGVudChkKTt2YXIgST11LmdldE5vZGUoKSxNPWUuZ2V0Qm9keSgpO2Zvcig5PT09SS5ub2RlVHlwZT9JPUw9TTpMPUk7TCE9PU07KUw9KEk9TCkucGFyZW50Tm9kZTt0PUk9PT1NP00uaW5uZXJIVE1MOnMuZ2V0T3V0ZXJIVE1MKEkpLHQ9Zi5zZXJpYWxpemUoYy5wYXJzZSh0LnJlcGxhY2UoLzxzcGFuIChpZD0ibWNlX21hcmtlciJ8aWQ9bWNlX21hcmtlcikuKz88XC9zcGFuPi9pLGZ1bmN0aW9uKCl7cmV0dXJuIGYuc2VyaWFsaXplKEIpfSkpKSxJPT09TT9zLnNldEhUTUwoTSx0KTpzLnNldE91dGVySFRNTChJLHQpfWVsc2UgYj1lLHk9dD1mLnNlcmlhbGl6ZShCKSwiYWxsIj09PShDPUkpLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKT9DLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIuZG9tLmNyZWF0ZUZyYWdtZW50KHkpLEMpOih4PUMuZmlyc3RDaGlsZCx3PUMubGFzdENoaWxkLCF4fHx4PT09dyYmIkJSIj09PXgubm9kZU5hbWU/Yi5kb20uc2V0SFRNTChDLHkpOmIuc2VsZWN0aW9uLnNldENvbnRlbnQoeSkpO049bCxfPShTPWUpLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSxBPVMuZG9tLE4mJihFPVMuZ2V0Qm9keSgpLGs9dG0oQSksTnQuZWFjaChBLnNlbGVjdCgiKltkYXRhLW1jZS1mcmFnbWVudF0iKSxmdW5jdGlvbihlKXtpZihWKF9bZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJmoobG0oQSxlKSxmdW5jdGlvbihlKXtyZXR1cm4hY20uaGFzKGUpfSkpZm9yKHZhciB0PWUucGFyZW50Tm9kZTtWKHQpJiZ0IT09RSYmIWZ1bmN0aW9uKHIsbyxpKXtmdW5jdGlvbiBhKGUpe3ZhciB0PXIuZ2V0U3R5bGUobyxlKSxuPXIuZ2V0U3R5bGUoaSxlKTtyZXR1cm4gQmUodCkmJkJlKG4pJiZ0IT09bn12YXIgZT1sbShyLG8pLHU9bG0ocixpKTtyZXR1cm4gRihlLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIEYoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KX1pZihlKHUpfHwhZShYZykpcmV0dXJuIGEodCk7dmFyIG49VSh1LGZ1bmN0aW9uKHQpe3JldHVybiBGKFhnLGZ1bmN0aW9uKGUpe3JldHVybiBHZSh0LGUpfSl9KTtyZXR1cm4gRihuLGEpfSl9KEEsZSx0KTt0PXQucGFyZW50Tm9kZSlpZihrLmNvbXBhcmUodCxlKSl7QS5yZW1vdmUoZSwhMCk7YnJlYWt9fSkpLGZ1bmN0aW9uKG4sZSl7dmFyIHQscj1uLmRvbSxvPW4uc2VsZWN0aW9uO2lmKGUpe28uc2Nyb2xsSW50b1ZpZXcoZSk7dmFyIGk9YmYobi5nZXRCb2R5KCksZSk7aWYoImZhbHNlIj09PXIuZ2V0Q29udGVudEVkaXRhYmxlKGkpKXJldHVybiByLnJlbW92ZShlKSxvLnNlbGVjdChpKTt2YXIgYSx1PXIuY3JlYXRlUm5nKCkscz1lLnByZXZpb3VzU2libGluZztWbihzKT8odS5zZXRTdGFydChzLHMubm9kZVZhbHVlLmxlbmd0aCkseHQuaWV8fChhPWUubmV4dFNpYmxpbmcsVm4oYSkmJihzLmFwcGVuZERhdGEoYS5kYXRhKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSkpKSk6KHUuc2V0U3RhcnRCZWZvcmUoZSksdS5zZXRFbmRCZWZvcmUoZSkpO3ZhciBjPXIuZ2V0UGFyZW50KGUsci5pc0Jsb2NrKTtyLnJlbW92ZShlKSxjJiZyLmlzRW1wdHkoYykmJihuLiQoYykuZW1wdHkoKSx1LnNldFN0YXJ0KGMsMCksdS5zZXRFbmQoYywwKSxocChjKXx8Yy5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWZyYWdtZW50Iil8fCEodD1mdW5jdGlvbihlKXt2YXIgdD1jcy5mcm9tUmFuZ2VTdGFydChlKTtpZih0PU1jKG4uZ2V0Qm9keSgpKS5uZXh0KHQpKXJldHVybiB0LnRvUmFuZ2UoKX0odSkpP3IuYWRkKGMsci5jcmVhdGUoImJyIix7ImRhdGEtbWNlLWJvZ3VzIjoiMSJ9KSk6KHU9dCxyLnJlbW92ZShjKSkpLG8uc2V0Um5nKHUpfX0oZSxzLmdldCgibWNlX21hcmtlciIpKSxSPWUuZ2V0Qm9keSgpLE50LmVhY2goUi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1mcmFnbWVudCIpfSksRD1zLFQ9dS5nZXRTdGFydCgpLHZlLmZyb20oRC5nZXRQYXJlbnQoVCwidGQsdGgiKSkubWFwKEV0LmZyb21Eb20pLmVhY2godm0pLGUuZmlyZSgiU2V0Q29udGVudCIsbSksZS5hZGRWaXN1YWwoKX19ZnVuY3Rpb24gX2coZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBqZH1mdW5jdGlvbiBBZyhlLHQsbil7dmFyIHI7ZS5kb20uc2V0SFRNTChlLmdldEJvZHkoKSx0KSwhMCE9PW4mJkNkKHI9ZSkmJnJmKHIuZ2V0Qm9keSgpKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0Tm9kZSgpLG49Y24odCk/cmYodCkuZ2V0T3IoZSk6ZTtyLnNlbGVjdGlvbi5zZXRSbmcobi50b1JhbmdlKCkpfSl9ZnVuY3Rpb24gUmcodSxzLGUpe3ZhciB0LG49KHQ9cyxfZShfZSh7Zm9ybWF0OiJodG1sIn0sZSkse3NldDohMCxjb250ZW50Ol9nKHQpPyIiOnR9KSksYz1lLm5vX2V2ZW50cz9uOnUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsbik7cmV0dXJuIF9nKHMpfHwocz1jLmNvbnRlbnQpLHZlLmZyb20odS5nZXRCb2R5KCkpLmZvbGQoSihzKSxmdW5jdGlvbihlKXtyZXR1cm4gX2cocyk/ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSx1LGE7bz1lLnBhcnNlci5nZXROb2RlRmlsdGVycygpLGk9ZS5wYXJzZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLHU9bixhPWZ1bmN0aW9uKGUsbil7dmFyIHQscixvPXt9LGk9e30sYT1bXTtmb3IodCBpbiB1LmZpcnN0Q2hpbGQmJnZwKHUuZmlyc3RDaGlsZCxmdW5jdGlvbih0KXtZKGUsZnVuY3Rpb24oZSl7ZS5uYW1lPT09dC5uYW1lJiYob1tlLm5hbWVdP29bZS5uYW1lXS5ub2Rlcy5wdXNoKHQpOm9bZS5uYW1lXT17ZmlsdGVyOmUsbm9kZXM6W3RdfSl9KSxZKG4sZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiB0LmF0dHIoZS5uYW1lKSYmKGlbZS5uYW1lXT9pW2UubmFtZV0ubm9kZXMucHVzaCh0KTppW2UubmFtZV09e2ZpbHRlcjplLG5vZGVzOlt0XX0pfSl9KSxvKUVlKG8sdCkmJmEucHVzaChvW3RdKTtmb3IociBpbiBpKUVlKGkscikmJmEucHVzaChpW3JdKTtyZXR1cm4gYX0obyxpKSxZKGEsZnVuY3Rpb24odCl7WSh0LmZpbHRlci5jYWxsYmFja3MsZnVuY3Rpb24oZSl7ZSh0Lm5vZGVzLHQuZmlsdGVyLm5hbWUse30pfSl9KTt2YXIgcz1ybSh7dmFsaWRhdGU6ZS52YWxpZGF0ZX0sZS5zY2hlbWEpLnNlcmlhbGl6ZShuKTtyZXR1cm4gci5jb250ZW50PUVvKENvKEV0LmZyb21Eb20odCkpP3M6TnQudHJpbShzKSksQWcoZSxyLmNvbnRlbnQsci5ub19zZWxlY3Rpb24pLHIubm9fZXZlbnRzfHxlLmZpcmUoIlNldENvbnRlbnQiLHIpLG59KHUsZSxzLGMpOih0PXUsbj1lLG89YywwPT09KHI9RW8ocj1zKSkubGVuZ3RofHwvXlxzKyQvLnRlc3Qocik/KGk9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JywiVEFCTEUiPT09bi5ub2RlTmFtZT9yPSI8dHI+PHRkPiIraSsiPC90ZD48L3RyPiI6L14oVUx8T0wpJC8udGVzdChuLm5vZGVOYW1lKSYmKHI9IjxsaT4iK2krIjwvbGk+Iikscj0oYT1rcyh0KSkmJnQuc2NoZW1hLmlzVmFsaWRDaGlsZChuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksYS50b0xvd2VyQ2FzZSgpKT8ocj1pLHQuZG9tLmNyZWF0ZUhUTUwoYSxfcyh0KSxyKSk6cnx8JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JyxBZyh0LHIsby5ub19zZWxlY3Rpb24pLHQuZmlyZSgiU2V0Q29udGVudCIsbykpOigicmF3IiE9PW8uZm9ybWF0JiYocj1ybSh7dmFsaWRhdGU6dC52YWxpZGF0ZX0sdC5zY2hlbWEpLnNlcmlhbGl6ZSh0LnBhcnNlci5wYXJzZShyLHtpc1Jvb3RDb250ZW50OiEwLGluc2VydDohMH0pKSksby5jb250ZW50PUNvKEV0LmZyb21Eb20obikpP3I6TnQudHJpbShyKSxBZyh0LG8uY29udGVudCxvLm5vX3NlbGVjdGlvbiksby5ub19ldmVudHN8fHQuZmlyZSgiU2V0Q29udGVudCIsbykpLG8uY29udGVudCk7dmFyIHQsbixyLG8saSxhfSl9ZnVuY3Rpb24gRGcoZSl7cmV0dXJuIHkoZSk/ZTpEfWZ1bmN0aW9uIFRnKGksZSx0KXt2YXIgbj1lKGkpLGE9RGcodCk7cmV0dXJuIG4ub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBhKGkpP3ZlLm5vbmUoKTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9aS5kb20sbj1EZyhhKTt0LnBhcmVudE5vZGU7KXt2YXIgdD10LnBhcmVudE5vZGUscj1FdC5mcm9tRG9tKHQpLG89ZShyKTtpZihvLmlzU29tZSgpKXJldHVybiBvO2lmKG4ocikpYnJlYWt9cmV0dXJuIHZlLm5vbmUoKX0oZSl9KX1mdW5jdGlvbiBPZyhlLHQsbil7dmFyIHI9ZS5mb3JtYXR0ZXIuZ2V0KG4pO2lmKHIpZm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb107aWYoZ2woaSkmJiExPT09aS5pbmhlcml0JiZlLmRvbS5pcyh0LGkuc2VsZWN0b3IpKXJldHVybiAxfX1mdW5jdGlvbiBCZyh0LGUsbixyLG8pe3ZhciBpPXQuZG9tLmdldFJvb3QoKTtyZXR1cm4gZSE9PWkmJihlPXQuZG9tLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybiEhT2codCxlLG4pfHxlLnBhcmVudE5vZGU9PT1pfHwhIXlwKHQsZSxuLHIsITApfSksISF5cCh0LGUsbixyLG8pKX1mdW5jdGlvbiBQZyhlLHQsbil7cmV0dXJuISFicCh0LG4uaW5saW5lKXx8ISFicCh0LG4uYmxvY2spfHwobi5zZWxlY3Rvcj8xPT09dC5ub2RlVHlwZSYmZS5pcyh0LG4uc2VsZWN0b3IpOnZvaWQgMCl9ZnVuY3Rpb24gTGcoZSx0LG4scixvLGkpe3ZhciBhPW5bcl07aWYoeShuLm9ubWF0Y2gpKXJldHVybiBuLm9ubWF0Y2godCxuLHIpO2lmKGEpaWYoYihhLmxlbmd0aCkpe2Zvcih2YXIgdSBpbiBhKWlmKEVlKGEsdSkpe3ZhciBzPSJhdHRyaWJ1dGVzIj09PXI/ZS5nZXRBdHRyaWIodCx1KTpjbChlLHQsdSksYz1hbChhW3VdLGkpLGw9SyhzKXx8UGUocyk7aWYoIWx8fCFLKGMpKXtpZihvJiZsJiYhbi5leGFjdClyZXR1cm47aWYoKCFvfHxuLmV4YWN0KSYmIWJwKHMsc2woZSxjLHUpKSlyZXR1cm59fX1lbHNlIGZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWlmKCJhdHRyaWJ1dGVzIj09PXI/ZS5nZXRBdHRyaWIodCxhW2ZdKTpjbChlLHQsYVtmXSkpcmV0dXJuIDE7cmV0dXJuIDF9ZnVuY3Rpb24gSWcoZSx0LG4scixvKXtpZihyKXJldHVybiBCZyhlLHIsdCxuLG8pO2lmKHI9ZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLEJnKGUscix0LG4sbykpcmV0dXJuITA7dmFyIGk9ZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKTtyZXR1cm4hKGk9PT1yfHwhQmcoZSxpLHQsbixvKSl9ZnVuY3Rpb24gTWcoZSl7cmV0dXJuIDA8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdO2U7KXtpZigzPT09ZS5ub2RlVHlwZSYmZS5ub2RlVmFsdWUhPT1DcHx8MTxlLmNoaWxkTm9kZXMubGVuZ3RoKXJldHVybltdOzE9PT1lLm5vZGVUeXBlJiZ0LnB1c2goZSksZT1lLmZpcnN0Q2hpbGR9cmV0dXJuIHR9KGUpLmxlbmd0aH1mdW5jdGlvbiBGZyhlKXtpZihlKXt2YXIgdD1uZXcgRHIoZSxlKTtmb3IoZT10LmN1cnJlbnQoKTtlO2U9dC5uZXh0KCkpaWYoVm4oZSkpcmV0dXJuIGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gVWcoZSl7dmFyIHQ9RXQuZnJvbVRhZygic3BhbiIpO3JldHVybiBobih0LHtpZDp4cCwiZGF0YS1tY2UtYm9ndXMiOiIxIiwiZGF0YS1tY2UtdHlwZSI6ImZvcm1hdC1jYXJldCJ9KSxlJiZMbih0LEV0LmZyb21UZXh0KENwKSksdH1mdW5jdGlvbiB6ZyhlLHQsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciByLG8saSxhLHUscyxjLGwsZj1lLmRvbSxkPWUuc2VsZWN0aW9uO01nKHQpP1FtKGUsITEsRXQuZnJvbURvbSh0KSxuKToocj1kLmdldFJuZygpLG89Zi5nZXRQYXJlbnQodCxmLmlzQmxvY2spLGk9ci5zdGFydENvbnRhaW5lcixhPXIuc3RhcnRPZmZzZXQsdT1yLmVuZENvbnRhaW5lcixzPXIuZW5kT2Zmc2V0LChsPUZnKHQpKSYmbC5ub2RlVmFsdWUuY2hhckF0KDApPT09Q3AmJmwuZGVsZXRlRGF0YSgwLDEpLGM9bCxmLnJlbW92ZSh0LCEwKSxpPT09YyYmMDxhJiZyLnNldFN0YXJ0KGMsYS0xKSx1PT09YyYmMDxzJiZyLnNldEVuZChjLHMtMSksbyYmZi5pc0VtcHR5KG8pJiZobShFdC5mcm9tRG9tKG8pKSxkLnNldFJuZyhyKSl9ZnVuY3Rpb24gSGcoZSx0LG4pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj1lLmRvbSxvPWUuc2VsZWN0aW9uO2lmKHQpemcoZSx0LG4pO2Vsc2UgaWYoISh0PXFjKGUuZ2V0Qm9keSgpLG8uZ2V0U3RhcnQoKSkpKWZvcig7dD1yLmdldCh4cCk7KXpnKGUsdCwhMSl9ZnVuY3Rpb24gamcoZSx0KXtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0KSx0fWZ1bmN0aW9uIFZnKGUsdCl7dmFyIG49UChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpnKGUsdC5jbG9uZU5vZGUoITEpKX0sdCk7cmV0dXJuIGpnKG4sbi5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKENwKSl9ZnVuY3Rpb24gcWcobyxlLHQsaSxuLHIpe3ZhciBhLHUscz1vLmZvcm1hdHRlcixjPW8uZG9tLGw9VSh3ZShzLmdldCgpKSxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWkmJiFUZShlLCJyZW1vdmVmb3JtYXQiKX0pO2lmKDA8VSgoYT1vLHU9dCxMKGwsZnVuY3Rpb24oZSx0KXt2YXIgbj1kbChhLHQpO3JldHVybiBhLmZvcm1hdHRlci5tYXRjaE5vZGUodSx0LHt9LG4pP2UuY29uY2F0KFt0XSk6ZX0sW10pKSxmdW5jdGlvbihlKXtyZXR1cm4gbj1pLHI9WyJpbmxpbmUiLCJibG9jayIsInNlbGVjdG9yIiwiYXR0cmlidXRlcyIsInN0eWxlcyIsImNsYXNzZXMiXSwhRigodD1vKS5mb3JtYXR0ZXIuZ2V0KGUpLGZ1bmN0aW9uKGUpe3ZhciBpPWEoZSk7cmV0dXJuIEYodC5mb3JtYXR0ZXIuZ2V0KG4pLGZ1bmN0aW9uKGUpe3ZhciB0LG49YShlKSxyPWksbz1uO3JldHVybiBkKHQ9dm9pZCAwPT09dD9wOnQpLmVxKHIsbyl9KX0pO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGFlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gRihyLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pfSl9dmFyIHQsbixyfSkubGVuZ3RoKXt2YXIgZj10LmNsb25lTm9kZSghMSk7cmV0dXJuIGMuYWRkKGUsZikscy5yZW1vdmUoaSxuLGYsciksYy5yZW1vdmUoZiksdmUuc29tZShmKX1yZXR1cm4gdmUubm9uZSgpfWZ1bmN0aW9uICRnKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZCxtLGcscCxoLHYsYix5PWUuZG9tLEM9ZS5zZWxlY3Rpb24seD1bXSx3PUMuZ2V0Um5nKCksUz13LnN0YXJ0Q29udGFpbmVyLE49dy5zdGFydE9mZnNldCxFPVM7Zm9yKDM9PT1TLm5vZGVUeXBlJiYoTiE9PVMubm9kZVZhbHVlLmxlbmd0aCYmKG89ITApLEU9RS5wYXJlbnROb2RlKTtFOyl7aWYoeXAoZSxFLHQsbixyKSl7aT1FO2JyZWFrfUUubmV4dFNpYmxpbmcmJihvPSEwKSx4LnB1c2goRSksRT1FLnBhcmVudE5vZGV9aSYmKG8/KGE9Qy5nZXRCb29rbWFyaygpLHcuY29sbGFwc2UoITApLHU9UGYoa2woZSx3LGUuZm9ybWF0dGVyLmdldCh0KSwhMCkpLGUuZm9ybWF0dGVyLnJlbW92ZSh0LG4sdSxyKSxDLm1vdmVUb0Jvb2ttYXJrKGEpKToocz1xYyhlLmdldEJvZHkoKSxpKSxkPWM9VWcoITEpLmRvbSwocD0oZz1lLmRvbSkuZ2V0UGFyZW50KG09bnVsbCE9PXM/czppLFIob2wsZSkpKSYmZy5pc0VtcHR5KHApP20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZCxtKTooaD1FdC5mcm9tRG9tKG0pLHY9eXUoaCwiYnIiKSxiPVUoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD1oLmRvbTt0OyllLnB1c2goRXQuZnJvbURvbSh0KSksdD10Lmxhc3RDaGlsZDtyZXR1cm4gZX0oKS5zbGljZSgtMSksUHIpLHYubGVuZ3RoPT09Yi5sZW5ndGgmJlkoYixJbiksZy5pc0VtcHR5KG0pP20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZCxtKTpnLmluc2VydEFmdGVyKGQsbSkpLGw9cWcoZSxjLGksdCxuLHIpLGY9VmcoeC5jb25jYXQobC50b0FycmF5KCkpLGMpLHpnKGUscywhMSksQy5zZXRDdXJzb3JMb2NhdGlvbihmLDEpLHkuaXNFbXB0eShpKSYmeS5yZW1vdmUoaSkpKX1mdW5jdGlvbiBXZyhlLHQpe3ZhciBuPWUuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpO3JldHVybiBFZShuLGt0KHQpKSYmIVZjKHQuZG9tKSYmIXNuKHQuZG9tKX1ZKFsibWFyZ2luIiwibWFyZ2luLWxlZnQiLCJtYXJnaW4tcmlnaHQiLCJtYXJnaW4tdG9wIiwibWFyZ2luLWJvdHRvbSIsInBhZGRpbmciLCJwYWRkaW5nLWxlZnQiLCJwYWRkaW5nLXJpZ2h0IiwicGFkZGluZy10b3AiLCJwYWRkaW5nLWJvdHRvbSIsImJvcmRlciIsImJvcmRlci13aWR0aCIsImJvcmRlci1zdHlsZSIsImJvcmRlci1jb2xvciIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnQiLCJiYWNrZ3JvdW5kLWNsaXAiLCJiYWNrZ3JvdW5kLWNvbG9yIiwiYmFja2dyb3VuZC1pbWFnZSIsImJhY2tncm91bmQtb3JpZ2luIiwiYmFja2dyb3VuZC1wb3NpdGlvbiIsImJhY2tncm91bmQtcmVwZWF0IiwiYmFja2dyb3VuZC1zaXplIiwiZmxvYXQiLCJwb3NpdGlvbiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInotaW5kZXgiLCJkaXNwbGF5IiwidHJhbnNmb3JtIiwid2lkdGgiLCJtYXgtd2lkdGgiLCJtaW4td2lkdGgiLCJoZWlnaHQiLCJtYXgtaGVpZ2h0IiwibWluLWhlaWdodCIsIm92ZXJmbG93Iiwib3ZlcmZsb3cteCIsIm92ZXJmbG93LXkiLCJ0ZXh0LW92ZXJmbG93IiwidmVydGljYWwtYWxpZ24iLCJ0cmFuc2l0aW9uIiwidHJhbnNpdGlvbi1kZWxheSIsInRyYW5zaXRpb24tZHVyYXRpb24iLCJ0cmFuc2l0aW9uLXByb3BlcnR5IiwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iXSxmdW5jdGlvbihlKXtjbS5hZGQoZSl9KTt2YXIgS2csWGc9WyJmb250IiwidGV4dC1kZWNvcmF0aW9uIiwidGV4dC1lbXBoYXNpcyJdLFlnPVIoZm0sITAsWmMpLEdnPVIoZm0sITEsWmMpLEpnPW1tKCEwLGdtKSxRZz1tbSghMSxnbSksWmc9bW0oITAsUW4pLGVwPW1tKCExLFFuKSx0cD1tbSghMCxjbiksbnA9bW0oITEsY24pLHJwPW1tKCEwLHBtKSxvcD1tbSghMSxwbSksaXA9UihTbSwhMSksYXA9UihTbSwhMCksdXA9Uih3bSwhMSksc3A9Uih3bSwhMCksY3A9UihFbSwhMSksbHA9UihFbSwhMCksZnA9aXIoW3tzaW5nbGVDZWxsVGFibGU6WyJybmciLCJjZWxsIl19LHtmdWxsVGFibGU6WyJ0YWJsZSJdfSx7cGFydGlhbFRhYmxlOlsiY2VsbHMiLCJvdXRzaWRlRGV0YWlscyJdfSx7bXVsdGlUYWJsZTpbInN0YXJ0VGFibGVDZWxscyIsImVuZFRhYmxlQ2VsbHMiLCJiZXR3ZWVuUm5nIl19XSksZHA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuKDg9PT1fdCh0PWUpfHwiI2NvbW1lbnQiPT09a3QodCk/QnQ6VXQpKGUpLmJpbmQoZHApLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gdmUuc29tZShlKX0pfSxtcD1mdW5jdGlvbihlLHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMCksdC5kZWxldGVDb250ZW50cygpO3ZhciBvLGk9ZHAobikuZ2V0T3IobiksYT1FdC5mcm9tRG9tKGUuZG9tLmdldFBhcmVudChpLmRvbSxlLmRvbS5pc0Jsb2NrKSk7cmV0dXJuIEtyKGEpJiYoaG0oYSksciYmZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oYS5kb20sMCkpLGplKG4sYSl8fFkoKGZuKE90KGEpLG4pP1tdOk90KG89YSkubWFwKFRuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSxmdW5jdGlvbihlKXtyZXR1cm4hamUobyxlKX0pfSkuZ2V0T3IoW10pKS5jb25jYXQoVG4obikpLGZ1bmN0aW9uKGUpe2plKGUsYSl8fFZlKGUsYSl8fCFLcihlKXx8SW4oZSl9KSwhMH0sZ3A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTSh5bSh0LGUpLGZ1bmN0aW9uKGUpe3JldHVybiBfbihlKSYmImNhcHRpb24iPT09a3QoZSl9KX0scHA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaG0odCksZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odC5kb20sMCksdmUuc29tZSghMCl9LGhwPUpuLHZwPWZ1bmN0aW9uKGUsdCl7dChlKSxlLmZpcnN0Q2hpbGQmJnZwKGUuZmlyc3RDaGlsZCx0KSxlLm5leHQmJnZwKGUubmV4dCx0KX0sYnA9dWwseXA9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1lLmZvcm1hdHRlci5nZXQobiksYT1lLmRvbTtpZihpJiZ0KWZvcih2YXIgdT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgcz1pW3VdO2lmKFBnKGUuZG9tLHQscykmJkxnKGEsdCxzLCJhdHRyaWJ1dGVzIixvLHIpJiZMZyhhLHQscywic3R5bGVzIixvLHIpKXt2YXIgYz1zLmNsYXNzZXM7aWYoYylmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKylpZighZS5kb20uaGFzQ2xhc3ModCxhbChjW2xdLHIpKSlyZXR1cm47cmV0dXJuIHN9fX0sQ3A9U28seHA9Il9tY2VfY2FyZXQiLHdwPXt9LFNwPWZlLE5wPWNlO2Z1bmN0aW9uIEVwKGUpe3JldHVybiBIbihlKSYmIVFjKGUpJiYhVmMoZSkmJiFzbihlKX1mdW5jdGlvbiBrcChlLHQpe2Zvcih2YXIgbj1lO247bj1uW3RdKXtpZihWbihuKSYmQmUobi5kYXRhKSlyZXR1cm4gZTtpZihIbihuKSYmIVFjKG4pKXJldHVybiBufXJldHVybiBlfWZ1bmN0aW9uIF9wKGUsdCxuKXt2YXIgcj10bShlKTtpZih0JiZuJiYodD1rcCh0LCJwcmV2aW91c1NpYmxpbmciKSxuPWtwKG4sIm5leHRTaWJsaW5nIiksci5jb21wYXJlKHQsbikpKXtmb3IodmFyIG89dC5uZXh0U2libGluZztvJiZvIT09bjspe3ZhciBpPW8sbz1vLm5leHRTaWJsaW5nO3QuYXBwZW5kQ2hpbGQoaSl9cmV0dXJuIGUucmVtb3ZlKG4pLE50LmVhY2goTnQuZ3JlcChuLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKGUpe3QuYXBwZW5kQ2hpbGQoZSl9KSx0fXJldHVybiBufWZ1bmN0aW9uIEFwKGUsdCxuLHIpe3ZhciBvO3ImJiExIT09dC5tZXJnZV9zaWJsaW5ncyYmKG89X3AoZSxybChyKSxyKSxfcChlLG8scmwobywhMCkpKX1mdW5jdGlvbiBScCh0LG4pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhY2wodCxlLG4pKX19ZnVuY3Rpb24gRHAocixvLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuO3Iuc2V0U3R5bGUoZSxvLGkpLCIiPT09ZS5nZXRBdHRyaWJ1dGUoInN0eWxlIikmJmUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHQ9ciwiU1BBTiI9PT0obj1lKS5ub2RlTmFtZSYmMD09PXQuZ2V0QXR0cmlicyhuKS5sZW5ndGgmJnQucmVtb3ZlKG4sITApfX1mdW5jdGlvbiBUcChlLHQsbil7cmV0dXJuIGUuaXNDaGlsZE9mKHQsbikmJnQhPT1uJiYhZS5pc0Jsb2NrKG4pfWZ1bmN0aW9uIE9wKGUsdCxuKXt2YXIgcixvPXRbbj8ic3RhcnRDb250YWluZXIiOiJlbmRDb250YWluZXIiXSxpPXRbbj8ic3RhcnRPZmZzZXQiOiJlbmRPZmZzZXQiXTtyZXR1cm4gSG4obykmJihyPW8uY2hpbGROb2Rlcy5sZW5ndGgtMSwhbiYmaSYmaS0tLG89by5jaGlsZE5vZGVzW3I8aT9yOmldKSxWbihvKSYmbiYmaT49by5ub2RlVmFsdWUubGVuZ3RoJiYobz1uZXcgRHIobyxlLmdldEJvZHkoKSkubmV4dCgpfHxvKSxWbihvKSYmIW4mJjA9PT1pJiZuZXcgRHIobyxlLmdldEJvZHkoKSkucHJldigpfHxvfWZ1bmN0aW9uIEJwKGUsdCl7dmFyIG49dD8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCI7aWYoL14oVFJ8VEh8VEQpJC8udGVzdChlLm5vZGVOYW1lKSYmZVtuXSl7dmFyIHI9ZVtuXTtyZXR1cm4iVFIiPT09ZS5ub2RlTmFtZSYmcltuXXx8cn1yZXR1cm4gZX1mdW5jdGlvbiBQcChlLHQsbixyKXt2YXIgbz1lLmNyZWF0ZShuLHIpO3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sdCksby5hcHBlbmRDaGlsZCh0KSxvfWZ1bmN0aW9uIExwKGUsdCxuLHIsbyl7dmFyIGk9RXQuZnJvbURvbSh0KSxhPUV0LmZyb21Eb20oZS5jcmVhdGUocixvKSk7cmV0dXJuIEt0KGEsKG4/SXQ6THQpKGkpKSxuPyhxdChpLGEpLFd0KGEsaSkpOigkdChpLGEpLExuKGEsaSkpLGEuZG9tfWZ1bmN0aW9uIElwKGUsdCxuLHIpe3ZhciBvPXJsKHQsbixyKTtyZXR1cm4gSyhvKXx8IkJSIj09PW8ubm9kZU5hbWV8fGUuaXNCbG9jayhvKX1mdW5jdGlvbiBNcChlLHIsbyx0LGkpe3ZhciBuLGEsdT1lLmRvbSxzPXUsYz10O2lmKCEocGwoYT1yKSYmUmgoYyxhLmlubGluZSl8fG1sKGEpJiZSaChjLGEuYmxvY2spfHxnbChhKSYmKEhuKGMpJiZzLmlzKGMsYS5zZWxlY3RvcikpfHxyLmxpbmtzJiYiQSI9PT10Lm5vZGVOYW1lKSlyZXR1cm4ga2gua2VlcCgpO3ZhciBsLGYsZCxtLGcscCxoLHYsYj10O2lmKHBsKHIpJiYiYWxsIj09PXIucmVtb3ZlJiZTKHIucHJlc2VydmVfYXR0cmlidXRlcykpe3ZhciB5PVUodS5nZXRBdHRyaWJzKGIpLGZ1bmN0aW9uKGUpe3JldHVybiBUKHIucHJlc2VydmVfYXR0cmlidXRlcyxlLm5hbWUudG9Mb3dlckNhc2UoKSl9KTtpZih1LnJlbW92ZUFsbEF0dHJpYnMoYiksWSh5LGZ1bmN0aW9uKGUpe3JldHVybiB1LnNldEF0dHJpYihiLGUubmFtZSxlLnZhbHVlKX0pLDA8eS5sZW5ndGgpcmV0dXJuIGtoLnJlbmFtZSgic3BhbiIpfWlmKCJhbGwiIT09ci5yZW1vdmUpe0FoKHIuc3R5bGVzLGZ1bmN0aW9uKGUsdCl7ZT1zbCh1LGFsKGUsbyksdCsiIiksTih0KSYmKHQ9ZSxpPW51bGwpLCFyLnJlbW92ZV9zaW1pbGFyJiZpJiYhUmgoY2wodSxpLHQpLGUpfHx1LnNldFN0eWxlKGIsdCwiIiksbj0hMH0pLG4mJiIiPT09dS5nZXRBdHRyaWIoYiwic3R5bGUiKSYmKGIucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLGIucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zdHlsZSIpKSxBaChyLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlPWFsKGUsbyksTih0KSYmKHQ9ZSxpPW51bGwpLHIucmVtb3ZlX3NpbWlsYXJ8fCFpfHxSaCh1LmdldEF0dHJpYihpLHQpLGUpKWlmKCJjbGFzcyI9PT10JiYoZT11LmdldEF0dHJpYihiLHQpKSYmKG49IiIsWShlLnNwbGl0KC9ccysvKSxmdW5jdGlvbihlKXsvbWNlXC1cdysvLnRlc3QoZSkmJihuKz0obj8iICI6IiIpK2UpfSksbikpdS5zZXRBdHRyaWIoYix0LG4pO2Vsc2V7aWYoX2gudGVzdCh0KSYmYi5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLSIrdCksInN0eWxlIj09PXQmJm9uKFsibGkiXSkoYikmJiJub25lIj09PXUuZ2V0U3R5bGUoYiwibGlzdC1zdHlsZS10eXBlIikpcmV0dXJuIGIucmVtb3ZlQXR0cmlidXRlKHQpLHZvaWQgdS5zZXRTdHlsZShiLCJsaXN0LXN0eWxlLXR5cGUiLCJub25lIik7ImNsYXNzIj09PXQmJmIucmVtb3ZlQXR0cmlidXRlKCJjbGFzc05hbWUiKSxiLnJlbW92ZUF0dHJpYnV0ZSh0KX19KSxBaChyLmNsYXNzZXMsZnVuY3Rpb24oZSl7ZT1hbChlLG8pLGkmJiF1Lmhhc0NsYXNzKGksZSl8fHUucmVtb3ZlQ2xhc3MoYixlKX0pO2Zvcih2YXIgQz11LmdldEF0dHJpYnMoYikseD0wO3g8Qy5sZW5ndGg7eCsrKXt2YXIgdz1DW3hdLm5vZGVOYW1lO2lmKDAhPT13LmluZGV4T2YoIl8iKSYmMCE9PXcuaW5kZXhPZigiZGF0YS0iKSlyZXR1cm4ga2gua2VlcCgpfX1yZXR1cm4ibm9uZSIhPT1yLnJlbW92ZT8obD1lLGQ9cixwPShmPWIpLnBhcmVudE5vZGUsaD1sLmRvbSx2PWtzKGwpLG1sKGQpJiYodj9wPT09aC5nZXRSb290KCkmJihkLmxpc3RfYmxvY2smJlJoKGYsZC5saXN0X2Jsb2NrKXx8WSh4ZShmLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKGUpe2lsKGwsdixlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpP20/bS5hcHBlbmRDaGlsZChlKToobT1QcChoLGUsdiksaC5zZXRBdHRyaWJzKG0sbC5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9ja19hdHRycykpOm09bnVsbH0pKTpoLmlzQmxvY2soZikmJiFoLmlzQmxvY2socCkmJihJcChoLGYsITEpfHxJcChoLGYuZmlyc3RDaGlsZCwhMCwhMCl8fGYuaW5zZXJ0QmVmb3JlKGguY3JlYXRlKCJiciIpLGYuZmlyc3RDaGlsZCksSXAoaCxmLCEwKXx8SXAoaCxmLmxhc3RDaGlsZCwhMSwhMCl8fGYuYXBwZW5kQ2hpbGQoaC5jcmVhdGUoImJyIikpKSksZ2woZz1kKSYmcGwoZykmJmZuKHVlKGcsIm1peGVkIiksITApJiYhUmgoZC5pbmxpbmUsZil8fGgucmVtb3ZlKGYsITApLGtoLnJlbW92ZWQoKSk6a2gua2VlcCgpfWZ1bmN0aW9uIEZwKHQsZSxuLHIsbyl7cmV0dXJuIE1wKHQsZSxuLHIsbykuZm9sZChELGZ1bmN0aW9uKGUpe3JldHVybiB0LmRvbS5yZW5hbWUocixlKSwhMH0sdyl9ZnVuY3Rpb24gVXAodSxzLGMsZSxsKXtmdW5jdGlvbiBhKGUpe3ZhciBuLHIsbyxpLGEsdD0ocj1zLG89YyxpPWwsWShmbCgobj11KS5kb20sZS5wYXJlbnROb2RlKS5yZXZlcnNlKCksZnVuY3Rpb24oZSl7dmFyIHQ7YXx8Il9zdGFydCI9PT1lLmlkfHwiX2VuZCI9PT1lLmlkfHwodD15cChuLGUscixvLGkpKSYmITEhPT10LnNwbGl0JiYoYT1lKX0pLGEpO3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8saSxhLHUpe3ZhciBzLGMsbD1lLmRvbTtpZihuKXtmb3IodmFyIGY9bi5wYXJlbnROb2RlLGQ9ci5wYXJlbnROb2RlO2QmJmQhPT1mO2Q9ZC5wYXJlbnROb2RlKXtmb3IodmFyIG09bC5jbG9uZShkLCExKSxnPTA7Zzx0Lmxlbmd0aCYmbnVsbCE9PShtPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gTXAodCxlLHUsbixuKS5mb2xkKEoobiksZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9tLmNyZWF0ZUZyYWdtZW50KCkuYXBwZW5kQ2hpbGQobiksdC5kb20ucmVuYW1lKG4sZSl9LEoobnVsbCkpfShlLHRbZ10sbSkpO2crKyk7bSYmKHMmJm0uYXBwZW5kQ2hpbGQocyksYz1jfHxtLHM9bSl9IWl8fGEubWl4ZWQmJmwuaXNCbG9jayhuKXx8KHI9bC5zcGxpdChuLHIpKSxzJiYoby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLG8pLGMuYXBwZW5kQ2hpbGQobykscGwoYSkmJkFwKGwsYSwwLHMpKX1yZXR1cm4gcn0odSxtLHQsZSxlLCEwLGcsYyl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gRihtLGZ1bmN0aW9uKGUpe3JldHVybiBGcCh1LGUsYyx0LHQpfSl9ZnVuY3Rpb24gZChlKXt2YXIgdCxuPWguZ2V0KGU/Il9zdGFydCI6Il9lbmQiKSxyPW5bZT8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdO3JldHVybiBRYyh0PXIpJiZIbih0KSYmKCJfc3RhcnQiPT09dC5pZHx8Il9lbmQiPT09dC5pZCkmJihyPXJbZT8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdKSxWbihyKSYmMD09PXIuZGF0YS5sZW5ndGgmJihyPWU/bi5wcmV2aW91c1NpYmxpbmd8fG4ubmV4dFNpYmxpbmc6bi5uZXh0U2libGluZ3x8bi5wcmV2aW91c1NpYmxpbmcpLGgucmVtb3ZlKG4sITApLHJ9ZnVuY3Rpb24gdChlKXt2YXIgdD1rbCh1LGUsbSxlLmNvbGxhcHNlZCk7aWYoZy5zcGxpdCl7aWYodD1QZih0KSwocj1PcCh1LHQsITApKSE9PShvPU9wKHUsdCkpKXtpZihyPUJwKHIsITApLG89QnAobywhMSksVHAoaCxyLG8pKXt2YXIgbj12ZS5mcm9tKHIuZmlyc3RDaGlsZCkuZ2V0T3Iocik7cmV0dXJuIGEoTHAoaCxuLCEwLCJzcGFuIix7aWQ6Il9zdGFydCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSksdm9pZCBkKCEwKX1pZihUcChoLG8scikpcmV0dXJuIG49dmUuZnJvbShvLmxhc3RDaGlsZCkuZ2V0T3IobyksYShMcChoLG4sITEsInNwYW4iLHtpZDoiX2VuZCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSksdm9pZCBkKCExKTt2YXIgcj1QcChoLHIsInNwYW4iLHtpZDoiX3N0YXJ0IiwiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIn0pLG89UHAoaCxvLCJzcGFuIix7aWQ6Il9lbmQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSksaT1oLmNyZWF0ZVJuZygpO2kuc2V0U3RhcnRBZnRlcihyKSxpLnNldEVuZEJlZm9yZShvKSxfbChoLGksZnVuY3Rpb24oZSl7WShlLGZ1bmN0aW9uKGUpe1FjKGUpfHxRYyhlLnBhcmVudE5vZGUpfHxhKGUpfSl9KSxhKHIpLGEobykscj1kKCEwKSxvPWQoKX1lbHNlIHI9bz1hKHIpO3Quc3RhcnRDb250YWluZXI9ci5wYXJlbnROb2RlfHxyLHQuc3RhcnRPZmZzZXQ9aC5ub2RlSW5kZXgociksdC5lbmRDb250YWluZXI9by5wYXJlbnROb2RlfHxvLHQuZW5kT2Zmc2V0PWgubm9kZUluZGV4KG8pKzF9X2woaCx0LGZ1bmN0aW9uKGUpe1koZSx2KX0pfXZhciBuLG09dS5mb3JtYXR0ZXIuZ2V0KHMpLGc9bVswXSxwPSEwLGg9dS5kb20scj11LnNlbGVjdGlvbix2PWZ1bmN0aW9uKHQpe3ZhciBlPSEwLG49ITE7SG4odCkmJmguZ2V0Q29udGVudEVkaXRhYmxlKHQpJiYoZT1wLHA9InRydWUiPT09aC5nZXRDb250ZW50RWRpdGFibGUodCksbj0hMCk7dmFyIHIsbyxpPXhlKHQuY2hpbGROb2Rlcyk7aWYocCYmIW4mJihyPWYodCl8fEYobSxmdW5jdGlvbihlKXtyZXR1cm4gUGcoaCx0LGUpfSksbz10LnBhcmVudE5vZGUsIXImJlYobykmJmhsKGcpJiZmKG8pKSxnLmRlZXAmJmkubGVuZ3RoKXtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl2KGlbYV0pO24mJihwPWUpfVkoWyJ1bmRlcmxpbmUiLCJsaW5lLXRocm91Z2giLCJvdmVybGluZSJdLGZ1bmN0aW9uKGUpe0huKHQpJiZ1LmRvbS5nZXRTdHlsZSh0LCJ0ZXh0LWRlY29yYXRpb24iKT09PWUmJnQucGFyZW50Tm9kZSYmbGwoaCx0LnBhcmVudE5vZGUpPT09ZSYmRnAodSx7ZGVlcDohMSxleGFjdDohMCxpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246ZX19LG51bGwsdCl9KX07aWYoZSlyZXR1cm4gdGwoZSk/KChuPWguY3JlYXRlUm5nKCkpLnNldFN0YXJ0QmVmb3JlKGUpLG4uc2V0RW5kQWZ0ZXIoZSksdChuKSk6dChlKSx2b2lkIHdmKHUscyxlLGMpO2lmKCJmYWxzZSIhPT1oLmdldENvbnRlbnRFZGl0YWJsZShyLmdldE5vZGUoKSkpci5pc0NvbGxhcHNlZCgpJiZwbChnKSYmIURsKHUpLmxlbmd0aD8kZyh1LHMsYyxsKTooSWwociwhMCxmdW5jdGlvbigpe0xsKHUsdCl9KSxwbChnKSYmSWcodSxzLGMsci5nZXRTdGFydCgpKSYmbmwoaCxyLHIuZ2V0Um5nKCkpLHUubm9kZUNoYW5nZWQoKSksd2YodSxzLGUsYyk7ZWxzZXtlPXIuZ2V0Tm9kZSgpO2Zvcih2YXIgbz0wO288bS5sZW5ndGgmJighbVtvXS5jZUZhbHNlT3ZlcnJpZGV8fCFGcCh1LG1bb10sYyxlLGUpKTtvKyspO3dmKHUscyxlLGMpfX1mdW5jdGlvbiB6cChlKXtyZXR1cm4gSG4oZSkmJiFRYyhlKSYmIVZjKGUpJiYhc24oZSl9ZnVuY3Rpb24gSHAoZSl7cmV0dXJuIEVlKGUsInZhcnMiKX1mdW5jdGlvbiBqcChuLGUscixvLGkpe3JldHVybiBJKGUsZnVuY3Rpb24oZSl7dmFyIHQ9bi5mb3JtYXR0ZXIubWF0Y2hOb2RlKGUscixudWxsIT1pP2k6e30sbyk7cmV0dXJuIWIodCl9LGZ1bmN0aW9uKGUpe3JldHVybiBPZyhuLGUscil8fCFvJiZWKG4uZm9ybWF0dGVyLm1hdGNoTm9kZShlLHIsaSwhMCkpfSl9ZnVuY3Rpb24gVnAoZSx0KXt2YXIgbj1udWxsIT10P3Q6QmgoZSk7cmV0dXJuIFUoZmwoZS5kb20sbiksZnVuY3Rpb24oZSl7cmV0dXJuIEhuKGUpJiYhc24oZSl9KX1mdW5jdGlvbiBxcChlLG8saSxhLHQsbil7dmFyIHIsdSxzLGMsbCxmLGQsbSxnO3JldHVybiBudWxsPT09by5nZXQoKSYmKHU9ZSwocj1vKS5zZXQoe30pLHUub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpe1BoKHUsZS5lbGVtZW50LHIuZ2V0KCkpfSksdS5vbigiRm9ybWF0QXBwbHkgRm9ybWF0UmVtb3ZlIixmdW5jdGlvbihlKXt2YXIgdD12ZS5mcm9tKGUubm9kZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0bChlKT9lOmUuc3RhcnRDb250YWluZXJ9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBIbihlKT92ZS5zb21lKGUpOnZlLmZyb20oZS5wYXJlbnRFbGVtZW50KX0pLmdldE9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gQmgodSl9KTtQaCh1LHQsci5nZXQoKSl9KSkscz1lLGw9aSxmPWEsZD10LG09bixnPShjPW8pLmdldCgpLFkobC5zcGxpdCgiLCIpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1WcChzKTtyZXR1cm4ganAocyxlLHQsZCxtKS5pc1NvbWUoKX12YXIgbixyPXVlKGcsdCkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBlPXt3aXRoU2ltaWxhcjp7c3RhdGU6YXUoITEpLHNpbWlsYXI6ITAsY2FsbGJhY2tzOltdfSx3aXRob3V0U2ltaWxhcjp7c3RhdGU6YXUoITEpLHNpbWlsYXI6ITEsY2FsbGJhY2tzOltdfSx3aXRoVmFyczpbXX07cmV0dXJuIGdbdF09ZX0pO2IobSk/KChuPWQ/ci53aXRoU2ltaWxhcjpyLndpdGhvdXRTaW1pbGFyKS5jYWxsYmFja3MucHVzaChmKSwxPT09bi5jYWxsYmFja3MubGVuZ3RoJiZuLnN0YXRlLnNldChlKCkpKTpyLndpdGhWYXJzLnB1c2goe3N0YXRlOmF1KGUoKSksc2ltaWxhcjpkLHZhcnM6bSxjYWxsYmFjazpmfSl9KSxjLnNldChnKSx7dW5iaW5kOmZ1bmN0aW9uKCl7dmFyIGUsdD1pLG49YSxyPShlPW8pLmdldCgpO1kodC5zcGxpdCgiLCIpLGZ1bmN0aW9uKHQpe3JldHVybiB1ZShyLHQpLmVhY2goZnVuY3Rpb24oZSl7clt0XT17d2l0aFNpbWlsYXI6X2UoX2Uoe30sZS53aXRoU2ltaWxhcikse2NhbGxiYWNrczpVKGUud2l0aFNpbWlsYXIuY2FsbGJhY2tzLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pfSksd2l0aG91dFNpbWlsYXI6X2UoX2Uoe30sZS53aXRob3V0U2ltaWxhcikse2NhbGxiYWNrczpVKGUud2l0aG91dFNpbWlsYXIuY2FsbGJhY2tzLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pfSksd2l0aFZhcnM6VShlLndpdGhWYXJzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhbGxiYWNrIT09bn0pfX0pfSksZS5zZXQocil9fX1mdW5jdGlvbiAkcChlLHQpe3ZhciBuPSh0fHxkb2N1bWVudCkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBZKGUsZnVuY3Rpb24oZSl7bi5hcHBlbmRDaGlsZChlLmRvbSl9KSxFdC5mcm9tRG9tKG4pfWZ1bmN0aW9uIFdwKGUsdCxuKXtyZXR1cm57ZWxlbWVudDplLHdpZHRoOnQscm93czpufX1mdW5jdGlvbiBLcChlLHQpe3JldHVybntlbGVtZW50OmUsY2VsbHM6dH19ZnVuY3Rpb24gWHAoZSx0KXt2YXIgbj1wYXJzZUludCh2bihlLHQpLDEwKTtyZXR1cm4gaXNOYU4obik/MTpufWZ1bmN0aW9uIFlwKGUpe3JldHVybiBMKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jZWxscy5sZW5ndGg+ZT90LmNlbGxzLmxlbmd0aDplfSwwKX1mdW5jdGlvbiBHcChlLHQpe2Zvcih2YXIgbj1lLnJvd3Mscj0wO3I8bi5sZW5ndGg7cisrKWZvcih2YXIgbz1uW3JdLmNlbGxzLGk9MDtpPG8ubGVuZ3RoO2krKylpZihqZShvW2ldLHQpKXJldHVybiB2ZS5zb21lKHt4OmkseTpyfSk7cmV0dXJuIHZlLm5vbmUoKX1mdW5jdGlvbiBKcChlLHQsbixyLG8pe2Zvcih2YXIgaT1bXSxhPWUucm93cyx1PW47dTw9bzt1Kyspe3ZhciBzPWFbdV0uY2VsbHMsYz10PHI/cy5zbGljZSh0LHIrMSk6cy5zbGljZShyLHQrMSk7aS5wdXNoKEtwKGFbdV0uZWxlbWVudCxjKSl9cmV0dXJuIGl9ZnVuY3Rpb24gUXAoZSl7dmFyIG89V3AoRXUoZSksMCxbXSk7cmV0dXJuIFkoeXUoZSwidHIiKSxmdW5jdGlvbihuLHIpe1koeXUobiwidGQsdGgiKSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLHQsbixyLG8pe2Zvcih2YXIgaT1YcChvLCJyb3dzcGFuIiksYT1YcChvLCJjb2xzcGFuIiksdT1lLnJvd3Mscz1uO3M8bitpO3MrKyl7dVtzXXx8KHVbc109S3Aoa3UociksW10pKTtmb3IodmFyIGM9dDtjPHQrYTtjKyspdVtzXS5jZWxsc1tjXT1zPT09biYmYz09PXQ/bzpFdShvKX19KG8sZnVuY3Rpb24oZSx0LG4pe2Zvcig7cj10LCgobz1lLnJvd3MpW25dP29bbl0uY2VsbHM6W10pW3JdOyl0Kys7dmFyIHIsbztyZXR1cm4gdH0obyx0LHIpLHIsbixlKX0pfSksV3Aoby5lbGVtZW50LFlwKG8ucm93cyksby5yb3dzKX1mdW5jdGlvbiBacChlLHQpe3ZhciBuLHIsbyxpPUV0LmZyb21Eb20odC5jb21tb25BbmNlc3RvckNvbnRhaW5lciksYT15bShpLGUpLHU9VShhLGZ1bmN0aW9uKGUpe3JldHVybiBCcihlKXx8bW8oZSl9KSxzPShvPXQsTShyPWEsZnVuY3Rpb24oZSl7cmV0dXJuImxpIj09PWt0KGUpJiZPbChlLG8pfSkuZm9sZChKKFtdKSxmdW5jdGlvbihlKXtyZXR1cm4gTShyLGZ1bmN0aW9uKGUpe3JldHVybiJ1bCI9PT1rdChlKXx8Im9sIj09PWt0KGUpfSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PUV0LmZyb21UYWcoa3QoZSkpO3JldHVybiB4bih0LGFlKE5uKGUpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEdlKHQsImxpc3Qtc3R5bGUiKX0pKSxbRXQuZnJvbVRhZygibGkiKSx0XX0pLmdldE9yKFtdKX0pKTtyZXR1cm4gQSh1LmNvbmNhdChzLmxlbmd0aD9zOnZvKG49aSk/T3QobikuZmlsdGVyKGhvKS5mb2xkKEooW10pLGZ1bmN0aW9uKGUpe3JldHVybltuLGVdfSk6aG8obik/W25dOltdKSxFdSl9ZnVuY3Rpb24gZWgoKXtyZXR1cm4gJHAoW10pfWZ1bmN0aW9uIHRoKGUsaSl7cmV0dXJuIHZyKGlbMF0sInRhYmxlIixSKGplLGUpKS5iaW5kKGZ1bmN0aW9uKGUpe3ZhciBzLHQsbj1pWzBdLHI9aVtpLmxlbmd0aC0xXSxvPVFwKGUpO3JldHVybiB0PXIsR3Aocz1vLG4pLmJpbmQoZnVuY3Rpb24odSl7cmV0dXJuIEdwKHMsdCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0PXMsbj11Lngscj11Lnksbz1lLngsYT1yPChpPWUueSk/SnAodCxuLHIsbyxpKTpKcCh0LG4saSxvLHIpLFdwKHQuZWxlbWVudCxZcChhKSxhKTt2YXIgdCxuLHIsbyxpLGF9KX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gJHAoWyhuPUEoKHQ9ZSkucm93cyxmdW5jdGlvbihlKXt2YXIgdD1BKGUuY2VsbHMsZnVuY3Rpb24oZSl7dmFyIHQ9a3UoZSk7cmV0dXJuIENuKHQsImNvbHNwYW4iKSxDbih0LCJyb3dzcGFuIiksdH0pLG49RXUoZS5lbGVtZW50KTtyZXR1cm4gS3Qobix0KSxufSkscj1FdSh0LmVsZW1lbnQpLEt0KG89RXQuZnJvbVRhZygidGJvZHkiKSxuKSxMbihyLG8pLHIpXSk7dmFyIHQsbixyLG99KX0pLmdldE9yVGh1bmsoZWgpfWZ1bmN0aW9uIG5oKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYz1SbCh0LGUpO3JldHVybiAwPGMubGVuZ3RoP3RoKGUsYyk6KG49ZSwwPChyPXQpLmxlbmd0aCYmclswXS5jb2xsYXBzZWQ/ZWgoKToobz1uLGk9clswXSxhPUV0LmZyb21Eb20oaS5jbG9uZUNvbnRlbnRzKCkpLHM9TCh1PVpwKG8saSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gTG4odCxlKSx0fSxhKSwwPHUubGVuZ3RoPyRwKFtzXSk6cykpfWZ1bmN0aW9uIHJoKGUsdCl7cmV0dXJuIDA8PXQmJnQ8ZS5sZW5ndGgmJlpjKGUuY2hhckF0KHQpKX1mdW5jdGlvbiBvaChlLHQpe3ZhciBuPUVvKGUuaW5uZXJUZXh0KTtyZXR1cm4gdD9uLnJlcGxhY2UoL15bIFxmXG5cclx0XHZdKy8sIiIpOm59ZnVuY3Rpb24gaWgoZSl7cmV0dXJuIEhuKGUpP2Uub3V0ZXJIVE1MOlZuKGUpP1pvLmVuY29kZVJhdyhlLmRhdGEsITEpOnFuKGUpPyJceDNjIS0tIitlLmRhdGErIi0tXHgzZSI6IiJ9ZnVuY3Rpb24gYWgoZSxjKXt2YXIgbD0wO1koZSxmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzOzA9PT1lWzBdP2wrKzoxPT09ZVswXT8obz1jLGk9ZVsxXSxhPWwscz1mdW5jdGlvbihlKXt2YXIgdCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihlJiYobi5pbm5lckhUTUw9ZSk7dD1uLmZpcnN0Q2hpbGQ7KXIuYXBwZW5kQ2hpbGQodCk7cmV0dXJuIHJ9KGkpLG8uaGFzQ2hpbGROb2RlcygpJiZhPG8uY2hpbGROb2Rlcy5sZW5ndGg/KHU9by5jaGlsZE5vZGVzW2FdKS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLHUpOm8uYXBwZW5kQ2hpbGQocyksbCsrKToyPT09ZVswXSYmKG49bCwodD1jKS5oYXNDaGlsZE5vZGVzKCkmJm48dC5jaGlsZE5vZGVzLmxlbmd0aCYmKHI9dC5jaGlsZE5vZGVzW25dKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKX0pfWZ1bmN0aW9uIHVoKGUpe3ZhciB0PWUuc2VyaWFsaXplci5nZXRUZW1wQXR0cnMoKSxuPWVtKGUuZ2V0Qm9keSgpLHQpO3JldHVybiBudWxsIT09bi5xdWVyeVNlbGVjdG9yKCJpZnJhbWUiKT97dHlwZToiZnJhZ21lbnRlZCIsZnJhZ21lbnRzOlUoQSh4ZShuLmNoaWxkTm9kZXMpLGkoRW8saWgpKSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pLGNvbnRlbnQ6IiIsYm9va21hcms6bnVsbCxiZWZvcmVCb29rbWFyazpudWxsfTp7dHlwZToiY29tcGxldGUiLGZyYWdtZW50czpudWxsLGNvbnRlbnQ6RW8obi5pbm5lckhUTUwpLGJvb2ttYXJrOm51bGwsYmVmb3JlQm9va21hcms6bnVsbH19ZnVuY3Rpb24gc2goZSx0LG4pe3ZhciByLG8saSxnLHAsYSxoLHYsYyxsLHUscz1uP3QuYmVmb3JlQm9va21hcms6dC5ib29rbWFyaztmdW5jdGlvbiBiKGUsdCxuLHIpe2Zvcih2YXIgbz1lO28tdDxyJiZvPG4mJmdbb109PT1wW28tdF07KSsrbztyZXR1cm57c3RhcnQ6ZSxlbmQ6byxkaWFnOnR9fSJmcmFnbWVudGVkIj09PXQudHlwZT8ocj10LmZyYWdtZW50cyxvPWUuZ2V0Qm9keSgpLGk9QSh4ZShvLmNoaWxkTm9kZXMpLGloKSxhaCgocD1yLGE9KGc9aSkubGVuZ3RoK3AubGVuZ3RoKzIsaD1uZXcgQXJyYXkoYSksdj1uZXcgQXJyYXkoYSksYz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPWwoZSx0LG4scik7aWYobnVsbD09PWl8fGkuc3RhcnQ9PT10JiZpLmRpYWc9PT10LXJ8fGkuZW5kPT09ZSYmaS5kaWFnPT09ZS1uKWZvcih2YXIgYT1lLHU9bjthPHR8fHU8cjspYTx0JiZ1PHImJmdbYV09PT1wW3VdPyhvLnB1c2goWzAsZ1thXV0pLCsrYSwrK3UpOnItbjx0LWU/KG8ucHVzaChbMixnW2FdXSksKythKTooby5wdXNoKFsxLHBbdV1dKSwrK3UpO2Vsc2V7YyhlLGkuc3RhcnQsbixpLnN0YXJ0LWkuZGlhZyxvKTtmb3IodmFyIHM9aS5zdGFydDtzPGkuZW5kOysrcylvLnB1c2goWzAsZ1tzXV0pO2MoaS5lbmQsdCxpLmVuZC1pLmRpYWcscixvKX19LGw9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dC1lLGk9ci1uO2lmKDA9PW98fDA9PWkpcmV0dXJuIG51bGw7dmFyIGEsdSxzLGMsbCxmPW8taSxkPWkrbyxtPShkJTI9PTA/ZDoxK2QpLzI7Zm9yKGhbMSttXT1lLHZbMSttXT10KzEsYT0wO2E8PW07KythKXtmb3IodT0tYTt1PD1hO3UrPTIpe2ZvcihzPXUrbSx1PT09LWF8fHUhPT1hJiZoW3MtMV08aFtzKzFdP2hbc109aFtzKzFdOmhbc109aFtzLTFdKzEsbD0oYz1oW3NdKS1lK24tdTtjPHQmJmw8ciYmZ1tjXT09PXBbbF07KWhbc109KytjLCsrbDtpZihmJTIhPTAmJmYtYTw9dSYmdTw9ZithJiZ2W3MtZl08PWhbc10pcmV0dXJuIGIodltzLWZdLHUrZS1uLHQscil9Zm9yKHU9Zi1hO3U8PWYrYTt1Kz0yKXtmb3Iocz11K20tZix1PT09Zi1hfHx1IT09ZithJiZ2W3MrMV08PXZbcy0xXT92W3NdPXZbcysxXS0xOnZbc109dltzLTFdLGw9KGM9dltzXS0xKS1lK24tdTtlPD1jJiZuPD1sJiZnW2NdPT09cFtsXTspdltzXT1jLS0sbC0tO2lmKGYlMj09MCYmLWE8PXUmJnU8PWEmJnZbc108PWhbcytmXSlyZXR1cm4gYih2W3NdLHUrZS1uLHQscil9fX0sdT1bXSxjKDAsZy5sZW5ndGgsMCxwLmxlbmd0aCx1KSx1KSxvKSk6ZS5zZXRDb250ZW50KHQuY29udGVudCx7Zm9ybWF0OiJyYXciLG5vX3NlbGVjdGlvbjohVihzKXx8ISRjKHMpfHwhcy5pc0Zha2VDYXJldH0pLGUuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKHMpfWZ1bmN0aW9uIGNoKGUpe3JldHVybiJmcmFnbWVudGVkIj09PWUudHlwZT9lLmZyYWdtZW50cy5qb2luKCIiKTplLmNvbnRlbnR9ZnVuY3Rpb24gbGgoZSl7dmFyIHQ9RXQuZnJvbVRhZygiYm9keSIsTGgoKSk7cmV0dXJuIFN1KHQsY2goZSkpLFkoeXUodCwiKltkYXRhLW1jZS1ib2d1c10iKSxZdCksdC5kb20uaW5uZXJIVE1MfWZ1bmN0aW9uIGZoKGUsdCl7cmV0dXJuISghZXx8IXQpJiYocj10LGNoKGUpPT09Y2gocil8fChuPXQsbGgoZSk9PT1saChuKSkpO3ZhciBuLHJ9ZnVuY3Rpb24gZGgoZSl7cmV0dXJuIDA9PT1lLmdldCgpfWZ1bmN0aW9uIG1oKGUsdCxuKXtkaChuKSYmKGUudHlwaW5nPXQpfWZ1bmN0aW9uIGdoKGUsdCl7ZS50eXBpbmcmJihtaChlLCExLHQpLGUuYWRkKCkpfWZ1bmN0aW9uIHBoKGMpe3JldHVybnt1bmRvTWFuYWdlcjp7YmVmb3JlQ2hhbmdlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YyxyPXQ7ZGgoZSkmJnIuc2V0KGhjKG4uc2VsZWN0aW9uKSl9LGFkZDpmdW5jdGlvbihlLHQsbixyLG8saSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpe3ZhciB1PXVoKGUpO2lmKGk9TnQuZXh0ZW5kKGk9aXx8e30sdSksITE9PT1kaChyKXx8ZS5yZW1vdmVkKXJldHVybiBudWxsO3ZhciBzPXQuZGF0YVtuLmdldCgpXTtpZihlLmZpcmUoIkJlZm9yZUFkZFVuZG8iLHtsZXZlbDppLGxhc3RMZXZlbDpzLG9yaWdpbmFsRXZlbnQ6YX0pLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBudWxsO2lmKHMmJmZoKHMsaSkpcmV0dXJuIG51bGw7dC5kYXRhW24uZ2V0KCldJiZvLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dC5kYXRhW24uZ2V0KCldLmJlZm9yZUJvb2ttYXJrPWV9KTt2YXIgYz1lLmdldFBhcmFtKCJjdXN0b21fdW5kb19yZWRvX2xldmVscyIsMCwibnVtYmVyIik7aWYoYyYmdC5kYXRhLmxlbmd0aD5jKXtmb3IodmFyIGw9MDtsPHQuZGF0YS5sZW5ndGgtMTtsKyspdC5kYXRhW2xdPXQuZGF0YVtsKzFdO3QuZGF0YS5sZW5ndGgtLSxuLnNldCh0LmRhdGEubGVuZ3RoKX1pLmJvb2ttYXJrPWhjKGUuc2VsZWN0aW9uKSxuLmdldCgpPHQuZGF0YS5sZW5ndGgtMSYmKHQuZGF0YS5sZW5ndGg9bi5nZXQoKSsxKSx0LmRhdGEucHVzaChpKSxuLnNldCh0LmRhdGEubGVuZ3RoLTEpO3ZhciBmPXtsZXZlbDppLGxhc3RMZXZlbDpzLG9yaWdpbmFsRXZlbnQ6YX07cmV0dXJuIDA8bi5nZXQoKT8oZS5zZXREaXJ0eSghMCksZS5maXJlKCJBZGRVbmRvIixmKSxlLmZpcmUoImNoYW5nZSIsZikpOmUuZmlyZSgiQWRkVW5kbyIsZiksaX0oYyxlLHQsbixyLG8saSl9LHVuZG86ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByPWMsaT10LGE9biwobz1lKS50eXBpbmcmJihvLmFkZCgpLG8udHlwaW5nPSExLG1oKG8sITEsaSkpLDA8YS5nZXQoKSYmKGEuc2V0KGEuZ2V0KCktMSksc2gocix1PW8uZGF0YVthLmdldCgpXSwhMCksci5zZXREaXJ0eSghMCksci5maXJlKCJVbmRvIix7bGV2ZWw6dX0pKSx1O3ZhciByLG8saSxhLHV9LHJlZG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1jLG89dCwocj1lKS5nZXQoKTxvLmxlbmd0aC0xJiYoci5zZXQoci5nZXQoKSsxKSxzaChuLGk9b1tyLmdldCgpXSwhMSksbi5zZXREaXJ0eSghMCksbi5maXJlKCJSZWRvIix7bGV2ZWw6aX0pKSxpO3ZhciBuLHIsbyxpfSxjbGVhcjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9YyxvPXQ7KG49ZSkuZGF0YT1bXSxvLnNldCgwKSxuLnR5cGluZz0hMSxyLmZpcmUoIkNsZWFyVW5kb3MiKX0scmVzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZSkuY2xlYXIoKSx0LmFkZCgpfSxoYXNVbmRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49YyxyPWUsMDx0LmdldCgpfHxyLnR5cGluZyYmci5kYXRhWzBdJiYhZmgodWgobiksci5kYXRhWzBdKTt2YXIgbixyfSxoYXNSZWRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZSx0LmdldCgpPG4uZGF0YS5sZW5ndGgtMSYmIW4udHlwaW5nO3ZhciBufSx0cmFuc2FjdDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG89bixnaChyPWUsdCksci5iZWZvcmVDaGFuZ2UoKSxyLmlnbm9yZShvKSxyLmFkZCgpO3ZhciByLG99LGlnbm9yZTpmdW5jdGlvbihlLHQpe3RyeXtlLnNldChlLmdldCgpKzEpLHQoKX1maW5hbGx5e2Uuc2V0KGUuZ2V0KCktMSl9fSxleHRyYTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGE9Yyx1PXQscz1yOyhvPWUpLnRyYW5zYWN0KG4pJiYoaT1vLmRhdGFbdS5nZXQoKV0uYm9va21hcmssc2goYSxvLmRhdGFbdS5nZXQoKS0xXSwhMCksby50cmFuc2FjdChzKSYmKG8uZGF0YVt1LmdldCgpLTFdLmJlZm9yZUJvb2ttYXJrPWkpKX19LGZvcm1hdHRlcjp7bWF0Y2g6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIElnKGMsZSx0LG4scil9LG1hdGNoQWxsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG89ZSxpPXQsYT1bXSx1PXt9LG49KHI9Yykuc2VsZWN0aW9uLmdldFN0YXJ0KCksci5kb20uZ2V0UGFyZW50KG4sZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxvLmxlbmd0aDt0Kyspe3ZhciBuPW9bdF07IXVbbl0mJnlwKHIsZSxuLGkpJiYodVtuXT0hMCxhLnB1c2gobikpfX0sci5kb20uZ2V0Um9vdCgpKSxhO3ZhciByLG8saSxhLHUsbn0sbWF0Y2hOb2RlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB5cChjLGUsdCxuLHIpfSxjYW5BcHBseTpmdW5jdGlvbih1KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mb3JtYXR0ZXIuZ2V0KHUpLG49ZS5kb207aWYodClmb3IodmFyIHI9ZmwobixlLnNlbGVjdGlvbi5nZXRTdGFydCgpKSxvPXQubGVuZ3RoLTE7MDw9bztvLS0pe3ZhciBpPXRbb107aWYoIWdsKGkpfHxWKGkuZGVmYXVsdEJsb2NrKSlyZXR1cm4hMDtmb3IodmFyIGE9ci5sZW5ndGgtMTswPD1hO2EtLSlpZihuLmlzKHJbYV0saS5zZWxlY3RvcikpcmV0dXJuITB9cmV0dXJuITF9KGMpfSxjbG9zZXN0OmZ1bmN0aW9uKGUpe3JldHVybiByPWMsbz1lLHZlLmZyb20oci5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBUZyhFdC5mcm9tRG9tKGUpLGZ1bmN0aW9uKG4pe3JldHVybiBlZShvLGZ1bmN0aW9uKGUpe3JldHVybiB5cChyLG4uZG9tLHQ9ZSk/dmUuc29tZSh0KTp2ZS5ub25lKCk7dmFyIHR9KX0sdCl9KS5nZXRPck51bGwoKTtmdW5jdGlvbiB0KGUpe3JldHVybiBqZShlLEV0LmZyb21Eb20oci5nZXRCb2R5KCkpKX12YXIgcixvfSxhcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIE9oKGMsZSx0LG4pfSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIFVwKGMsZSx0LG4scil9LHRvZ2dsZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsbz1lLGk9dCxhPW4sdT0ocj1jKS5mb3JtYXR0ZXIuZ2V0KG8pOyghSWcocixvLGksYSl8fCJ0b2dnbGUiaW4gdVswXSYmIXVbMF0udG9nZ2xlP09oOlVwKShyLG8saSxhKX0sZm9ybWF0Q2hhbmdlZDpmdW5jdGlvbihlLHQsbixyLG8pe3JldHVybiBxcChjLGUsdCxuLHIsbyl9fSxlZGl0b3I6e2dldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZD1jLG09ZSxnPXQsdmUuZnJvbShkLmdldEJvZHkoKSkuZm9sZChKKCJ0cmVlIj09PW0uZm9ybWF0P25ldyBqZCgiYm9keSIsMTEpOiIiKSxmdW5jdGlvbihlKXtyZXR1cm4gdD1kLHI9ZSxvPWcsYz1fZShfZSh7fSxuPW0pLHtmb3JtYXQ6byxnZXQ6ITAsZ2V0SW5uZXI6ITB9KSxsPW4ubm9fZXZlbnRzP2M6dC5maXJlKCJCZWZvcmVHZXRDb250ZW50IixjKSxmPSJyYXciPT09bC5mb3JtYXQ/TnQudHJpbShFbyhlbShyLHQuc2VyaWFsaXplci5nZXRUZW1wQXR0cnMoKSkuaW5uZXJIVE1MKSk6InRleHQiPT09bC5mb3JtYXQ/dC5kb20uaXNFbXB0eShyKT8iIjpFbyhyLmlubmVyVGV4dHx8ci50ZXh0Q29udGVudCk6InRyZWUiPT09bC5mb3JtYXQ/dC5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLGwpOihhPShpPXQpLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHIsbCksdT1rcyhpKSxzPW5ldyBSZWdFeHAoIl4oPCIrdSsiW14+XSo+KCZuYnNwO3wmIzE2MDt8XFxzfFx4YTB8PGJyIFxcLz58KTxcXC8iK3UrIj5bXHJcbl0qfDxiciBcXC8+W1xyXG5dKikkIiksYS5yZXBsYWNlKHMsIiIpKSxUKFsidGV4dCIsInRyZWUiXSxsLmZvcm1hdCl8fENvKEV0LmZyb21Eb20ocikpP2wuY29udGVudD1mOmwuY29udGVudD1OdC50cmltKGYpLChsLm5vX2V2ZW50cz9sOnQuZmlyZSgiR2V0Q29udGVudCIsbCkpLmNvbnRlbnQ7dmFyIHQsbixyLG8saSxhLHUscyxjLGwsZn0pO3ZhciBkLG0sZ30sc2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBSZyhjLGUsdCl9LGluc2VydENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga2coYyxlLHQpfSxhZGRWaXN1YWw6ZnVuY3Rpb24oZSl7dmFyIGksdD1lLGE9KGk9YykuZG9tLG49Vih0KT90OmkuZ2V0Qm9keSgpO2IoaS5oYXNWaXN1YWwpJiYoaS5oYXNWaXN1YWw9aS5nZXRQYXJhbSgidmlzdWFsIiwhMCwiYm9vbGVhbiIpKSxZKGEuc2VsZWN0KCJ0YWJsZSxhIixuKSxmdW5jdGlvbihlKXtzd2l0Y2goZS5ub2RlTmFtZSl7Y2FzZSJUQUJMRSI6dmFyIHQ9aS5nZXRQYXJhbSgidmlzdWFsX3RhYmxlX2NsYXNzIiwibWNlLWl0ZW0tdGFibGUiLCJzdHJpbmciKSxuPWEuZ2V0QXR0cmliKGUsImJvcmRlciIpO24mJiIwIiE9PW58fCFpLmhhc1Zpc3VhbD9hLnJlbW92ZUNsYXNzKGUsdCk6YS5hZGRDbGFzcyhlLHQpO2JyZWFrO2Nhc2UiQSI6dmFyIHIsbzthLmdldEF0dHJpYihlLCJocmVmIil8fChyPWEuZ2V0QXR0cmliKGUsIm5hbWUiKXx8ZS5pZCxvPWkuZ2V0UGFyYW0oInZpc3VhbF9hbmNob3JfY2xhc3MiLCJtY2UtaXRlbS1hbmNob3IiLCJzdHJpbmciKSxyJiZpLmhhc1Zpc3VhbD9hLmFkZENsYXNzKGUsbyk6YS5yZW1vdmVDbGFzcyhlLG8pKX19KSxpLmZpcmUoIlZpc3VhbEFpZCIse2VsZW1lbnQ6dCxoYXNWaXN1YWw6aS5oYXNWaXN1YWx9KX19LHNlbGVjdGlvbjp7Z2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIHIsbz0ocj10LF9lKF9lKHt9LG49dm9pZCAwPT09bj97fTpuKSx7Zm9ybWF0OnIsZ2V0OiEwLHNlbGVjdGlvbjohMH0pKSxpPWUuZmlyZSgiQmVmb3JlR2V0Q29udGVudCIsbyk7aWYoaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZS5maXJlKCJHZXRDb250ZW50IixpKSxpLmNvbnRlbnQ7aWYoInRleHQiPT09aS5mb3JtYXQpcmV0dXJuIG09ZSx2ZS5mcm9tKG0uc2VsZWN0aW9uLmdldFJuZygpKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9dmUuZnJvbShtLmRvbS5nZXRQYXJlbnQoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcixtLmRvbS5pc0Jsb2NrKSksbj1tLmdldEJvZHkoKSxyPXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lfSkuZ2V0T3IoImRpdiIpLnRvTG93ZXJDYXNlKCksbz14dC5icm93c2VyLmlzSUUoKSYmInByZSIhPT1yLGk9bS5kb20uYWRkKG4scix7ImRhdGEtbWNlLWJvZ3VzIjoiYWxsIixzdHlsZToib3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsifSxlLmNsb25lQ29udGVudHMoKSksYT1vaChpLG8pLHU9RW8oaS50ZXh0Q29udGVudCk7aWYobS5kb20ucmVtb3ZlKGkpLHJoKHUsMCl8fHJoKHUsdS5sZW5ndGgtMSkpe3ZhciBzPW9oKHQuZ2V0T3IobiksbyksYz1zLmluZGV4T2YoYSk7cmV0dXJuLTE9PT1jP2E6KHJoKHMsYy0xKT8iICI6IiIpK2ErKHJoKHMsYythLmxlbmd0aCk/IiAiOiIiKX1yZXR1cm4gYX0pLmdldE9yKCIiKTtpLmdldElubmVyPSEwO3ZhciBhLHUscyxjLGwsZixkLG0sZz0odT1pLHM9KGE9ZSkuc2VsZWN0aW9uLmdldFJuZygpLGM9YS5kb20uY3JlYXRlKCJib2R5IiksbD1hLnNlbGVjdGlvbi5nZXRTZWwoKSxmPUVkKGEsQWwobCkpLChkPXUuY29udGV4dHVhbD9uaChFdC5mcm9tRG9tKGEuZ2V0Qm9keSgpKSxmKS5kb206cy5jbG9uZUNvbnRlbnRzKCkpJiZjLmFwcGVuZENoaWxkKGQpLGEuc2VsZWN0aW9uLnNlcmlhbGl6ZXIuc2VyaWFsaXplKGMsdSkpO3JldHVybiJ0cmVlIj09PWkuZm9ybWF0P2c6KGkuY29udGVudD1lLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyIiOmcsZS5maXJlKCJHZXRDb250ZW50IixpKSxpLmNvbnRlbnQpfShjLGUsdCl9fSxyYXc6e2dldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHZlLm5vbmUoKX19fX1mdW5jdGlvbiBoaChlKXtyZXR1cm4gRWUoZS5wbHVnaW5zLCJydGMiKX1mdW5jdGlvbiB2aChlKXt2YXIgdT1lO3JldHVybiB1ZShlLnBsdWdpbnMsInJ0YyIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHZlLmZyb20oZS5zZXR1cCl9KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHUucnRjSW5zdGFuY2U9cGgoZSksdmUubm9uZSgpfSxmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiB1LnJ0Y0luc3RhbmNlPSh0PUoobnVsbCksbj1KKCIiKSx7dW5kb01hbmFnZXI6e2JlZm9yZUNoYW5nZTp0ZSxhZGQ6dCx1bmRvOnQscmVkbzp0LGNsZWFyOnRlLHJlc2V0OnRlLGhhc1VuZG86RCxoYXNSZWRvOkQsdHJhbnNhY3Q6dCxpZ25vcmU6dGUsZXh0cmE6dGV9LGZvcm1hdHRlcjp7bWF0Y2g6RCxtYXRjaEFsbDpKKFtdKSxtYXRjaE5vZGU6Sih2b2lkIDApLGNhbkFwcGx5OkQsY2xvc2VzdDpuLGFwcGx5OnRlLHJlbW92ZTp0ZSx0b2dnbGU6dGUsZm9ybWF0Q2hhbmdlZDpKKHt1bmJpbmQ6dGV9KX0sZWRpdG9yOntnZXRDb250ZW50Om4sc2V0Q29udGVudDpuLGluc2VydENvbnRlbnQ6dGUsYWRkVmlzdWFsOnRlfSxzZWxlY3Rpb246e2dldENvbnRlbnQ6bn0scmF3OntnZXRNb2RlbDpKKHZlLm5vbmUoKSl9fSksdmUuc29tZShmdW5jdGlvbigpe3JldHVybiBlKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdS5ydGNJbnN0YW5jZT0oaT1lLnVuZG9NYW5hZ2VyLGE9ZS5mb3JtYXR0ZXIsbj1lLmVkaXRvcixyPWUuc2VsZWN0aW9uLHQ9ZS5yYXcse3VuZG9NYW5hZ2VyOntiZWZvcmVDaGFuZ2U6aS5iZWZvcmVDaGFuZ2UsYWRkOmkuYWRkLHVuZG86aS51bmRvLHJlZG86aS5yZWRvLGNsZWFyOmkuY2xlYXIscmVzZXQ6aS5yZXNldCxoYXNVbmRvOmkuaGFzVW5kbyxoYXNSZWRvOmkuaGFzUmVkbyx0cmFuc2FjdDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGkudHJhbnNhY3Qobil9LGlnbm9yZTpmdW5jdGlvbihlLHQpe3JldHVybiBpLmlnbm9yZSh0KX0sZXh0cmE6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGkuZXh0cmEobixyKX19LGZvcm1hdHRlcjp7bWF0Y2g6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGEubWF0Y2goZSxvKHQpLHIpfSxtYXRjaEFsbDphLm1hdGNoQWxsLG1hdGNoTm9kZTphLm1hdGNoTm9kZSxjYW5BcHBseTpmdW5jdGlvbihlKXtyZXR1cm4gYS5jYW5BcHBseShlKX0sY2xvc2VzdDpmdW5jdGlvbihlKXtyZXR1cm4gYS5jbG9zZXN0KGUpfSxhcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuYXBwbHkoZSxvKHQpKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBhLnJlbW92ZShlLG8odCkpfSx0b2dnbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLnRvZ2dsZShlLG8odCkpfSxmb3JtYXRDaGFuZ2VkOmZ1bmN0aW9uKGUsdCxuLHIsbyl7cmV0dXJuIGEuZm9ybWF0Q2hhbmdlZCh0LG4scixvKX19LGVkaXRvcjp7Z2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiBuLmdldENvbnRlbnQoZSl9LHNldENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5zZXRDb250ZW50KGUsdCl9LGluc2VydENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5pbnNlcnRDb250ZW50KGUpfSxhZGRWaXN1YWw6bi5hZGRWaXN1YWx9LHNlbGVjdGlvbjp7Z2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiByLmdldENvbnRlbnQodCl9fSxyYXc6e2dldE1vZGVsOmZ1bmN0aW9uKCl7cmV0dXJuIHZlLnNvbWUodC5nZXRSYXdNb2RlbCgpKX19fSksZS5ydGMuaXNSZW1vdGU7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gaChlKT9lOnt9fXZhciBpLGEsbixyLHR9KX0pfSl9ZnVuY3Rpb24gYmgoZSl7cmV0dXJuIGUucnRjSW5zdGFuY2V8fHBoKGUpfWZ1bmN0aW9uIHloKGUpe3ZhciB0PWUucnRjSW5zdGFuY2U7aWYodClyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBnZXQgUlRDIGluc3RhbmNlIG5vdCB5ZXQgaW5pdGlhbGl6ZWQuIil9ZnVuY3Rpb24gQ2goZSl7cmV0dXJuIDA9PT1lLmRvbS5sZW5ndGg/KEluKGUpLHZlLm5vbmUoKSk6dmUuc29tZShlKX1mdW5jdGlvbiB4aChlLHQsdSxzKXtlLmJpbmQoZnVuY3Rpb24oYSl7cmV0dXJuKHM/am06SG0pKGEuZG9tLHM/YS5kb20ubGVuZ3RoOjApLHQuZmlsdGVyKEFuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9dSxuPXMscj1hLmRvbSxvPWUuZG9tLGk9KG4/cjpvKS5sZW5ndGg7bj8oVm0ocixvLCExLCFuKSx0LnNldFN0YXJ0KG8saSkpOihWbShvLHIsITEsIW4pLHQuc2V0RW5kKG8saSkpfSl9KS5vclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9cztyZXR1cm4gdC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIEhsLmlzQm9va21hcmtOb2RlKGUuZG9tKX0pLmJpbmQoZT9QdDpCdCkub3IodCkuZmlsdGVyKEFuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIG4scj1zO090KG49ZSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLmRvbTtyJiZCbShlLGNzKHQsMCkpP0htKHQsMCk6IXImJlBtKGUsY3ModCx0Lmxlbmd0aCkpJiZqbSh0LHQubGVuZ3RoKX0pfSl9KX1mdW5jdGlvbiB3aChlLHQsbil7dmFyIHIsbz0ocj10LF9lKF9lKHtmb3JtYXQ6Imh0bWwifSxuPXZvaWQgMD09PW4/e306bikse3NldDohMCxzZWxlY3Rpb246ITAsY29udGVudDpyfSkpLGk9bztpZighby5ub19ldmVudHMpe3ZhciBhPWUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsbyk7aWYoYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gdm9pZCBlLmZpcmUoIlNldENvbnRlbnQiLGEpO2k9YX1pLmNvbnRlbnQ9ZnVuY3Rpb24oZSx0KXtpZigicmF3Ij09PXQuZm9ybWF0KXJldHVybiB0LmNvbnRlbnQ7dmFyIG49ZS5zZWxlY3Rpb24uZ2V0Um5nKCkscj1lLmRvbS5nZXRQYXJlbnQobi5jb21tb25BbmNlc3RvckNvbnRhaW5lcixlLmRvbS5pc0Jsb2NrKSxvPXI/e2NvbnRleHQ6ci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfTp7fSxpPWUucGFyc2VyLnBhcnNlKHQuY29udGVudCxfZShfZSh7aXNSb290Q29udGVudDohMCxmb3JjZWRfcm9vdF9ibG9jazohMX0sbyksdCkpO3JldHVybiBybSh7dmFsaWRhdGU6ZS52YWxpZGF0ZX0sZS5zY2hlbWEpLnNlcmlhbGl6ZShpKX0oZSxpKTt2YXIgdT1lLnNlbGVjdGlvbi5nZXRSbmcoKTshZnVuY3Rpb24oZSx0KXt2YXIgbj12ZS5mcm9tKHQuZmlyc3RDaGlsZCkubWFwKEV0LmZyb21Eb20pLHI9dmUuZnJvbSh0Lmxhc3RDaGlsZCkubWFwKEV0LmZyb21Eb20pO2UuZGVsZXRlQ29udGVudHMoKSxlLmluc2VydE5vZGUodCk7dmFyIG89bi5iaW5kKEJ0KS5maWx0ZXIoQW4pLmJpbmQoQ2gpLGk9ci5iaW5kKFB0KS5maWx0ZXIoQW4pLmJpbmQoQ2gpO3hoKG8sbixlLCEwKSx4aChpLHIsZSwhMSksZS5jb2xsYXBzZSghMSl9KHUsdS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaS5jb250ZW50KSksZS5zZWxlY3Rpb24uc2V0Um5nKHUpLG5kKGUsdSksaS5ub19ldmVudHN8fGUuZmlyZSgiU2V0Q29udGVudCIsaSl9ZnVuY3Rpb24gU2goZSx0LG4pe3ZhciByO2UmJkVlKGUsdCkmJigwPT09KHI9VShlW3RdLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pKS5sZW5ndGg/ZGVsZXRlIGVbdF06ZVt0XT1yKX1LZz1mdW5jdGlvbihlKXt2YXIgdCxuPWUuc2VsZWN0aW9uLmdldFJuZygpLHI9b24oWyJwcmUiXSk7bi5jb2xsYXBzZWR8fCh0PWUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCksTnAoU3AoU3AodCxyKSxmdW5jdGlvbihlKXtyZXR1cm4gcihlLnByZXZpb3VzU2libGluZykmJi0xIT09ZGUodCxlLnByZXZpb3VzU2libGluZyl9KSxmdW5jdGlvbihlKXt2YXIgdCxuPWUucHJldmlvdXNTaWJsaW5nO1lhKHQ9ZSkucmVtb3ZlKCksWWEobikuYXBwZW5kKCI8YnI+PGJyPiIpLmFwcGVuZCh0LmNoaWxkTm9kZXMpfSkpfSx3cFsicHJlIl18fCh3cC5wcmU9W10pLHdwLnByZS5wdXNoKEtnKTt2YXIgTmg9TnQuZWFjaCxFaD1mdW5jdGlvbihlLHQsbil7TmgoZS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe0VwKGUpJiYodChlKSYmbihlKSxlLmhhc0NoaWxkTm9kZXMoKSYmRWgoZSx0LG4pKX0pfSxraD1pcihbe2tlZXA6W119LHtyZW5hbWU6WyJuYW1lIl19LHtyZW1vdmVkOltdfV0pLF9oPS9eKHNyY3xocmVmfHN0eWxlKSQvLEFoPU50LmVhY2gsUmg9dWwsRGg9TnQuZWFjaCxUaD1OdC5lYWNoLE9oPWZ1bmN0aW9uKFMsTixFLHIpe2Z1bmN0aW9uIGsobixlKXt2YXIgdDt5KChlPXZvaWQgMD09PWU/QTplKS5vbmZvcm1hdCkmJmUub25mb3JtYXQobixlLEUsciksVGgoZS5zdHlsZXMsZnVuY3Rpb24oZSx0KXt1LnNldFN0eWxlKG4sdCxhbChlLEUpKX0pLCFlLnN0eWxlc3x8KHQ9dS5nZXRBdHRyaWIobiwic3R5bGUiKSkmJnUuc2V0QXR0cmliKG4sImRhdGEtbWNlLXN0eWxlIix0KSxUaChlLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSx0KXt1LnNldEF0dHJpYihuLHQsYWwoZSxFKSl9KSxUaChlLmNsYXNzZXMsZnVuY3Rpb24oZSl7ZT1hbChlLEUpLHUuaGFzQ2xhc3MobixlKXx8dS5hZGRDbGFzcyhuLGUpfSl9ZnVuY3Rpb24gZyhlLHQpe3ZhciBuPSExO3JldHVybiBUaChlLGZ1bmN0aW9uKGUpe3JldHVybiEhZ2woZSkmJihWKGUuY29sbGFwc2VkKSYmZS5jb2xsYXBzZWQhPT1hfHwhdS5pcyh0LGUuc2VsZWN0b3IpfHxWYyh0KT92b2lkIDA6KGsodCxlKSwhKG49ITApKSl9KSxufWZ1bmN0aW9uIG8oeCxlLGwpe3ZhciB3PVtdLGY9ITAsZD1BLmlubGluZXx8QS5ibG9jayxtPWZ1bmN0aW9uKGUpe2lmKFgoZSkpe3ZhciB0PXUuY3JlYXRlKGUpO3JldHVybiBrKHQpLHR9cmV0dXJuIG51bGx9KGQpO19sKHgsZSxmdW5jdGlvbihlKXt2YXIgcyxjPWZ1bmN0aW9uKGUpe3ZhciB0PSExLG49ZixyPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvPWUucGFyZW50Tm9kZSxpPW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihIbihlKSYmeC5nZXRDb250ZW50RWRpdGFibGUoZSkmJihuPWYsZj0idHJ1ZSI9PT14LmdldENvbnRlbnRFZGl0YWJsZShlKSx0PSEwKSxLbihlKSYmIWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUuZ2V0UGFyYW0oImZvcm1hdF9lbXB0eV9saW5lcyIsITEsImJvb2xlYW4iKSYmcGwodCkpe3ZhciBvPW5vKGUuc2NoZW1hKSxpPShhPUV0LmZyb21Eb20obikscz1mdW5jdGlvbihlKXtyZXR1cm4gVmMoZS5kb20pfSwoKGM9KHU9YSkuZG9tKS5wYXJlbnROb2RlP2tyKEV0LmZyb21Eb20oYy5wYXJlbnROb2RlKSxmdW5jdGlvbihlKXtyZXR1cm4hamUodSxlKSYmcyhlKX0pOnZlLm5vbmUoKSkuaXNTb21lKCkpO3JldHVybiBzZShvLHIpJiZLcihFdC5mcm9tRG9tKG4ucGFyZW50Tm9kZSksITEpJiYhaX12YXIgYSx1LHMsY30oUyxBLGUsaSkpcmV0dXJuIHM9bnVsbCx2b2lkKG1sKEEpJiZ4LnJlbW92ZShlKSk7aWYobWwoQSkmJkEud3JhcHBlciYmeXAoUyxlLE4sRSkpcz1udWxsO2Vsc2V7aWYoZiYmIXQmJm1sKEEpJiYhQS53cmFwcGVyJiZvbChTLHIpJiZpbChTLGksZCkpe3ZhciBhPXgucmVuYW1lKGUsZCk7cmV0dXJuIGsoYSksdy5wdXNoKGEpLHZvaWQocz1udWxsKX1pZihnbChBKSl7dmFyIHU9ZyhfLGUpO2lmKCF1JiZWKG8pJiZobChBKSYmKHU9ZyhfLG8pKSwhcGwoQSl8fHUpcmV0dXJuIHZvaWQocz1udWxsKX0hZnx8dHx8IWlsKFMsZCxyKXx8IWlsKFMsaSxkKXx8IWwmJlZuKGUpJiZObyhlLmRhdGEpfHxWYyhlKXx8cGwoQSkmJnguaXNCbG9jayhlKT8ocz1udWxsLFkoeGUoZS5jaGlsZE5vZGVzKSxjKSx0JiYoZj1uKSxzPW51bGwpOihzfHwocz14LmNsb25lKG0sITEpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocyxlKSx3LnB1c2gocykpLHMuYXBwZW5kQ2hpbGQoZSkpfX07WShlLGMpfSksITA9PT1BLmxpbmtzJiZZKHcsZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7IkEiPT09ZS5ub2RlTmFtZSYmayhlLEEpLFkoeGUoZS5jaGlsZE5vZGVzKSx0KX07dChlKX0pLFkodyxmdW5jdGlvbihlKXt2YXIgbix0LHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxnLHAsaCx2LGIseT0obj0wLFkoZS5jaGlsZE5vZGVzLGZ1bmN0aW9uKGUpe3ZhciB0O1YodD1lKSYmVm4odCkmJjA9PT10Lmxlbmd0aHx8UWMoZSl8fG4rK30pLG4pO2Z1bmN0aW9uIEMoZSl7dmFyIHQ7MT09PWUubm9kZVR5cGUmJmUucGFyZW50Tm9kZSYmMT09PWUucGFyZW50Tm9kZS5ub2RlVHlwZSYmKHQ9bGwobSxlLnBhcmVudE5vZGUpLG0uZ2V0U3R5bGUoZSwiY29sb3IiKSYmdD9tLnNldFN0eWxlKGUsInRleHQtZGVjb3JhdGlvbiIsdCk6bS5nZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iKT09PXQmJm0uc2V0U3R5bGUoZSwidGV4dC1kZWNvcmF0aW9uIixudWxsKSl9ISgxPHcubGVuZ3RoKSYmeC5pc0Jsb2NrKGUpfHwwIT09eT8ocGwoQSl8fG1sKEEpJiZBLndyYXBwZXIpJiYoQS5leGFjdHx8MSE9PXl8fChlPU0oKGQ9ZSkuY2hpbGROb2Rlcyx6cCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBQZyh4LGUsQSl9KS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9eC5jbG9uZShlLCExKTtyZXR1cm4gayh0KSx4LnJlcGxhY2UodCxkLCEwKSx4LnJlbW92ZShlLCEwKSx0fSkuZ2V0T3IoZCkpLGg9Uyx2PUUsYj1lLERoKF8sZnVuY3Rpb24odCl7dmFyIHIsZSxuO3BsKHQpJiZEaChoLmRvbS5zZWxlY3QodC5pbmxpbmUsYiksZnVuY3Rpb24oZSl7RXAoZSkmJkZwKGgsdCx2LGUsdC5leGFjdD9lOm51bGwpfSkscj1oLmRvbSwoZT10KS5jbGVhcl9jaGlsZF9zdHlsZXMmJihuPWUubGlua3M/Iio6bm90KGEpIjoiKiIsTmgoci5zZWxlY3QobixiKSxmdW5jdGlvbihuKXtFcChuKSYmTmgoZS5zdHlsZXMsZnVuY3Rpb24oZSx0KXtyLnNldFN0eWxlKG4sdCwiIil9KX0pKX0pLHM9QSx5cCh1PVMsKGY9ZSkucGFyZW50Tm9kZSxjPU4sbD1FKSYmRnAodSxzLGwsZil8fHMubWVyZ2Vfd2l0aF9wYXJlbnRzJiZ1LmRvbS5nZXRQYXJlbnQoZi5wYXJlbnROb2RlLGZ1bmN0aW9uKGUpe2lmKHlwKHUsZSxjLGwpKXJldHVybiBGcCh1LHMsbCxmKSwhMH0pLGE9ZSwoaT1BKS5zdHlsZXMmJmkuc3R5bGVzLmJhY2tncm91bmRDb2xvciYmRWgoYSxScCh4LCJmb250U2l6ZSIpLERwKHgsImJhY2tncm91bmRDb2xvciIsYWwoaS5zdHlsZXMuYmFja2dyb3VuZENvbG9yLEUpKSksbT14LHA9ZSwoZz1BKS5zdHlsZXMmJihnLnN0eWxlcy5jb2xvcnx8Zy5zdHlsZXMudGV4dERlY29yYXRpb24pJiYoTnQud2FsayhwLEMsImNoaWxkTm9kZXMiKSxDKHApKSx0PXgsbz1lLCFwbChyPUEpfHwic3ViIiE9PXIuaW5saW5lJiYic3VwIiE9PXIuaW5saW5lfHwoRWgobyxScCh0LCJmb250U2l6ZSIpLERwKHQsImZvbnRTaXplIiwiIikpLHQucmVtb3ZlKHQuc2VsZWN0KCJzdXAiPT09ci5pbmxpbmU/InN1YiI6InN1cCIsbyksITApKSxBcCh4LEEsMCxlKSk6eC5yZW1vdmUoZSwhMCl9KX12YXIgZSx0LG4saSxfPVMuZm9ybWF0dGVyLmdldChOKSxBPV9bMF0sYT0hciYmUy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSx1PVMuZG9tLHM9Uy5zZWxlY3Rpb247aWYoImZhbHNlIiE9PXUuZ2V0Q29udGVudEVkaXRhYmxlKHMuZ2V0Tm9kZSgpKSlBJiYocj90bChyKT9nKF8scil8fCgoZT11LmNyZWF0ZVJuZygpKS5zZXRTdGFydEJlZm9yZShyKSxlLnNldEVuZEFmdGVyKHIpLG8odSxrbChTLGUsXyksITApKTpvKHUsciwhMCk6YSYmcGwoQSkmJiFEbChTKS5sZW5ndGg/ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89ZS5zZWxlY3Rpb24saT1vLmdldFJuZygpLGE9aS5zdGFydE9mZnNldCx1PWkuc3RhcnRDb250YWluZXIubm9kZVZhbHVlLHM9cWMoZS5nZXRCb2R5KCksby5nZXRTdGFydCgpKTtzJiYocj1GZyhzKSk7dmFyIGMsbCxmLGQsbT0vW15cc1x1MDBhMFx1MDBhZFx1MjAwYlx1ZmVmZl0vO3UmJjA8YSYmYTx1Lmxlbmd0aCYmbS50ZXN0KHUuY2hhckF0KGEpKSYmbS50ZXN0KHUuY2hhckF0KGEtMSkpPyhjPW8uZ2V0Qm9va21hcmsoKSxpLmNvbGxhcHNlKCEwKSxsPVBmKGtsKGUsaSxlLmZvcm1hdHRlci5nZXQodCkpKSxlLmZvcm1hdHRlci5hcHBseSh0LG4sbCksby5tb3ZlVG9Cb29rbWFyayhjKSk6KHMmJnIubm9kZVZhbHVlPT09Q3B8fChmPWUuZ2V0RG9jKCksZD1VZyghMCkuZG9tLHI9KHM9Zi5pbXBvcnROb2RlKGQsITApKS5maXJzdENoaWxkLGkuaW5zZXJ0Tm9kZShzKSxhPTEpLGUuZm9ybWF0dGVyLmFwcGx5KHQsbixzKSxvLnNldEN1cnNvckxvY2F0aW9uKHIsYSkpfShTLE4sRSk6KHQ9cy5nZXROb2RlKCksbj1fWzBdLFMuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2t8fCFuLmRlZmF1bHRCbG9ja3x8dS5nZXRQYXJlbnQodCx1LmlzQmxvY2spfHxPaChTLG4uZGVmYXVsdEJsb2NrKSxzLnNldFJuZyhDZyhzLmdldFJuZygpKSksSWwocywhMCxmdW5jdGlvbigpe0xsKFMsZnVuY3Rpb24oZSx0KXt2YXIgbj10P2U6a2woUyxlLF8pO28odSxuLCExKX0pfSksbmwodSxzLHMuZ2V0Um5nKCkpLFMubm9kZUNoYW5nZWQoKSksaT1TLE5wKHdwW05dLGZ1bmN0aW9uKGUpe2UoaSl9KSkseGYoUyxOLHIsRSk7ZWxzZXtyPXMuZ2V0Tm9kZSgpO2Zvcih2YXIgYz0wLGw9Xy5sZW5ndGg7YzxsO2MrKyl7dmFyIGY9X1tjXTtpZihmLmNlRmFsc2VPdmVycmlkZSYmZ2woZikmJnUuaXMocixmLnNlbGVjdG9yKSl7ayhyLGYpO2JyZWFrfX14ZihTLE4scixFKX19LEJoPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbGVjdGlvbi5nZXRTdGFydCgpfSxQaD1mdW5jdGlvbihpLGEsZSl7dmFyIHU9VnAoaSxhKTtuZShlLGZ1bmN0aW9uKGUsbyl7ZnVuY3Rpb24gdChlKXt2YXIgdCxuPWpwKGksdSxvLGUuc2ltaWxhcixIcChlKT9lLnZhcnM6dm9pZCAwKSxyPW4uaXNTb21lKCk7ZS5zdGF0ZS5nZXQoKSE9PXImJihlLnN0YXRlLnNldChyKSx0PW4uZ2V0T3IoYSksSHAoZSk/ZS5jYWxsYmFjayhyLHtub2RlOnQsZm9ybWF0Om8scGFyZW50czp1fSk6WShlLmNhbGxiYWNrcyxmdW5jdGlvbihlKXtyZXR1cm4gZShyLHtub2RlOnQsZm9ybWF0Om8scGFyZW50czp1fSl9KSl9WShbZS53aXRoU2ltaWxhcixlLndpdGhvdXRTaW1pbGFyXSx0KSxZKGUud2l0aFZhcnMsdCl9KX0sTGg9UmUoZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ1bmRvIil9KTtmdW5jdGlvbiBJaChlKXtyZXR1cm4gZS5zZWxlY3R9ZnVuY3Rpb24gTWgoZSl7cmV0dXJuIGUmJmUub3duZXJEb2N1bWVudCYmVmUoRXQuZnJvbURvbShlLm93bmVyRG9jdW1lbnQpLEV0LmZyb21Eb20oZSkpfWZ1bmN0aW9uIEZoKGEsdSxlLHMpe2Z1bmN0aW9uIHQoZSx0KXtyZXR1cm4gd2gocyxlLHQpfWZ1bmN0aW9uIG4oKXt2YXIgZT1jKCksdD1udWxsPT1lP3ZvaWQgMDplLmFuY2hvck5vZGUsbj1udWxsPT1lP3ZvaWQgMDplLmZvY3VzTm9kZTtpZighZXx8IXR8fCFufHxybih0KXx8cm4obikpcmV0dXJuITA7dmFyIHI9YS5jcmVhdGVSbmcoKTtyLnNldFN0YXJ0KHQsZS5hbmNob3JPZmZzZXQpLHIuY29sbGFwc2UoITApO3ZhciBvPWEuY3JlYXRlUm5nKCk7cmV0dXJuIG8uc2V0U3RhcnQobixlLmZvY3VzT2Zmc2V0KSxvLmNvbGxhcHNlKCEwKSxyLmNvbXBhcmVCb3VuZGFyeVBvaW50cyhyLlNUQVJUX1RPX1NUQVJULG8pPD0wfWZ1bmN0aW9uIHIoZSl7dmFyIHQ9cCgpO3QuY29sbGFwc2UoISFlKSxoKHQpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gdS5nZXRTZWxlY3Rpb24/dS5nZXRTZWxlY3Rpb24oKTp1LmRvY3VtZW50LnNlbGVjdGlvbn12YXIgbCxmLG8saSxkLG0sZz1mdW5jdGlvbihlLHQpe3JldHVybiBkfHwoZD17fSxtPXt9LGkub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZWxlbWVudCxyPXgobiksbz17fTtOdC5lYWNoKGQsZnVuY3Rpb24oZSxuKXtDKG4scikuZWFjaChmdW5jdGlvbih0KXttW25dfHwoWShlLGZ1bmN0aW9uKGUpe2UoITAse25vZGU6dCxzZWxlY3RvcjpuLHBhcmVudHM6cn0pfSksbVtuXT1lKSxvW25dPWV9KX0pLE50LmVhY2gobSxmdW5jdGlvbihlLHQpe29bdF18fChkZWxldGUgbVt0XSxOdC5lYWNoKGUsZnVuY3Rpb24oZSl7ZSghMSx7bm9kZTpuLHNlbGVjdG9yOnQscGFyZW50czpyfSl9KSl9KX0pKSxkW2VdfHwoZFtlXT1bXSksZFtlXS5wdXNoKHQpLEMoZSx4KGkuc2VsZWN0aW9uLmdldFN0YXJ0KCkpKS5lYWNoKGZ1bmN0aW9uKCl7bVtlXT1kW2VdfSkse3VuYmluZDpmdW5jdGlvbigpe1NoKGQsZSx0KSxTaChtLGUsdCl9fX0scD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4pe3RyeXtyZXR1cm4gdC5jb21wYXJlQm91bmRhcnlQb2ludHMoZSxuKX1jYXRjaChlKXtyZXR1cm4tMX19dmFyIHQsbixyLG89dS5kb2N1bWVudDtpZih2b2lkIDAhPT1zLmJvb2ttYXJrJiYhMT09PUNkKHMpKXt2YXIgaT1tZChzKTtpZihpLmlzU29tZSgpKXJldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gRWQocyxbZV0pWzBdfSkuZ2V0T3Ioby5jcmVhdGVSYW5nZSgpKX10cnl7KHQ9YygpKSYmIXJuKHQuYW5jaG9yTm9kZSkmJihuPTA8dC5yYW5nZUNvdW50P3QuZ2V0UmFuZ2VBdCgwKToodC5jcmVhdGVSYW5nZT90Om8pLmNyZWF0ZVJhbmdlKCksbj1FZChzLFtuXSlbMF0pfWNhdGNoKGUpe31yZXR1cm4obj1ufHwoby5jcmVhdGVSYW5nZT9vLmNyZWF0ZVJhbmdlKCk6by5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpKSkuc2V0U3RhcnQmJjk9PT1uLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiZuLmNvbGxhcHNlZCYmKHI9YS5nZXRSb290KCksbi5zZXRTdGFydChyLDApLG4uc2V0RW5kKHIsMCkpLGwmJmYmJigwPT09ZShuLlNUQVJUX1RPX1NUQVJULG4sbCkmJjA9PT1lKG4uRU5EX1RPX0VORCxuLGwpP249ZjpmPWw9bnVsbCksbn0saD1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKChyPWUpJiYoSWgocil8fE1oKHIuc3RhcnRDb250YWluZXIpJiZNaChyLmVuZENvbnRhaW5lcikpKXt2YXIgcixvPUloKGUpP2U6bnVsbDtpZihvKXtmPW51bGw7dHJ5e28uc2VsZWN0KCl9Y2F0Y2goZSl7fX1lbHNle3ZhciBpPWMoKTtpZihlPXMuZmlyZSgiU2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplLGZvcndhcmQ6dH0pLnJhbmdlLGkpe2Y9ZTt0cnl7aS5yZW1vdmVBbGxSYW5nZXMoKSxpLmFkZFJhbmdlKGUpfWNhdGNoKGUpe30hMT09PXQmJmkuZXh0ZW5kJiYoaS5jb2xsYXBzZShlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCksaS5leHRlbmQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSksbD0wPGkucmFuZ2VDb3VudD9pLmdldFJhbmdlQXQoMCk6bnVsbH1lLmNvbGxhcHNlZHx8ZS5zdGFydENvbnRhaW5lciE9PWUuZW5kQ29udGFpbmVyfHwhaS5zZXRCYXNlQW5kRXh0ZW50fHx4dC5pZXx8ZS5lbmRPZmZzZXQtZS5zdGFydE9mZnNldDwyJiZlLnN0YXJ0Q29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSYmKG49ZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW2Uuc3RhcnRPZmZzZXRdKSYmIklNRyI9PT1uLnRhZ05hbWUmJihpLnNldEJhc2VBbmRFeHRlbnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0LGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSxpLmFuY2hvck5vZGU9PT1lLnN0YXJ0Q29udGFpbmVyJiZpLmZvY3VzTm9kZT09PWUuZW5kQ29udGFpbmVyfHxpLnNldEJhc2VBbmRFeHRlbnQobiwwLG4sMSkpLHMuZmlyZSgiQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZSIse3JhbmdlOmUsZm9yd2FyZDp0fSl9fX0sdj17Ym9va21hcmtNYW5hZ2VyOm51bGwsY29udHJvbFNlbGVjdGlvbjpudWxsLGRvbTpvPWEsd2luOnUsc2VyaWFsaXplcjplLGVkaXRvcjppPXMsY29sbGFwc2U6cixzZXRDdXJzb3JMb2NhdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPWEuY3JlYXRlUm5nKCk7VihlKSYmVih0KT8obi5zZXRTdGFydChlLHQpLG4uc2V0RW5kKGUsdCksaChuKSxyKCExKSk6KEJsKGEsbixzLmdldEJvZHkoKSwhMCksaChuKSl9LGdldENvbnRlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG49KHQ9dm9pZCAwPT09KHQ9ZSk/e306dCkuZm9ybWF0fHwiaHRtbCIscj10LHloKHMpLnNlbGVjdGlvbi5nZXRDb250ZW50KG4scik7dmFyIHQsbixyfSxzZXRDb250ZW50OnQsZ2V0Qm9va21hcms6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYi5nZXRCb29rbWFyayhlLHQpfSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihlKXtyZXR1cm4gYi5tb3ZlVG9Cb29rbWFyayhlKX0sc2VsZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9YSxvPXQ7cmV0dXJuIHZlLmZyb20oZSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXIubm9kZUluZGV4KGUpLG49ci5jcmVhdGVSbmcoKTtyZXR1cm4gbi5zZXRTdGFydChlLnBhcmVudE5vZGUsdCksbi5zZXRFbmQoZS5wYXJlbnROb2RlLHQrMSksbyYmKEJsKHIsbixlLCEwKSxCbChyLG4sZSwhMSkpLG59KS5lYWNoKGgpLGV9LGlzQ29sbGFwc2VkOmZ1bmN0aW9uKCl7dmFyIGU9cCgpLHQ9YygpO3JldHVybiEoIWV8fGUuaXRlbSkmJihlLmNvbXBhcmVFbmRQb2ludHM/MD09PWUuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsZSk6IXR8fGUuY29sbGFwc2VkKX0saXNGb3J3YXJkOm4sc2V0Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gdChhLmdldE91dGVySFRNTChlKSksZX0sZ2V0Tm9kZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiBlO3ZhciBuPXQuc3RhcnRDb250YWluZXIscj10LmVuZENvbnRhaW5lcixvPXQuc3RhcnRPZmZzZXQsaT10LmVuZE9mZnNldCxhPXQuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIXQuY29sbGFwc2VkJiYobj09PXImJmktbzwyJiZuLmhhc0NoaWxkTm9kZXMoKSYmKGE9bi5jaGlsZE5vZGVzW29dKSwzPT09bi5ub2RlVHlwZSYmMz09PXIubm9kZVR5cGUmJihuPW4ubGVuZ3RoPT09bz9OZChuLm5leHRTaWJsaW5nLCEwKTpuLnBhcmVudE5vZGUscj0wPT09aT9OZChyLnByZXZpb3VzU2libGluZywhMSk6ci5wYXJlbnROb2RlLG4mJm49PT1yKSk/bjphJiYzPT09YS5ub2RlVHlwZT9hLnBhcmVudE5vZGU6YX0ocy5nZXRCb2R5KCkscCgpKX0sZ2V0U2VsOmMsc2V0Um5nOmgsZ2V0Um5nOnAsZ2V0U3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdkKHMuZ2V0Qm9keSgpLHAoKSxlKX0sZ2V0RW5kOmZ1bmN0aW9uKGUpe3JldHVybiBTZChzLmdldEJvZHkoKSxwKCksZSl9LGdldFNlbGVjdGVkQmxvY2tzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPVtdLGk9ZS5nZXRSb290KCk7aWYobj1lLmdldFBhcmVudChufHx3ZChpLHQsdC5jb2xsYXBzZWQpLGUuaXNCbG9jaykscj1lLmdldFBhcmVudChyfHxTZChpLHQsdC5jb2xsYXBzZWQpLGUuaXNCbG9jayksbiYmbiE9PWkmJm8ucHVzaChuKSxuJiZyJiZuIT09cilmb3IodmFyIGEsdT1uZXcgRHIobixpKTsoYT11Lm5leHQoKSkmJmEhPT1yOyllLmlzQmxvY2soYSkmJm8ucHVzaChhKTtyZXR1cm4gciYmbiE9PXImJnIhPT1pJiZvLnB1c2gociksb30oYSxwKCksZSx0KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7dmFyIGU9cCgpO2lmKDE8QWwoYygpKS5sZW5ndGh8fCFQbChzKSlyZXR1cm4gZTt2YXIgdD1PZihhLGUpO3JldHVybiB0LmVhY2goZnVuY3Rpb24oZSl7aChlLG4oKSl9KSx0LmdldE9yKGUpfSxzZWxlY3RvckNoYW5nZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZyhlLHQpLHZ9LHNlbGVjdG9yQ2hhbmdlZFdpdGhVbmJpbmQ6ZyxnZXRTY3JvbGxDb250YWluZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1hLmdldFJvb3QoKTt0JiYiQk9EWSIhPT10Lm5vZGVOYW1lOyl7aWYodC5zY3JvbGxIZWlnaHQ+dC5jbGllbnRIZWlnaHQpe2U9dDticmVha310PXQucGFyZW50Tm9kZX1yZXR1cm4gZX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oZSx0KXtWKGUpPyhzLmlubGluZT9aZjp0ZCkocyxlLHQpOm5kKHMscCgpLHQpfSxwbGFjZUNhcmV0QXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaChFZihlLHQscy5nZXREb2MoKSkpfSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgZT1wKCk7cmV0dXJuIGUuY29sbGFwc2VkP2NzLmZyb21SYW5nZVN0YXJ0KGUpLmdldENsaWVudFJlY3RzKClbMF06ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0sZGVzdHJveTpmdW5jdGlvbigpe3U9bD1mPW51bGwseS5kZXN0cm95KCl9fSxiPUhsKHYpLHk9U2YodixzKTtmdW5jdGlvbiBDKHQsZSl7cmV0dXJuIE0oZSxmdW5jdGlvbihlKXtyZXR1cm4gby5pcyhlLHQpfSl9ZnVuY3Rpb24geChlKXtyZXR1cm4gby5nZXRQYXJlbnRzKGUsbnVsbCxvLmdldFJvb3QoKSl9cmV0dXJuIHYuYm9va21hcmtNYW5hZ2VyPWIsdi5jb250cm9sU2VsZWN0aW9uPXksdn1mdW5jdGlvbiBVaChlLHQpe3ZhciBuLHIsYSx1LG89YW8oKTt0LmNvbnZlcnRfZm9udHNfdG9fc3BhbnMmJihyPWUsYT1vLHU9TnQuZXhwbG9kZSh0LmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzKSxyLmFkZE5vZGVGaWx0ZXIoImZvbnQiLGZ1bmN0aW9uKGUpe1koZSxmdW5jdGlvbihlKXt2YXIgdCxuPWEucGFyc2UoZS5hdHRyKCJzdHlsZSIpKSxyPWUuYXR0cigiY29sb3IiKSxvPWUuYXR0cigiZmFjZSIpLGk9ZS5hdHRyKCJzaXplIik7ciYmKG4uY29sb3I9ciksbyYmKG5bImZvbnQtZmFtaWx5Il09byksaSYmKG5bImZvbnQtc2l6ZSJdPXVbcGFyc2VJbnQoZS5hdHRyKCJzaXplIiksMTApLTFdKSxlLm5hbWU9InNwYW4iLGUuYXR0cigic3R5bGUiLGEuc2VyaWFsaXplKG4pKSx0PWUsWShbImNvbG9yIiwiZmFjZSIsInNpemUiXSxmdW5jdGlvbihlKXt0LmF0dHIoZSxudWxsKX0pfSl9KSksbj1vLGUuYWRkTm9kZUZpbHRlcigic3RyaWtlIixmdW5jdGlvbihlKXtZKGUsZnVuY3Rpb24oZSl7dmFyIHQ9bi5wYXJzZShlLmF0dHIoInN0eWxlIikpO3RbInRleHQtZGVjb3JhdGlvbiJdPSJsaW5lLXRocm91Z2giLGUubmFtZT0ic3BhbiIsZS5hdHRyKCJzdHlsZSIsbi5zZXJpYWxpemUodCkpfSl9KX1mdW5jdGlvbiB6aChlKXt2YXIgdCxuPWRlY29kZVVSSUNvbXBvbmVudChlKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhuWzBdKTtyZXR1cm57dHlwZTp0PXI/clsxXTp0LGRhdGE6blsxXX19ZnVuY3Rpb24gSGgoZSx0KXt2YXIgbjt0cnl7bj1hdG9iKHQpfWNhdGNoKGUpe3JldHVybiB2ZS5ub25lKCl9Zm9yKHZhciByPW5ldyBVaW50OEFycmF5KG4ubGVuZ3RoKSxvPTA7bzxyLmxlbmd0aDtvKyspcltvXT1uLmNoYXJDb2RlQXQobyk7cmV0dXJuIHZlLnNvbWUobmV3IEJsb2IoW3JdLHt0eXBlOmV9KSl9ZnVuY3Rpb24gamgoZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoImJsb2I6Iik/KG89ZSxuZXcgX3IoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dCgiQ2Fubm90IGNvbnZlcnQgIitvKyIgdG8gQmxvYi4gUmVzb3VyY2UgbWlnaHQgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZS4iKX10cnl7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub3BlbigiR0VUIixvLCEwKSxyLnJlc3BvbnNlVHlwZT0iYmxvYiIsci5vbmxvYWQ9ZnVuY3Rpb24oKXsyMDA9PT1yLnN0YXR1cz9lKHIucmVzcG9uc2UpOm4oKX0sci5vbmVycm9yPW4sci5zZW5kKCl9Y2F0Y2goZSl7bigpfX0pKTowPT09ZS5pbmRleE9mKCJkYXRhOiIpPyhuPWUsbmV3IF9yKGZ1bmN0aW9uKGUpe3ZhciB0PXpoKG4pO0hoKHQudHlwZSx0LmRhdGEpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gZShuZXcgQmxvYihbXSkpfSxlKX0pKTpudWxsO3ZhciBvLG59ZnVuY3Rpb24gVmgoZSl7cmV0dXJuKGV8fCJibG9iaWQiKStZaCsrfWZ1bmN0aW9uIHFoKHIsZCl7dmFyIG89e307cmV0dXJue2ZpbmRBbGw6ZnVuY3Rpb24oZSxuKXtuPW58fHc7dmFyIHQ9QShVKGU/eGUoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIikpOltdLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3JjO3JldHVybiB4dC5maWxlQXBpJiYhZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJiFlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKSYmdCYmdCE9PXh0LnRyYW5zcGFyZW50U3JjJiYoMD09PXQuaW5kZXhPZigiYmxvYjoiKT8hci5pc1VwbG9hZGVkKHQpJiZuKGUpOjA9PT10LmluZGV4T2YoImRhdGE6IikmJm4oZSkpfSksZnVuY3Rpb24oZil7aWYodm9pZCAwIT09b1tmLnNyY10pcmV0dXJuIG5ldyBfcihmdW5jdGlvbih0KXtvW2Yuc3JjXS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lOnZvaWQgdCh7aW1hZ2U6ZixibG9iSW5mbzplLmJsb2JJbmZvfSl9KX0pO3ZhciBlPW5ldyBfcihmdW5jdGlvbihlLHQpe3ZhciByLG8saSxuLGEsdSxzLGMsbDtyPWQsaT1lLG49dCwwIT09KG89Zikuc3JjLmluZGV4T2YoImJsb2I6Iik/KHU9KGE9emgoby5zcmMpKS5kYXRhLHM9YS50eXBlLGM9dSwobD1yLmdldEJ5RGF0YShjLHMpKT9pKHtpbWFnZTpvLGJsb2JJbmZvOmx9KTpqaChvLnNyYykudGhlbihmdW5jdGlvbihlKXtsPXIuY3JlYXRlKFZoKCksZSxjKSxyLmFkZChsKSxpKHtpbWFnZTpvLGJsb2JJbmZvOmx9KX0sZnVuY3Rpb24oZSl7bihlKX0pKToobD1yLmdldEJ5VXJpKG8uc3JjKSk/aSh7aW1hZ2U6byxibG9iSW5mbzpsfSk6amgoby5zcmMpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG49dDtuZXcgX3IoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEZpbGVSZWFkZXI7dC5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtlKHQucmVzdWx0KX0sdC5yZWFkQXNEYXRhVVJMKG4pfSkudGhlbihmdW5jdGlvbihlKXtjPXpoKGUpLmRhdGEsbD1yLmNyZWF0ZShWaCgpLHQsYyksci5hZGQobCksaSh7aW1hZ2U6byxibG9iSW5mbzpsfSl9KX0sZnVuY3Rpb24oZSl7bihlKX0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIG9bZS5pbWFnZS5zcmNdLGV9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIG9bZi5zcmNdLGV9KTtyZXR1cm4gb1tmLnNyY109ZX0pO3JldHVybiBfci5hbGwodCl9fX1mdW5jdGlvbiAkaChlLHQpe3JldHVybiBlLnJlcGxhY2UodC5yZSxmdW5jdGlvbihlKXtyZXR1cm4gdWUodC51cmlzLGUpLmdldE9yKGUpfSl9ZnVuY3Rpb24gV2goZSx0LG4scil7KGUucGFkZF9lbXB0eV93aXRoX2JyfHx0Lmluc2VydCkmJm5bci5uYW1lXT9yLmVtcHR5KCkuYXBwZW5kKG5ldyBqZCgiYnIiLDEpKS5zaG9ydEVuZGVkPSEwOnIuZW1wdHkoKS5hcHBlbmQobmV3IGpkKCIjdGV4dCIsMykpLnZhbHVlPXdvfWZ1bmN0aW9uIEtoKG4sZSx0LHIpe3JldHVybiByLmlzRW1wdHkoZSx0LGZ1bmN0aW9uKGUpe3JldHVybih0PW4uZ2V0RWxlbWVudFJ1bGUoZS5uYW1lKSkmJnQucGFkZEVtcHR5O3ZhciB0fSl9ZnVuY3Rpb24gWGgoZSxwKXt2YXIgdCxvLGksaD1lLnNjaGVtYTtmdW5jdGlvbiBuKHQpe3ZhciBlLG4scj10LmF0dHIoInNyYyIpOyhlPXQpLmF0dHIoInNyYyIpPT09eHQudHJhbnNwYXJlbnRTcmN8fFYoZS5hdHRyKCJkYXRhLW1jZS1wbGFjZWhvbGRlciIpKXx8Vih0LmF0dHIoImRhdGEtbWNlLWJvZ3VzIikpfHwoKG49L2RhdGE6KFteO10rKTtiYXNlNjQsKFthLXowLTlcK1wvPVxzXSspL2kuZXhlYyhyKSk/dmUuc29tZSh7dHlwZTpuWzFdLGRhdGE6ZGVjb2RlVVJJQ29tcG9uZW50KG5bMl0pfSk6dmUubm9uZSgpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih0LmltYWdlc19kYXRhaW1nX2ZpbHRlcil7dmFyIG49bmV3IEltYWdlO3JldHVybiBuLnNyYz1lLmF0dHIoInNyYyIpLG5lKGUuYXR0cmlidXRlcy5tYXAsZnVuY3Rpb24oZSx0KXtuLnNldEF0dHJpYnV0ZSh0LGUpfSksdC5pbWFnZXNfZGF0YWltZ19maWx0ZXIobil9cmV0dXJuITB9KHQsbyl9KS5iaW5kKGZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZSxuPWUuZGF0YTtyZXR1cm4gdmUuZnJvbShpLmdldEJ5RGF0YShuLHQpKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIEhoKHQsbikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWkuY3JlYXRlKFZoKCksZSxuKTtyZXR1cm4gaS5hZGQodCksdH0pfSl9KS5lYWNoKGZ1bmN0aW9uKGUpe3QuYXR0cigic3JjIixlLmJsb2JVcmkoKSl9KX1wLnJlbW92ZV90cmFpbGluZ19icnMmJmUuYWRkTm9kZUZpbHRlcigiYnIiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsLGY9ZS5sZW5ndGgsZD1OdC5leHRlbmQoe30saC5nZXRCbG9ja0VsZW1lbnRzKCkpLG09aC5nZXROb25FbXB0eUVsZW1lbnRzKCksZz1oLmdldFdoaXRlU3BhY2VFbGVtZW50cygpO2ZvcihkLmJvZHk9MSxyPTA7cjxmO3IrKylpZihpPShvPWVbcl0pLnBhcmVudCxkW28ucGFyZW50Lm5hbWVdJiZvPT09aS5sYXN0Q2hpbGQpe2Zvcih1PW8ucHJldjt1Oyl7aWYoInNwYW4iIT09KHM9dS5uYW1lKXx8ImJvb2ttYXJrIiE9PXUuYXR0cigiZGF0YS1tY2UtdHlwZSIpKXsiYnIiPT09cyYmKG89bnVsbCk7YnJlYWt9dT11LnByZXZ9byYmKG8ucmVtb3ZlKCksS2goaCxtLGcsaSkmJihjPWguZ2V0RWxlbWVudFJ1bGUoaS5uYW1lKSkmJihjLnJlbW92ZUVtcHR5P2kucmVtb3ZlKCk6Yy5wYWRkRW1wdHkmJldoKHAsbixkLGkpKSl9ZWxzZXtmb3IoYT1vO2kmJmkuZmlyc3RDaGlsZD09PWEmJmkubGFzdENoaWxkPT09YSYmIWRbKGE9aSkubmFtZV07KWk9aS5wYXJlbnQ7YT09PWkmJiEwIT09cC5wYWRkX2VtcHR5X3dpdGhfYnImJigobD1uZXcgamQoIiN0ZXh0IiwzKSkudmFsdWU9d28sby5yZXBsYWNlKGwpKX19KSxlLmFkZEF0dHJpYnV0ZUZpbHRlcigiaHJlZiIsZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUubGVuZ3RoO2lmKCFwLmFsbG93X3Vuc2FmZV9saW5rX3RhcmdldClmb3IoO3ItLTspe3ZhciBvPWVbcl07ImEiPT09by5uYW1lJiYiX2JsYW5rIj09PW8uYXR0cigidGFyZ2V0IikmJm8uYXR0cigicmVsIiwobj12b2lkIDAsbj0odD1vLmF0dHIoInJlbCIpKT9OdC50cmltKHQpOiIiLC9cYihub29wZW5lcilcYi9nLnRlc3Qobik/bjpuLnNwbGl0KCIgIikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSkuY29uY2F0KFsibm9vcGVuZXIiXSkuc29ydCgpLmpvaW4oIiAiKSkpfX0pLHAuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3J8fGUuYWRkQXR0cmlidXRlRmlsdGVyKCJpZCxuYW1lIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG8saT1lLmxlbmd0aDtpLS07KWlmKCJhIj09PShvPWVbaV0pLm5hbWUmJm8uZmlyc3RDaGlsZCYmIW8uYXR0cigiaHJlZiIpKWZvcihyPW8ucGFyZW50LHQ9by5sYXN0Q2hpbGQ7bj10LnByZXYsci5pbnNlcnQodCxvKSx0PW47KTt9KSxwLmZpeF9saXN0X2VsZW1lbnRzJiZlLmFkZE5vZGVGaWx0ZXIoInVsLG9sIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG89ZS5sZW5ndGg7by0tOykidWwiIT09KHI9KG49ZVtvXSkucGFyZW50KS5uYW1lJiYib2wiIT09ci5uYW1lfHwobi5wcmV2JiYibGkiPT09bi5wcmV2Lm5hbWU/bi5wcmV2LmFwcGVuZChuKTooKHQ9bmV3IGpkKCJsaSIsMSkpLmF0dHIoInN0eWxlIiwibGlzdC1zdHlsZS10eXBlOiBub25lIiksbi53cmFwKHQpKSl9KSxwLnZhbGlkYXRlJiZoLmdldFZhbGlkQ2xhc3NlcygpJiZlLmFkZEF0dHJpYnV0ZUZpbHRlcigiY2xhc3MiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1oLmdldFZhbGlkQ2xhc3NlcygpLG49ZS5sZW5ndGg7bi0tOyl7Zm9yKHZhciByPWVbbl0sbz1yLmF0dHIoImNsYXNzIikuc3BsaXQoIiAiKSxpPSIiLGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHU9b1thXSxzPSExLGM9dFsiKiJdO2MmJmNbdV0mJihzPSEwKSxjPXRbci5uYW1lXSwocz0hKHN8fCFjfHwhY1t1XSl8fHMpJiYoaSYmKGkrPSIgIiksaSs9dSl9aS5sZW5ndGh8fChpPW51bGwpLHIuYXR0cigiY2xhc3MiLGkpfX0pLHQ9ZSwoaT0obz1wKS5ibG9iX2NhY2hlKSYmdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoInNyYyIsZnVuY3Rpb24oZSl7cmV0dXJuIFkoZSxuKX0pfXZhciBZaD0wLEdoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUuZmlyc3RDaGlsZCYmZS5maXJzdENoaWxkPT09ZS5sYXN0Q2hpbGQmJmUuZmlyc3RDaGlsZC5uYW1lPT09dH0sSmg9TnQuZWFjaCxRaD1OdC50cmltLFpoPSJzb3VyY2UgcHJvdG9jb2wgYXV0aG9yaXR5IHVzZXJJbmZvIHVzZXIgcGFzc3dvcmQgaG9zdCBwb3J0IHJlbGF0aXZlIHBhdGggZGlyZWN0b3J5IGZpbGUgcXVlcnkgYW5jaG9yIi5zcGxpdCgiICIpLGV2PXtmdHA6MjEsaHR0cDo4MCxodHRwczo0NDMsbWFpbHRvOjI1fSx0dj1bImltZyIsInZpZGVvIl0sbnY9KHJ2LnBhcnNlRGF0YVVyaT1mdW5jdGlvbihlKXt2YXIgdCxuPWRlY29kZVVSSUNvbXBvbmVudChlKS5zcGxpdCgiLCIpLHI9L2RhdGE6KFteO10rKS8uZXhlYyhuWzBdKTtyZXR1cm57dHlwZTp0PXI/clsxXTp0LGRhdGE6blsxXX19LHJ2LmlzRG9tU2FmZT1mdW5jdGlvbihlLHQsbil7aWYoKG49dm9pZCAwPT09bj97fTpuKS5hbGxvd19zY3JpcHRfdXJscylyZXR1cm4hMDt2YXIgcixvLGksYSx1PVpvLmRlY29kZShlKS5yZXBsYWNlKC9bXHNcdTAwMDAtXHUwMDFGXSsvZywiIik7dHJ5e3U9ZGVjb2RlVVJJQ29tcG9uZW50KHUpfWNhdGNoKGUpe3U9dW5lc2NhcGUodSl9cmV0dXJuISgvKChqYXZhfHZiKXNjcmlwdHxtaHRtbCk6L2kudGVzdCh1KXx8KG89dSxpPXQsIShyPW4pLmFsbG93X2h0bWxfZGF0YV91cmxzJiYoL15kYXRhOmltYWdlXC8vaS50ZXN0KG8pPyhWKGE9ci5hbGxvd19zdmdfZGF0YV91cmxzKT8hYTohVihpKXx8IVQodHYsaSkpJiYvXmRhdGE6aW1hZ2VcL3N2Z1wreG1sL2kudGVzdChvKTovXmRhdGE6L2kudGVzdChvKSkpKX0scnYuZ2V0RG9jdW1lbnRCYXNlVXJsPWZ1bmN0aW9uKGUpe3ZhciB0PTAhPT1lLnByb3RvY29sLmluZGV4T2YoImh0dHAiKSYmImZpbGU6IiE9PWUucHJvdG9jb2w/ZS5ocmVmOmUucHJvdG9jb2wrIi8vIitlLmhvc3QrZS5wYXRobmFtZTtyZXR1cm4vXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdCh0KSYmKHQ9dC5yZXBsYWNlKC9bXD8jXS4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCIiKSwvW1wvXFxdJC8udGVzdCh0KXx8KHQrPSIvIikpLHR9LHJ2LnByb3RvdHlwZS5zZXRQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PS9eKC4qPylcLz8oXHcrKT8kLy5leGVjKGUpO3RoaXMucGF0aD10WzBdLHRoaXMuZGlyZWN0b3J5PXRbMV0sdGhpcy5maWxlPXRbMl0sdGhpcy5zb3VyY2U9IiIsdGhpcy5nZXRVUkkoKX0scnYucHJvdG90eXBlLnRvUmVsYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIi4vIj09PWUpcmV0dXJuIGU7dmFyIG49bmV3IHJ2KGUse2Jhc2VfdXJpOnRoaXN9KTtpZigibWNlX2hvc3QiIT09bi5ob3N0JiZ0aGlzLmhvc3QhPT1uLmhvc3QmJm4uaG9zdHx8dGhpcy5wb3J0IT09bi5wb3J0fHx0aGlzLnByb3RvY29sIT09bi5wcm90b2NvbCYmIiIhPT1uLnByb3RvY29sKXJldHVybiBuLmdldFVSSSgpO3ZhciByPXRoaXMuZ2V0VVJJKCksbz1uLmdldFVSSSgpO3JldHVybiByPT09b3x8Ii8iPT09ci5jaGFyQXQoci5sZW5ndGgtMSkmJnIuc3Vic3RyKDAsci5sZW5ndGgtMSk9PT1vP3I6KHQ9dGhpcy50b1JlbFBhdGgodGhpcy5wYXRoLG4ucGF0aCksbi5xdWVyeSYmKHQrPSI/IituLnF1ZXJ5KSxuLmFuY2hvciYmKHQrPSIjIituLmFuY2hvciksdCl9LHJ2LnByb3RvdHlwZS50b0Fic29sdXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHJ2KGUse2Jhc2VfdXJpOnRoaXN9KTtyZXR1cm4gbi5nZXRVUkkodCYmdGhpcy5pc1NhbWVPcmlnaW4obikpfSxydi5wcm90b3R5cGUuaXNTYW1lT3JpZ2luPWZ1bmN0aW9uKGUpe2lmKHRoaXMuaG9zdD09ZS5ob3N0JiZ0aGlzLnByb3RvY29sPT1lLnByb3RvY29sKXtpZih0aGlzLnBvcnQ9PWUucG9ydClyZXR1cm4hMDt2YXIgdD1ldlt0aGlzLnByb3RvY29sXTtpZih0JiYodGhpcy5wb3J0fHx0KT09KGUucG9ydHx8dCkpcmV0dXJuITB9cmV0dXJuITF9LHJ2LnByb3RvdHlwZS50b1JlbFBhdGg9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89MCxpPSIiLGE9ZS5zdWJzdHJpbmcoMCxlLmxhc3RJbmRleE9mKCIvIikpLnNwbGl0KCIvIiksdT10LnNwbGl0KCIvIik7aWYoYS5sZW5ndGg+PXUubGVuZ3RoKWZvcihuPTAscj1hLmxlbmd0aDtuPHI7bisrKWlmKG4+PXUubGVuZ3RofHxhW25dIT09dVtuXSl7bz1uKzE7YnJlYWt9aWYoYS5sZW5ndGg8dS5sZW5ndGgpZm9yKG49MCxyPXUubGVuZ3RoO248cjtuKyspaWYobj49YS5sZW5ndGh8fGFbbl0hPT11W25dKXtvPW4rMTticmVha31pZigxPT09bylyZXR1cm4gdDtmb3Iobj0wLHI9YS5sZW5ndGgtKG8tMSk7bjxyO24rKylpKz0iLi4vIjtmb3Iobj1vLTEscj11Lmxlbmd0aDtuPHI7bisrKWkrPW4hPT1vLTE/Ii8iK3Vbbl06dVtuXTtyZXR1cm4gaX0scnYucHJvdG90eXBlLnRvQWJzUGF0aD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz0wLGk9W10sYT0vXC8kLy50ZXN0KHQpPyIvIjoiIix1PWUuc3BsaXQoIi8iKSxzPXQuc3BsaXQoIi8iKTtmb3IoSmgodSxmdW5jdGlvbihlKXtlJiZpLnB1c2goZSl9KSx1PWksbj1zLmxlbmd0aC0xLGk9W107MDw9bjtuLS0pMCE9PXNbbl0ubGVuZ3RoJiYiLiIhPT1zW25dJiYoIi4uIiE9PXNbbl0/MDxvP28tLTppLnB1c2goc1tuXSk6bysrKTtyZXR1cm4gMCE9PShyPShuPXUubGVuZ3RoLW8pPD0wP3EoaSkuam9pbigiLyIpOnUuc2xpY2UoMCxuKS5qb2luKCIvIikrIi8iK3EoaSkuam9pbigiLyIpKS5pbmRleE9mKCIvIikmJihyPSIvIityKSxhJiZyLmxhc3RJbmRleE9mKCIvIikhPT1yLmxlbmd0aC0xJiYocis9YSkscn0scnYucHJvdG90eXBlLmdldFVSST1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuc291cmNlJiYhZXx8KHQ9IiIsZXx8KHRoaXMucHJvdG9jb2w/dCs9dGhpcy5wcm90b2NvbCsiOi8vIjp0Kz0iLy8iLHRoaXMudXNlckluZm8mJih0Kz10aGlzLnVzZXJJbmZvKyJAIiksdGhpcy5ob3N0JiYodCs9dGhpcy5ob3N0KSx0aGlzLnBvcnQmJih0Kz0iOiIrdGhpcy5wb3J0KSksdGhpcy5wYXRoJiYodCs9dGhpcy5wYXRoKSx0aGlzLnF1ZXJ5JiYodCs9Ij8iK3RoaXMucXVlcnkpLHRoaXMuYW5jaG9yJiYodCs9IiMiK3RoaXMuYW5jaG9yKSx0aGlzLnNvdXJjZT10KSx0aGlzLnNvdXJjZX0scnYpO2Z1bmN0aW9uIHJ2KGUsdCl7ZT1RaChlKSx0aGlzLnNldHRpbmdzPXR8fHt9O3ZhciBuLHIsbyxpLGE9dGhpcy5zZXR0aW5ncy5iYXNlX3VyaSx1PXRoaXM7L14oW1x3XC1dKyk6KFteXC9dezJ9KS9pLnRlc3QoZSl8fC9eXHMqIy8udGVzdChlKT91LnNvdXJjZT1lOihuPTA9PT1lLmluZGV4T2YoIi8vIiksMCE9PWUuaW5kZXhPZigiLyIpfHxufHwoZT0oYSYmYS5wcm90b2NvbHx8Imh0dHAiKSsiOi8vbWNlX2hvc3QiK2UpLC9eW1x3XC1dKjo/XC9cLy8udGVzdChlKXx8KHI9dGhpcy5zZXR0aW5ncy5iYXNlX3VyaT90aGlzLnNldHRpbmdzLmJhc2VfdXJpLnBhdGg6bmV3IHJ2KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpLmRpcmVjdG9yeSxlPXRoaXMuc2V0dGluZ3MuYmFzZV91cmkmJiIiPT10aGlzLnNldHRpbmdzLmJhc2VfdXJpLnByb3RvY29sPyIvL21jZV9ob3N0Iit1LnRvQWJzUGF0aChyLGUpOihvPS8oW14jP10qKShbIz9dPy4qKS8uZXhlYyhlKSwoYSYmYS5wcm90b2NvbHx8Imh0dHAiKSsiOi8vbWNlX2hvc3QiK3UudG9BYnNQYXRoKHIsb1sxXSkrb1syXSkpLGU9ZS5yZXBsYWNlKC9AQC9nLCIobWNlX2F0KSIpLGk9L14oPzooPyFbXjpAXSs6W146QFwvXSpAKShbXjpcLz8jLl0rKTopPyg/OlwvXC8pPygoPzooKFteOkBcL10qKTo/KFteOkBcL10qKSk/QCk/KFxbW2EtekEtWjAtOTouJV0rXF18W146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLy5leGVjKGUpLEpoKFpoLGZ1bmN0aW9uKGUsdCl7dmFyIG49KG49aVt0XSkmJm4ucmVwbGFjZSgvXChtY2VfYXRcKS9nLCJAQCIpO3VbZV09bn0pLGEmJih1LnByb3RvY29sfHwodS5wcm90b2NvbD1hLnByb3RvY29sKSx1LnVzZXJJbmZvfHwodS51c2VySW5mbz1hLnVzZXJJbmZvKSx1LnBvcnR8fCJtY2VfaG9zdCIhPT11Lmhvc3R8fCh1LnBvcnQ9YS5wb3J0KSx1Lmhvc3QmJiJtY2VfaG9zdCIhPT11Lmhvc3R8fCh1Lmhvc3Q9YS5ob3N0KSx1LnNvdXJjZT0iIiksbiYmKHUucHJvdG9jb2w9IiIpKX1mdW5jdGlvbiBvdihlLHQsbil7Zm9yKHZhciByPS88KFshP1wvXSk/KFtBLVphLXowLTlcLV86Ll0rKS9nLG89Lyg/OlxzKD86W14nIj5dKyg/OiJbXiJdKiJ8J1teJ10qJykpKlteIic+XSooPzoiW14iPl0qfCdbXic+XSopP3xccyp8XC8pPi9nLGk9ZS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKSxhPTEsdT1uOzAhPT1hOylmb3Ioci5sYXN0SW5kZXg9dTs7KXt2YXIgcz1yLmV4ZWModCk7aWYobnVsbD09PXMpcmV0dXJuIHU7aWYoIiEiPT09c1sxXSl7dT1HZShzWzJdLCItLSIpP3N2KHQsITEscy5pbmRleCsiIS0tIi5sZW5ndGgpOnN2KHQsITAscy5pbmRleCsxKTticmVha31vLmxhc3RJbmRleD1yLmxhc3RJbmRleDt2YXIgYz1vLmV4ZWModCk7aWYoIWwoYykmJmMuaW5kZXg9PT1yLmxhc3RJbmRleCl7Ii8iPT09c1sxXT8tLWE6RWUoaSxzWzJdKXx8KGErPTEpLHU9ci5sYXN0SW5kZXgrY1swXS5sZW5ndGg7YnJlYWt9fXJldHVybiB1fWZ1bmN0aW9uIGl2KHEsJCl7dm9pZCAwPT09JCYmKCQ9b28oKSkscT1xfHx7fTt2YXIgVz11digpLEs9Vy5jcmVhdGVFbGVtZW50KCJmb3JtIik7ZnVuY3Rpb24gbihzLGUpe3ZvaWQgMD09PWUmJihlPSJodG1sIik7Zm9yKHZhciB0LGksbixjLHIsbyxhLGwsdSxmLGQsbSxnLHAsaCx2LGIseSxDLHg9cy5odG1sLHc9MCxTPVtdLE49MCxFPVpvLmRlY29kZSxrPU50Lm1ha2VNYXAoInNyYyxocmVmLGRhdGEsYmFja2dyb3VuZCxhY3Rpb24sZm9ybWFjdGlvbixwb3N0ZXIseGxpbms6aHJlZiIpLF89Imh0bWwiPT09ZT8wOjEsQT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1TLmxlbmd0aDtuLS0mJlNbbl0ubmFtZSE9PWU7KTtpZigwPD1uKXtmb3IodD1TLmxlbmd0aC0xO248PXQ7dC0tKShlPVNbdF0pLnZhbGlkJiZRKGUubmFtZSk7Uy5sZW5ndGg9bn19LFI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRygkaChlLHMpLHQpfSxEPWZ1bmN0aW9uKGUpeyIiIT09ZSYmKCI+Ij09PWUuY2hhckF0KDApJiYoZT0iICIrZSkscS5hbGxvd19jb25kaXRpb25hbF9jb21tZW50c3x8IltpZiIhPT1lLnN1YnN0cigwLDMpLnRvTG93ZXJDYXNlKCl8fChlPSIgIitlKSxYKCRoKGUscykpKX0sVD1mdW5jdGlvbihlLHQpe3ZhciBuPWV8fCIiLHI9IUdlKG4sIi0tIiksbz1zdih4LHIsdCk7cmV0dXJuIGU9eC5zdWJzdHIodCxvLXQpLEQocj9uK2U6ZSksbysxfSxPPW5ldyBSZWdFeHAoIjwoPzooPzohLS0oW1xcd1xcV10qPyktLSE/Pil8KD86IVxcW0NEQVRBXFxbKFtcXHdcXFddKj8pXFxdXFxdPil8KD86IVtEZF1bT29dW0NjXVtUdF1bWXldW1BwXVtFZV0oW1xcd1xcV10qPyk+KXwoPzohKC0tKT8pfCg/OlxcPyhbXlxcc1xcLzw+XSspID8oW1xcd1xcV10qPylbPy9dPil8KD86XFwvKFtBLVphLXpdW0EtWmEtejAtOVxcLV9cXDpcXC5dKik+KXwoPzooW0EtWmEtel1bQS1aYS16MC05XFwtXzouXSopKFxccyg/OlteJ1wiPl0rKD86XCJbXlwiXSpcInwnW14nXSonKSkqW15cIic+XSooPzpcIlteXCI+XSp8J1teJz5dKik/fFxccyp8XFwvKT4pKSIsImciKSxCPS8oW1x3OlwtXSspKD86XHMqPVxzKig/Oig/OlwiKCg/OlteXCJdKSopXCIpfCg/OlwnKCg/OlteXCddKSopXCcpfChbXj5cc10rKSkpPy9nLFA9JC5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKSxMPXEuc2VsZl9jbG9zaW5nX2VsZW1lbnRzfHwkLmdldFNlbGZDbG9zaW5nRWxlbWVudHMoKSxJPSQuZ2V0Qm9vbEF0dHJzKCksTT1xLnZhbGlkYXRlLEY9cS5yZW1vdmVfaW50ZXJuYWxzLFU9cS5maXhfc2VsZl9jbG9zaW5nLHo9JC5nZXRTcGVjaWFsRWxlbWVudHMoKSxIPXgrIj4iO3Q9Ty5leGVjKEgpOyl7dmFyIGo9dFswXTtpZih3PHQuaW5kZXgmJlIoRSh4LnN1YnN0cih3LHQuaW5kZXgtdykpKSxpPXRbN10pQShpPSI6Ij09PShpPWkudG9Mb3dlckNhc2UoKSkuY2hhckF0KDApP2kuc3Vic3RyKDEpOmkpO2Vsc2UgaWYoaT10WzhdKXtpZih0LmluZGV4K2oubGVuZ3RoPngubGVuZ3RoKXtSKEUoeC5zdWJzdHIodC5pbmRleCkpKSx3PXQuaW5kZXgrai5sZW5ndGg7Y29udGludWV9dT0oaT0iOiI9PT0oaT1pLnRvTG93ZXJDYXNlKCkpLmNoYXJBdCgwKT9pLnN1YnN0cigxKTppKWluIFAsVSYmTFtpXSYmMDxTLmxlbmd0aCYmU1tTLmxlbmd0aC0xXS5uYW1lPT09aSYmQShpKTt2YXIgVj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZXhlYyh0KTtpZihuKXt2YXIgcj1uWzFdLG89blsyXTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHImJiJkYXRhLW1jZS1ib2d1cyI9PT1yLnRvTG93ZXJDYXNlKCk/bzpudWxsfXJldHVybiBudWxsfShCLHRbOV0pO2lmKG51bGwhPT1WKXtpZigiYWxsIj09PVYpe3c9b3YoJCx4LE8ubGFzdEluZGV4KSxPLmxhc3RJbmRleD13O2NvbnRpbnVlfWQ9ITF9aWYoIU18fChmPSQuZ2V0RWxlbWVudFJ1bGUoaSkpKXtpZihkPSEwLE0mJihwPWYuYXR0cmlidXRlcyxoPWYuYXR0cmlidXRlUGF0dGVybnMpLChnPXRbOV0pPygobD0tMSE9PWcuaW5kZXhPZigiZGF0YS1tY2UtdHlwZSIpKSYmRiYmKGQ9ITEpLChjPVtdKS5tYXA9e30sZy5yZXBsYWNlKEIsZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaTtpZihuPSRoKCh0PXQudG9Mb3dlckNhc2UoKSlpbiBJP3Q6RShufHxyfHxvfHwiIikscyksTSYmIWwmJjA9PSgwPT09KGk9dCkuaW5kZXhPZigiZGF0YS0iKXx8MD09PWkuaW5kZXhPZigiYXJpYS0iKSkpe3ZhciBhPXBbdF07aWYoIWEmJmgpe2Zvcih2YXIgdT1oLmxlbmd0aDt1LS0mJiEoYT1oW3VdKS5wYXR0ZXJuLnRlc3QodCk7KTstMT09PXUmJihhPW51bGwpfWlmKCFhKXJldHVybjtpZihhLnZhbGlkVmFsdWVzJiYhKG4gaW4gYS52YWxpZFZhbHVlcykpcmV0dXJufSgibmFtZSI9PT10fHwiaWQiPT09dCkmJmUgaW4gYXYmJihuIGluIFd8fG4gaW4gSyl8fGtbdF0mJiFudi5pc0RvbVNhZmUobixlLHEpfHxsJiYodCBpbiBrfHwwPT09dC5pbmRleE9mKCJvbiIpKXx8KGMubWFwW3RdPW4sYy5wdXNoKHtuYW1lOnQsdmFsdWU6bn0pKX0oaSx0LG4scixvKSwiIn0pKTooYz1bXSkubWFwPXt9LE0mJiFsKXtpZih2PWYuYXR0cmlidXRlc1JlcXVpcmVkLGI9Zi5hdHRyaWJ1dGVzRGVmYXVsdCx5PWYuYXR0cmlidXRlc0ZvcmNlZCxmLnJlbW92ZUVtcHR5QXR0cnMmJiFjLmxlbmd0aCYmKGQ9ITEpLHkpZm9yKHI9eS5sZW5ndGg7ci0tOylhPShtPXlbcl0pLm5hbWUsInskdWlkfSI9PT0oQz1tLnZhbHVlKSYmKEM9Im1jZV8iK04rKyksYy5tYXBbYV09QyxjLnB1c2goe25hbWU6YSx2YWx1ZTpDfSk7aWYoYilmb3Iocj1iLmxlbmd0aDtyLS07KShhPShtPWJbcl0pLm5hbWUpaW4gYy5tYXB8fCgieyR1aWR9Ij09PShDPW0udmFsdWUpJiYoQz0ibWNlXyIrTisrKSxjLm1hcFthXT1DLGMucHVzaCh7bmFtZTphLHZhbHVlOkN9KSk7aWYodil7Zm9yKHI9di5sZW5ndGg7ci0tJiYhKHZbcl1pbiBjLm1hcCk7KTstMT09PXImJihkPSExKX1pZihtPWMubWFwWyJkYXRhLW1jZS1ib2d1cyJdKXtpZigiYWxsIj09PW0pe3c9b3YoJCx4LE8ubGFzdEluZGV4KSxPLmxhc3RJbmRleD13O2NvbnRpbnVlfWQ9ITF9fWQmJkooaSxjLHUpfWVsc2UgZD0hMTtpZihuPXpbaV0pe24ubGFzdEluZGV4PXc9dC5pbmRleCtqLmxlbmd0aCx3PSh0PW4uZXhlYyh4KSk/KGQmJihvPXguc3Vic3RyKHcsdC5pbmRleC13KSksdC5pbmRleCt0WzBdLmxlbmd0aCk6KG89eC5zdWJzdHIodykseC5sZW5ndGgpLGQmJigwPG8ubGVuZ3RoJiZSKG8sITApLFEoaSkpLE8ubGFzdEluZGV4PXc7Y29udGludWV9dXx8KGcmJmcuaW5kZXhPZigiLyIpPT09Zy5sZW5ndGgtMT9kJiZRKGkpOlMucHVzaCh7bmFtZTppLHZhbGlkOmR9KSl9ZWxzZSBpZihpPXRbMV0pRChpKTtlbHNlIGlmKGk9dFsyXSl7aWYoISgxPT1ffHxxLnByZXNlcnZlX2NkYXRhfHwwPFMubGVuZ3RoJiYkLmlzVmFsaWRDaGlsZChTW1MubGVuZ3RoLTFdLm5hbWUsIiNjZGF0YSIpKSl7dz1UKCIiLHQuaW5kZXgrMiksTy5sYXN0SW5kZXg9dztjb250aW51ZX1ZKGkpfWVsc2UgaWYoaT10WzNdKWVlKGkpO2Vsc2V7aWYoKGk9dFs0XSl8fCI8ISI9PT1qKXt3PVQoaSx0LmluZGV4K2oubGVuZ3RoKSxPLmxhc3RJbmRleD13O2NvbnRpbnVlfWlmKGk9dFs1XSl7aWYoMSE9Xyl7dz1UKCI/Iix0LmluZGV4KzIpLE8ubGFzdEluZGV4PXc7Y29udGludWV9WihpLHRbNl0pfX13PXQuaW5kZXgrai5sZW5ndGh9Zm9yKHc8eC5sZW5ndGgmJlIoRSh4LnN1YnN0cih3KSkpLHI9Uy5sZW5ndGgtMTswPD1yO3ItLSkoaT1TW3JdKS52YWxpZCYmUShpLm5hbWUpfSExIT09cS5maXhfc2VsZl9jbG9zaW5nJiYocS5maXhfc2VsZl9jbG9zaW5nPSEwKTt2YXIgWD1xLmNvbW1lbnR8fHRlLFk9cS5jZGF0YXx8dGUsRz1xLnRleHR8fHRlLEo9cS5zdGFydHx8dGUsUT1xLmVuZHx8dGUsWj1xLnBpfHx0ZSxlZT1xLmRvY3R5cGV8fHRlO3JldHVybntwYXJzZTpmdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PSJodG1sIiksbihmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0vZGF0YTpbXjs8Iidcc10rO2Jhc2U2NCwoW2EtejAtOVwrXC89XHNdKykvZ2kscj1bXSxvPXt9LGk9d3UoImltZyIpLGE9MCx1PTA7dD1uLmV4ZWMoZSk7KXt2YXIgcz10WzBdLGM9aSsiXyIrdSsrO29bY109cyxhPHQuaW5kZXgmJnIucHVzaChlLnN1YnN0cihhLHQuaW5kZXgtYSkpLHIucHVzaChjKSxhPXQuaW5kZXgrcy5sZW5ndGh9dmFyIGw9bmV3IFJlZ0V4cChpKyJfWzAtOV0rIiwiZyIpO3JldHVybiAwPT09YT97cHJlZml4OmksdXJpczpvLGh0bWw6ZSxyZTpsfTooYTxlLmxlbmd0aCYmci5wdXNoKGUuc3Vic3RyKGEpKSx7cHJlZml4OmksdXJpczpvLGh0bWw6ci5qb2luKCIiKSxyZTpsfSl9KGUpLHQpfX19dmFyIGF2PU50Lm1ha2VNYXAoImJ1dHRvbixmaWVsZHNldCxmb3JtLGlmcmFtZSxpbWcsaW1hZ2UsaW5wdXQsb2JqZWN0LG91dHB1dCxzZWxlY3QsdGV4dGFyZWEiKSx1dj1SZShmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInBhcnNlciIpfSksc3Y9ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PW4mJihuPTApO3ZhciByPWUudG9Mb3dlckNhc2UoKTtpZigtMSE9PXIuaW5kZXhPZigiW2lmICIsbikmJih1PW4sL15ccypcW2lmIFtcd1xXXStcXT4uKjwhXFtlbmRpZlxdKC0tIT8pPz4vLnRlc3Qoci5zdWJzdHIodSkpKSl7dmFyIG89ci5pbmRleE9mKCJbZW5kaWZdIixuKTtyZXR1cm4gci5pbmRleE9mKCI+IixvKX1pZih0KXt2YXIgaT1yLmluZGV4T2YoIj4iLG4pO3JldHVybi0xIT09aT9pOnIubGVuZ3RofXZhciBhPS8tLSE/Pi9nO2EubGFzdEluZGV4PW47dmFyIHUscz1hLmV4ZWMoZSk7cmV0dXJuIHM/cy5pbmRleCtzWzBdLmxlbmd0aDpyLmxlbmd0aH07ZnVuY3Rpb24gY3YoQSxSKXt2b2lkIDA9PT1SJiYoUj1vbygpKTt2YXIgRD17fSxUPVtdLE89e30sQj17fTsoQT1BfHx7fSkudmFsaWRhdGU9ISgidmFsaWRhdGUiaW4gQSl8fEEudmFsaWRhdGUsQS5yb290X25hbWU9QS5yb290X25hbWV8fCJib2R5IjtmdW5jdGlvbiBQKGUpe3ZhciB0PWUubmFtZTt0IGluIEQmJigocj1PW3RdKT9yLnB1c2goZSk6T1t0XT1bZV0pO2Zvcih2YXIgbj1ULmxlbmd0aDtuLS07KXt2YXIgcixvPVRbbl0ubmFtZTtvIGluIGUuYXR0cmlidXRlcy5tYXAmJigocj1CW29dKT9yLnB1c2goZSk6QltvXT1bZV0pfXJldHVybiBlfXZhciBlPXtzY2hlbWE6UixhZGRBdHRyaWJ1dGVGaWx0ZXI6ZnVuY3Rpb24oZSxuKXtSdihEdihlKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PFQubGVuZ3RoO3QrKylpZihUW3RdLm5hbWU9PT1lKXJldHVybiB2b2lkIFRbdF0uY2FsbGJhY2tzLnB1c2gobik7VC5wdXNoKHtuYW1lOmUsY2FsbGJhY2tzOltuXX0pfSl9LGdldEF0dHJpYnV0ZUZpbHRlcnM6ZnVuY3Rpb24oKXtyZXR1cm5bXS5jb25jYXQoVCl9LGFkZE5vZGVGaWx0ZXI6ZnVuY3Rpb24oZSxuKXtSdihEdihlKSxmdW5jdGlvbihlKXt2YXIgdD1EW2VdO3R8fChEW2VdPXQ9W10pLHQucHVzaChuKX0pfSxnZXROb2RlRmlsdGVyczpmdW5jdGlvbigpe3ZhciBlLHQ9W107Zm9yKGUgaW4gRClFZShELGUpJiZ0LnB1c2goe25hbWU6ZSxjYWxsYmFja3M6RFtlXX0pO3JldHVybiB0fSxmaWx0ZXJOb2RlOlAscGFyc2U6ZnVuY3Rpb24oZSxzKXt2YXIgdCxuLHIsbyxpLGMsYSxsLGY9W107ZnVuY3Rpb24gZChlKXtmb3IodmFyIHQ9Ui5nZXRCbG9ja0VsZW1lbnRzKCksbj1lLnByZXY7biYmMz09PW4udHlwZTspe3ZhciByPW4udmFsdWUucmVwbGFjZSh3LCIiKTtpZigwPHIubGVuZ3RoKXJldHVybiBuLnZhbHVlPXIsMDt2YXIgbz1uLm5leHQ7aWYobyl7aWYoMz09PW8udHlwZSYmby52YWx1ZS5sZW5ndGgpe249bi5wcmV2O2NvbnRpbnVlfWlmKCF0W28ubmFtZV0mJiJzY3JpcHQiIT09by5uYW1lJiYic3R5bGUiIT09by5uYW1lKXtuPW4ucHJldjtjb250aW51ZX19dmFyIGk9bi5wcmV2O24ucmVtb3ZlKCksbj1pfX1zPXN8fHt9LE89e30sQj17fTtmdW5jdGlvbiBtKGUsdCl7dmFyIG4scj1uZXcgamQoZSx0KTtyZXR1cm4gZSBpbiBEJiYoKG49T1tlXSk/bi5wdXNoKHIpOk9bZV09W3JdKSxyfXZhciBnPVR2KEF2KCJzY3JpcHQsc3R5bGUsaGVhZCxodG1sLGJvZHksdGl0bGUsbWV0YSxwYXJhbSIpLFIuZ2V0QmxvY2tFbGVtZW50cygpKSxwPW5vKFIpLGg9Ui5nZXROb25FbXB0eUVsZW1lbnRzKCksdj1SLmNoaWxkcmVuLGI9QS52YWxpZGF0ZSx1PSgiZm9yY2VkX3Jvb3RfYmxvY2siaW4gcz9zOkEpLmZvcmNlZF9yb290X2Jsb2NrLHk9ITE9PT11PyIiOiEwPT09dT8icCI6dSxDPVIuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCkseD0vXlsgXHRcclxuXSsvLHc9L1sgXHRcclxuXSskLyxTPS9bIFx0XHJcbl0rL2csTj0vXlsgXHRcclxuXSskLyxFPUVlKEMscy5jb250ZXh0KXx8RWUoQyxBLnJvb3RfbmFtZSksaz1pdih7dmFsaWRhdGU6Yixkb2N1bWVudDpBLmRvY3VtZW50LGFsbG93X2h0bWxfZGF0YV91cmxzOkEuYWxsb3dfaHRtbF9kYXRhX3VybHMsYWxsb3dfc3ZnX2RhdGFfdXJsczpBLmFsbG93X3N2Z19kYXRhX3VybHMsYWxsb3dfc2NyaXB0X3VybHM6QS5hbGxvd19zY3JpcHRfdXJscyxhbGxvd19jb25kaXRpb25hbF9jb21tZW50czpBLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzLHByZXNlcnZlX2NkYXRhOkEucHJlc2VydmVfY2RhdGEsc2VsZl9jbG9zaW5nX2VsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0LG49e307Zm9yKHQgaW4gZSkibGkiIT09dCYmInAiIT09dCYmKG5bdF09ZVt0XSk7cmV0dXJuIG59KFIuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSxjZGF0YTpmdW5jdGlvbihlKXtsLmFwcGVuZChtKCIjY2RhdGEiLDQpKS52YWx1ZT1lfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scjtFfHwoZT1lLnJlcGxhY2UoUywiICIpLChyPWwubGFzdENoaWxkKSYmKEVlKGcsci5uYW1lKXx8ImJyIj09PXIubmFtZSkmJihlPWUucmVwbGFjZSh4LCIiKSkpLDAhPT1lLmxlbmd0aCYmKChuPW0oIiN0ZXh0IiwzKSkucmF3PSEhdCxsLmFwcGVuZChuKS52YWx1ZT1lKX0sY29tbWVudDpmdW5jdGlvbihlKXtsLmFwcGVuZChtKCIjY29tbWVudCIsOCkpLnZhbHVlPWV9LHBpOmZ1bmN0aW9uKGUsdCl7bC5hcHBlbmQobShlLDcpKS52YWx1ZT10LGQobCl9LGRvY3R5cGU6ZnVuY3Rpb24oZSl7bC5hcHBlbmQobSgiI2RvY3R5cGUiLDEwKSkudmFsdWU9ZSxkKGwpfSxzdGFydDpmdW5jdGlvbihlLHQsbil7dmFyIHI9Yj9SLmdldEVsZW1lbnRSdWxlKGUpOnt9O2lmKHIpe3ZhciBvPW0oci5vdXRwdXROYW1lfHxlLDEpO28uYXR0cmlidXRlcz10LG8uc2hvcnRFbmRlZD1uLGwuYXBwZW5kKG8pO3ZhciBpPXZbbC5uYW1lXTtpJiZ2W28ubmFtZV0mJiFpW28ubmFtZV0mJmYucHVzaChvKTtmb3IodmFyIGE9VC5sZW5ndGg7YS0tOyl7dmFyIHU9VFthXS5uYW1lO3UgaW4gdC5tYXAmJigoYz1CW3VdKT9jLnB1c2gobyk6Qlt1XT1bb10pfWdbZV0mJmQobyksbnx8KGw9byksIUUmJkNbZV0mJihFPSEwKX19LGVuZDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPWI/Ui5nZXRFbGVtZW50UnVsZShlKTp7fTtpZihpKXtpZihnW2VdJiYhRSl7aWYoKHQ9bC5maXJzdENoaWxkKSYmMz09PXQudHlwZSlpZigwPChuPXQudmFsdWUucmVwbGFjZSh4LCIiKSkubGVuZ3RoKXQudmFsdWU9bix0PXQubmV4dDtlbHNlIGZvcihyPXQubmV4dCx0LnJlbW92ZSgpLHQ9cjt0JiYzPT09dC50eXBlOyluPXQudmFsdWUscj10Lm5leHQsMCE9PW4ubGVuZ3RoJiYhTi50ZXN0KG4pfHwodC5yZW1vdmUoKSx0PXIpLHQ9cjtpZigodD1sLmxhc3RDaGlsZCkmJjM9PT10LnR5cGUpaWYoMDwobj10LnZhbHVlLnJlcGxhY2UodywiIikpLmxlbmd0aCl0LnZhbHVlPW4sdD10LnByZXY7ZWxzZSBmb3Iocj10LnByZXYsdC5yZW1vdmUoKSx0PXI7dCYmMz09PXQudHlwZTspbj10LnZhbHVlLHI9dC5wcmV2LDAhPT1uLmxlbmd0aCYmIU4udGVzdChuKXx8KHQucmVtb3ZlKCksdD1yKSx0PXJ9RSYmQ1tlXSYmKEU9ITEpO3ZhciBhPUtoKFIsaCxDLGwpLHU9bC5wYXJlbnQ7aS5wYWRkSW5FbXB0eUJsb2NrJiZhJiZmdW5jdGlvbigpe2Zvcih2YXIgZT1sO1YoZSk7KXtpZihlLm5hbWUgaW4gcClyZXR1cm4gS2goUixoLEMsZSk7ZT1lLnBhcmVudH19KCk/V2goQSxzLGcsbCk6aS5yZW1vdmVFbXB0eSYmYT9nW2wubmFtZV0/bC5lbXB0eSgpLnJlbW92ZSgpOmwudW53cmFwKCk6aS5wYWRkRW1wdHkmJihHaChvPWwsIiN0ZXh0IikmJm8uZmlyc3RDaGlsZC52YWx1ZT09PXdvfHxhKSYmV2goQSxzLGcsbCksbD11fX19LFIpLF89bD1uZXcgamQocy5jb250ZXh0fHxBLnJvb3RfbmFtZSwxMSk7aWYoay5wYXJzZShlLHMuZm9ybWF0KSxiJiZmLmxlbmd0aCYmKHMuY29udGV4dD9zLmludmFsaWQ9ITA6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUF2KCJ0cix0ZCx0aCx0Ym9keSx0aGVhZCx0Zm9vdCx0YWJsZSIpLG49Ui5nZXROb25FbXB0eUVsZW1lbnRzKCkscj1SLmdldFdoaXRlU3BhY2VFbGVtZW50cygpLG89Ui5nZXRUZXh0QmxvY2tFbGVtZW50cygpLGk9Ui5nZXRTcGVjaWFsRWxlbWVudHMoKSxhPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ZS5wYXJlbnQpLGlbZS5uYW1lXSllLmVtcHR5KCkucmVtb3ZlKCk7ZWxzZXtmb3IodmFyIG49MCxyPWUuY2hpbGRyZW4oKTtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXTtSLmlzVmFsaWRDaGlsZCh0Lm5hbWUsby5uYW1lKXx8YShvLHQpfWUudW53cmFwKCl9fSx1PTA7dTxlLmxlbmd0aDt1Kyspe3ZhciBzLGM9ZVt1XSxsPXZvaWQgMCxmPXZvaWQgMDtpZihjLnBhcmVudCYmIWMuZml4ZWQpaWYob1tjLm5hbWVdJiYibGkiPT09Yy5wYXJlbnQubmFtZSl7Zm9yKHZhciBkPWMubmV4dDtkJiZvW2QubmFtZV07KWQubmFtZT0ibGkiLGQuZml4ZWQ9ITAsYy5wYXJlbnQuaW5zZXJ0KGQsYy5wYXJlbnQpLGQ9ZC5uZXh0O2MudW53cmFwKCl9ZWxzZXtmb3IodmFyIG09W2NdLGw9Yy5wYXJlbnQ7bCYmIVIuaXNWYWxpZENoaWxkKGwubmFtZSxjLm5hbWUpJiYhdFtsLm5hbWVdO2w9bC5wYXJlbnQpbS5wdXNoKGwpO2lmKGwmJjE8bS5sZW5ndGgpaWYoUi5pc1ZhbGlkQ2hpbGQobC5uYW1lLGMubmFtZSkpe20ucmV2ZXJzZSgpO2Zvcih2YXIgZz1zPVAobVswXS5jbG9uZSgpKSxwPTA7cDxtLmxlbmd0aC0xO3ArKyl7Ui5pc1ZhbGlkQ2hpbGQoZy5uYW1lLG1bcF0ubmFtZSk/KGY9UChtW3BdLmNsb25lKCkpLGcuYXBwZW5kKGYpKTpmPWc7Zm9yKHZhciBoPW1bcF0uZmlyc3RDaGlsZDtoJiZoIT09bVtwKzFdOyl7dmFyIHY9aC5uZXh0O2YuYXBwZW5kKGgpLGg9dn1nPWZ9S2goUixuLHIscyk/bC5pbnNlcnQoYyxtWzBdLCEwKToobC5pbnNlcnQocyxtWzBdLCEwKSxsLmluc2VydChjLHMpKSxsPW1bMF0sKEtoKFIsbixyLGwpfHxHaChsLCJiciIpKSYmbC5lbXB0eSgpLnJlbW92ZSgpfWVsc2UgYShjKTtlbHNlIGMucGFyZW50JiYoImxpIiE9PWMubmFtZT9SLmlzVmFsaWRDaGlsZChjLnBhcmVudC5uYW1lLCJkaXYiKSYmUi5pc1ZhbGlkQ2hpbGQoImRpdiIsYy5uYW1lKT9jLndyYXAoUChuZXcgamQoImRpdiIsMSkpKTphKGMpOiEoZD1jLnByZXYpfHwidWwiIT09ZC5uYW1lJiYib2wiIT09ZC5uYW1lPyEoZD1jLm5leHQpfHwidWwiIT09ZC5uYW1lJiYib2wiIT09ZC5uYW1lP2Mud3JhcChQKG5ldyBqZCgidWwiLDEpKSk6ZC5pbnNlcnQoYyxkLmZpcnN0Q2hpbGQsITApOmQuYXBwZW5kKGMpKX19fShmKSkseSYmKCJib2R5Ij09PV8ubmFtZXx8cy5pc1Jvb3RDb250ZW50KSYmZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2UmJigodD1lLmZpcnN0Q2hpbGQpJiYzPT09dC50eXBlJiYodC52YWx1ZT10LnZhbHVlLnJlcGxhY2UoeCwiIikpLCh0PWUubGFzdENoaWxkKSYmMz09PXQudHlwZSYmKHQudmFsdWU9dC52YWx1ZS5yZXBsYWNlKHcsIiIpKSl9dmFyIHQ9Xy5maXJzdENoaWxkLG49bnVsbDtpZihSLmlzVmFsaWRDaGlsZChfLm5hbWUseS50b0xvd2VyQ2FzZSgpKSl7Zm9yKDt0Oyl7dmFyIHI9dC5uZXh0OzM9PT10LnR5cGV8fDE9PT10LnR5cGUmJiJwIiE9PXQubmFtZSYmIWdbdC5uYW1lXSYmIXQuYXR0cigiZGF0YS1tY2UtdHlwZSIpPyhufHwoKG49bSh5LDEpKS5hdHRyKEEuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpLF8uaW5zZXJ0KG4sdCkpLG4uYXBwZW5kKHQpKTooZShuKSxuPW51bGwpLHQ9cn1lKG4pfX0oKSwhcy5pbnZhbGlkKXtmb3IoYSBpbiBPKWlmKEVlKE8sYSkpe2ZvcihjPURbYV0sbz0odD1PW2FdKS5sZW5ndGg7by0tOyl0W29dLnBhcmVudHx8dC5zcGxpY2UobywxKTtmb3Iobj0wLHI9Yy5sZW5ndGg7bjxyO24rKyljW25dKHQsYSxzKX1mb3Iobj0wLHI9VC5sZW5ndGg7bjxyO24rKylpZigoYz1UW25dKS5uYW1lIGluIEIpe2ZvcihvPSh0PUJbYy5uYW1lXSkubGVuZ3RoO28tLTspdFtvXS5wYXJlbnR8fHQuc3BsaWNlKG8sMSk7Zm9yKG89MCxpPWMuY2FsbGJhY2tzLmxlbmd0aDtvPGk7bysrKWMuY2FsbGJhY2tzW29dKHQsYy5uYW1lLHMpfX1yZXR1cm4gX319O3JldHVybiBYaChlLEEpLEEuaW5saW5lX3N0eWxlcyYmVWgoZSxBKSxlfWZ1bmN0aW9uIGx2KGUsdCxuKXstMT09PU50LmluQXJyYXkodCxuKSYmKGUuYWRkQXR0cmlidXRlRmlsdGVyKG4sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOyllW25dLmF0dHIodCxudWxsKX0pLHQucHVzaChuKSl9ZnVuY3Rpb24gZnYoTCxJKXt2YXIgZT1bImRhdGEtbWNlLXNlbGVjdGVkIl0sTT1JJiZJLmRvbT9JLmRvbTpldS5ET00sRj1JJiZJLnNjaGVtYT9JLnNjaGVtYTpvbyhMKTtMLmVudGl0eV9lbmNvZGluZz1MLmVudGl0eV9lbmNvZGluZ3x8Im5hbWVkIixMLnJlbW92ZV90cmFpbGluZ19icnM9ISgicmVtb3ZlX3RyYWlsaW5nX2JycyJpbiBMKXx8TC5yZW1vdmVfdHJhaWxpbmdfYnJzO3ZhciB0LFU9Y3YoTCxGKSxzPUwsYz1NO3JldHVybih0PVUpLmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdGFiaW5kZXgiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspe3ZhciByPWVbbl07ci5hdHRyKCJ0YWJpbmRleCIsci5hdHRyKCJkYXRhLW1jZS10YWJpbmRleCIpKSxyLmF0dHIodCxudWxsKX19KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjLGhyZWYsc3R5bGUiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSJkYXRhLW1jZS0iK3Qscj1zLnVybF9jb252ZXJ0ZXIsbz1zLnVybF9jb252ZXJ0ZXJfc2NvcGUsaT1lLmxlbmd0aDtpLS07KXt2YXIgYT1lW2ldLHU9YS5hdHRyKG4pO3ZvaWQgMCE9PXU/KGEuYXR0cih0LDA8dS5sZW5ndGg/dTpudWxsKSxhLmF0dHIobixudWxsKSk6KHU9YS5hdHRyKHQpLCJzdHlsZSI9PT10P3U9Yy5zZXJpYWxpemVTdHlsZShjLnBhcnNlU3R5bGUodSksYS5uYW1lKTpyJiYodT1yLmNhbGwobyx1LHQsYS5uYW1lKSksYS5hdHRyKHQsMDx1Lmxlbmd0aD91Om51bGwpKX19KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiY2xhc3MiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0LS07KXt2YXIgbixyPWVbdF07ci5hdHRyKCJjbGFzcyIpJiYobj1yLmF0dHIoImNsYXNzIikucmVwbGFjZSgvKD86XnxccyltY2UtaXRlbS1cdysoPyFcUykvZywiIiksci5hdHRyKCJjbGFzcyIsMDxuLmxlbmd0aD9uOm51bGwpKX19KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KXt2YXIgbz1lW3JdOyJib29rbWFyayIhPT1vLmF0dHIoImRhdGEtbWNlLXR5cGUiKXx8bi5jbGVhbnVwfHwodmUuZnJvbShvLmZpcnN0Q2hpbGQpLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4hTm8oZS52YWx1ZSl9KT9vLnVud3JhcCgpOm8ucmVtb3ZlKCkpfX0pLHQuYWRkTm9kZUZpbHRlcigibm9zY3JpcHQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0LS07KXt2YXIgbj1lW3RdLmZpcnN0Q2hpbGQ7biYmKG4udmFsdWU9Wm8uZGVjb2RlKG4udmFsdWUpKX19KSx0LmFkZE5vZGVGaWx0ZXIoInNjcmlwdCxzdHlsZSIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKDwhLS1cW0NEQVRBXFt8XF1cXS0tPikvZywiXG4iKS5yZXBsYWNlKC9eW1xyXG5dKnxbXHJcbl0qJC9nLCIiKS5yZXBsYWNlKC9eXHMqKCg8IS0tKT8oXHMqXC9cLyk/XHMqPCFcW0NEQVRBXFt8KDwhLS1ccyopP1wvXCpccyo8IVxbQ0RBVEFcW1xzKlwqXC98KFwvXC8pP1xzKjwhLS18XC9cKlxzKjwhLS1ccypcKlwvKVxzKltcclxuXSovZ2ksIiIpLnJlcGxhY2UoL1xzKihcL1wqXHMqXF1cXT5ccypcKlwvKC0tPik/fFxzKlwvXC9ccypcXVxdPigtLT4pP3xcL1wvXHMqKC0tPik/fFxdXF0+fFwvXCpccyotLT5ccypcKlwvfFxzKi0tPlxzKilccyokL2csIiIpfSxyPWUubGVuZ3RoO3ItLTspe3ZhciBvLGk9ZVtyXSxhPWkuZmlyc3RDaGlsZD9pLmZpcnN0Q2hpbGQudmFsdWU6IiI7InNjcmlwdCI9PT10Pygobz1pLmF0dHIoInR5cGUiKSkmJmkuYXR0cigidHlwZSIsIm1jZS1uby90eXBlIj09PW8/bnVsbDpvLnJlcGxhY2UoL15tY2VcLS8sIiIpKSwieGh0bWwiPT09cy5lbGVtZW50X2Zvcm1hdCYmMDxhLmxlbmd0aCYmKGkuZmlyc3RDaGlsZC52YWx1ZT0iLy8gPCFbQ0RBVEFbXG4iK24oYSkrIlxuLy8gXV0+IikpOiJ4aHRtbCI9PT1zLmVsZW1lbnRfZm9ybWF0JiYwPGEubGVuZ3RoJiYoaS5maXJzdENoaWxkLnZhbHVlPSJceDNjIS0tXG4iK24oYSkrIlxuLS1ceDNlIil9fSksdC5hZGROb2RlRmlsdGVyKCIjY29tbWVudCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspe3ZhciBuPWVbdF07cy5wcmVzZXJ2ZV9jZGF0YSYmMD09PW4udmFsdWUuaW5kZXhPZigiW0NEQVRBWyIpPyhuLm5hbWU9IiNjZGF0YSIsbi50eXBlPTQsbi52YWx1ZT1jLmRlY29kZShuLnZhbHVlLnJlcGxhY2UoL15cW0NEQVRBXFt8XF1cXSQvZywiIikpKTowPT09bi52YWx1ZS5pbmRleE9mKCJtY2U6cHJvdGVjdGVkICIpJiYobi5uYW1lPSIjdGV4dCIsbi50eXBlPTMsbi5yYXc9ITAsbi52YWx1ZT11bmVzY2FwZShuLnZhbHVlKS5zdWJzdHIoMTQpKX19KSx0LmFkZE5vZGVGaWx0ZXIoInhtbDpuYW1lc3BhY2UsaW5wdXQiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspe3ZhciByPWVbbl07Nz09PXIudHlwZT9yLnJlbW92ZSgpOjE9PT1yLnR5cGUmJigiaW5wdXQiIT09dHx8ci5hdHRyKCJ0eXBlIil8fHIuYXR0cigidHlwZSIsInRleHQiKSl9fSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXR5cGUiLGZ1bmN0aW9uKGUpe1koZSxmdW5jdGlvbihlKXsiZm9ybWF0LWNhcmV0Ij09PWUuYXR0cigiZGF0YS1tY2UtdHlwZSIpJiYoZS5pc0VtcHR5KHQuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSk/ZS5yZW1vdmUoKTplLnVud3JhcCgpKX0pfSksdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXNyYyxkYXRhLW1jZS1ocmVmLGRhdGEtbWNlLXN0eWxlLGRhdGEtbWNlLXNlbGVjdGVkLGRhdGEtbWNlLWV4cGFuZG8sZGF0YS1tY2UtdHlwZSxkYXRhLW1jZS1yZXNpemUsZGF0YS1tY2UtcGxhY2Vob2xkZXIiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspZVtuXS5hdHRyKHQsbnVsbCl9KSx7c2NoZW1hOkYsYWRkTm9kZUZpbHRlcjpVLmFkZE5vZGVGaWx0ZXIsYWRkQXR0cmlidXRlRmlsdGVyOlUuYWRkQXR0cmlidXRlRmlsdGVyLHNlcmlhbGl6ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxnLHAsaCx2LGIseSxDLHgsdyxTLE4sRSxrLF8sQSxSLEQsVD1fZSh7Zm9ybWF0OiJodG1sIn0sdD12b2lkIDA9PT10P3t9OnQpLE89KG49KG09ZSxOPWc9VCwoZD1JKSYmZC5oYXNFdmVudExpc3RlbmVycygiUHJlUHJvY2VzcyIpJiYhTi5ub19ldmVudHM/KGg9Zyx4PShwPWQpLmRvbSx3PW0uY2xvbmVOb2RlKCEwKSwoUz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbikuY3JlYXRlSFRNTERvY3VtZW50JiYoYj1TLmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksTnQuZWFjaCgiQk9EWSI9PT13Lm5vZGVOYW1lP3cuY2hpbGROb2Rlczpbd10sZnVuY3Rpb24oZSl7Yi5ib2R5LmFwcGVuZENoaWxkKGIuaW1wb3J0Tm9kZShlLCEwKSl9KSx3PSJCT0RZIiE9PXcubm9kZU5hbWU/Yi5ib2R5LmZpcnN0Q2hpbGQ6Yi5ib2R5LHY9eC5kb2MseC5kb2M9YikseT1wLEM9X2UoX2Uoe30saCkse25vZGU6d30pLHkuZmlyZSgiUHJlUHJvY2VzcyIsQyksdiYmKHguZG9jPXYpLHcpOm0pLG89RW8oKHI9VCkuZ2V0SW5uZXI/bi5pbm5lckhUTUw6TS5nZXRPdXRlckhUTUwobikpLHIuc2VsZWN0aW9ufHxDbyhFdC5mcm9tRG9tKG4pKT9vOk50LnRyaW0obykpLEI9KGk9VSxhPU8scz0odT1UKS5zZWxlY3Rpb24/X2Uoe2ZvcmNlZF9yb290X2Jsb2NrOiExfSx1KTp1LGM9aS5wYXJzZShhLHMpLCFQKGY9Yy5sYXN0Q2hpbGQpfHxQKGw9Zi5wcmV2KSYmKGYucmVtb3ZlKCksbC5yZW1vdmUoKSksYyk7ZnVuY3Rpb24gUChlKXtyZXR1cm4gZSYmImJyIj09PWUubmFtZX1yZXR1cm4idHJlZSI9PT1ULmZvcm1hdD9COihFPUksaz1ULF89QixEPXJtKEwsRikuc2VyaWFsaXplKF8pLGsubm9fZXZlbnRzfHwhRT9EOihBPUUsUj1fZShfZSh7fSxrKSx7Y29udGVudDpEfSksQS5maXJlKCJQb3N0UHJvY2VzcyIsUikuY29udGVudCkpfSxhZGRSdWxlczpGLmFkZFZhbGlkRWxlbWVudHMsc2V0UnVsZXM6Ri5zZXRWYWxpZEVsZW1lbnRzLGFkZFRlbXBBdHRyOlIobHYsVSxlKSxnZXRUZW1wQXR0cnM6SihlKSxnZXROb2RlRmlsdGVyczpVLmdldE5vZGVGaWx0ZXJzLGdldEF0dHJpYnV0ZUZpbHRlcnM6VS5nZXRBdHRyaWJ1dGVGaWx0ZXJzfX1mdW5jdGlvbiBkdihlLHQpe3ZhciBuPWZ2KGUsdCk7cmV0dXJue3NjaGVtYTpuLnNjaGVtYSxhZGROb2RlRmlsdGVyOm4uYWRkTm9kZUZpbHRlcixhZGRBdHRyaWJ1dGVGaWx0ZXI6bi5hZGRBdHRyaWJ1dGVGaWx0ZXIsc2VyaWFsaXplOm4uc2VyaWFsaXplLGFkZFJ1bGVzOm4uYWRkUnVsZXMsc2V0UnVsZXM6bi5zZXRSdWxlcyxhZGRUZW1wQXR0cjpuLmFkZFRlbXBBdHRyLGdldFRlbXBBdHRyczpuLmdldFRlbXBBdHRycyxnZXROb2RlRmlsdGVyczpuLmdldE5vZGVGaWx0ZXJzLGdldEF0dHJpYnV0ZUZpbHRlcnM6bi5nZXRBdHRyaWJ1dGVGaWx0ZXJzfX1mdW5jdGlvbiBtdihlLHQsbil7cmV0dXJuIHI9bj12b2lkIDA9PT1uP3t9Om4sYmgoZSkuZWRpdG9yLnNldENvbnRlbnQodCxyKTt2YXIgcn1mdW5jdGlvbiBndihlKXtyZXR1cm4gdmUuZnJvbShlKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pfWZ1bmN0aW9uIHB2KGUsdCl7dmFyIG4scixvLGksYSx1LHMsYz0obj1lLHI9VShQdixmdW5jdGlvbihlKXtyZXR1cm4gRWUobixlKX0pLCExIT09KG89bi5mb3JjZWRfcm9vdF9ibG9jaykmJiIiIT09b3x8ci5wdXNoKCJmb3JjZWRfcm9vdF9ibG9jayAoZmFsc2Ugb25seSkiKSxXKHIpKSxsPShzPU50Lm1ha2VNYXAodC5wbHVnaW5zLCIgIiksVyhBZShBZShbXSxVKEx2LGcpLCEwKSxIKEl2LGZ1bmN0aW9uKGUpe3JldHVybiBnKGUpP1tlKyIgKG1vdmluZyB0byBwcmVtaXVtKSJdOltdfSksITApKSksZj0wPGwubGVuZ3RoLGQ9MDxjLmxlbmd0aCxtPSJtb2JpbGUiPT09dC50aGVtZTtmdW5jdGlvbiBnKGUpe3JldHVybiBFZShzLGUpfShmfHxkfHxtKSYmKGk9bT8iXG5cblRoZW1lczpcbi0gbW9iaWxlIjoiIixhPWY/IlxuXG5QbHVnaW5zOlxuLSAiK2wuam9pbigiXG4tICIpOiIiLHU9ZD8iXG5cblNldHRpbmdzOlxuLSAiK2Muam9pbigiXG4tICIpOiIiLGNvbnNvbGUud2FybigiVGhlIGZvbGxvd2luZyBkZXByZWNhdGVkIGZlYXR1cmVzIGFyZSBjdXJyZW50bHkgZW5hYmxlZCwgdGhlc2Ugd2lsbCBiZSByZW1vdmVkIGluIFRpbnlNQ0UgNi4wLiBTZWUgaHR0cHM6Ly93d3cudGlueS5jbG91ZC9kb2NzL3JlbGVhc2Utbm90ZXMvNi4wLXVwY29taW5nLWNoYW5nZXMvIGZvciBtb3JlIGluZm9ybWF0aW9uLiIraSthK3UpKX1mdW5jdGlvbiBodihlKXt2YXIgdD1TKGUpP2Uuam9pbigiICIpOmU7cmV0dXJuIFUoQShYKHQpP3Quc3BsaXQoIiAiKTpbXSxKZSksZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZS5sZW5ndGh9KX1mdW5jdGlvbiB2dihlLHQpe3JldHVybiBFZShlLnNlY3Rpb25zKCksdCl9ZnVuY3Rpb24gYnYoZSx0KXtyZXR1cm4gdWUoZSwidG9vbGJhcl9tb2RlIikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB1ZShlLCJ0b29sYmFyX2RyYXdlciIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PWU/IndyYXAiOmV9KX0pLmdldE9yKHQpfWZ1bmN0aW9uIHl2KGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZD1odihuLmZvcmNlZF9wbHVnaW5zKSxtPWh2KHIucGx1Z2lucyksZz12dihvPXQsIm1vYmlsZSIpP28uc2VjdGlvbnMoKS5tb2JpbGU6e30scD1nLnBsdWdpbnM/aHYoZy5wbHVnaW5zKTptLGg9KGk9KHU9dCxzPW0sYz1wLChhPWUpJiYoMCxmPShsPXUpLnNlY3Rpb25zKCksdnYobCwibW9iaWxlIikmJiJtb2JpbGUiPT09Zi5tb2JpbGUudGhlbWUpP1UoYyxSKFQsSHYpKTphJiZ2dih1LCJtb2JpbGUiKT9jOnMpLFtdLmNvbmNhdChodihkKSkuY29uY2F0KGh2KGkpKSk7aWYoeHQuYnJvd3Nlci5pc0lFKCkmJlQoaCwicnRjIikpdGhyb3cgbmV3IEVycm9yKCJSVEMgcGx1Z2luIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgMTEuIik7cmV0dXJuIE50LmV4dGVuZChyLHtwbHVnaW5zOmguam9pbigiICIpfSl9ZnVuY3Rpb24gQ3YoZSx0LG4scixvKXt2YXIgaSxhLHUscyxjLGwsZixkLG09ZT97bW9iaWxlOihpPXQsYT17cmVzaXplOiExLHRvb2xiYXJfbW9kZTpidihvLm1vYmlsZXx8e30sInNjcm9sbGluZyIpLHRvb2xiYXJfc3RpY2t5OiExfSxfZShfZShfZSh7fSxqdiksYSksaT97bWVudWJhcjohMX06e30pKX06e30sZz0oYz1bIm1vYmlsZSJdLGllKEJ2KG0sbyksZnVuY3Rpb24oZSx0KXtyZXR1cm4gVChjLHQpfSxvZShsPXt9KSxvZShmPXt9KSkse3NlY3Rpb25zOkooKGQ9e3Q6bCxmOmZ9KS50KSxzZXR0aW5nczpKKGQuZil9KSxwPU50LmV4dGVuZChuLHIsZy5zZXR0aW5ncygpLGUmJnZ2KGcsIm1vYmlsZSIpP2Z1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgdD11ZShnLnNlY3Rpb25zKCksIm1vYmlsZSIpLmdldE9yKHt9KTtyZXR1cm4gTnQuZXh0ZW5kKHt9LGUsdCl9KCk6e30se3ZhbGlkYXRlOiEwLGV4dGVybmFsX3BsdWdpbnM6KHU9cixzPWcuc2V0dGluZ3MoKS5leHRlcm5hbF9wbHVnaW5zfHx7fSx1JiZ1LmV4dGVybmFsX3BsdWdpbnM/TnQuZXh0ZW5kKHt9LHUuZXh0ZXJuYWxfcGx1Z2lucyxzKTpzKX0pO3JldHVybiB5dihlLGcscixwKX1mdW5jdGlvbiB4dihlLHQsbil7cmV0dXJuIHZlLmZyb20odC5zZXR0aW5nc1tuXSkuZmlsdGVyKGUpfWZ1bmN0aW9uIHd2KGUsdCl7cmV0dXJuIHQuZG9tW2VdfWZ1bmN0aW9uIFN2KGUsdCl7cmV0dXJuIHBhcnNlSW50KHduKHQsZSksMTApfWZ1bmN0aW9uIE52KGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYz1FdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSxsPWUuaW5saW5lP2M6RXQuZnJvbURvbShEdChjKS5kb20uZG9jdW1lbnRFbGVtZW50KSxmPShyPWUuaW5saW5lLGk9dCxhPW4sdT0obz1sKS5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3g6aS0ocj91LmxlZnQrby5kb20uY2xpZW50TGVmdCtLdihvKTowKSx5OmEtKHI/dS50b3Arby5kb20uY2xpZW50VG9wK1d2KG8pOjApfSksZD1mLngsbT1mLnksZz1xdihzPWwpLHA9JHYocyk7cmV0dXJuIDA8PWQmJjA8PW0mJmQ8PWcmJm08PXB9ZnVuY3Rpb24gRXYobyl7ZnVuY3Rpb24gaSgpe3ZhciBlPW8udGhlbWU7cmV0dXJuIGUmJmUuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlckltcGw/ZS5nZXROb3RpZmljYXRpb25NYW5hZ2VySW1wbCgpOntvcGVuOnQsY2xvc2U6dCxyZXBvc2l0aW9uOnQsZ2V0QXJnczp0fTtmdW5jdGlvbiB0KCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBOb3RpZmljYXRpb25NYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfX1mdW5jdGlvbiBhKCl7cmV0dXJuIHZlLmZyb20oY1swXSl9ZnVuY3Rpb24gdSgpezA8Yy5sZW5ndGgmJmkoKS5yZXBvc2l0aW9uKGMpfWZ1bmN0aW9uIHModCl7eihjLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pLmVhY2goZnVuY3Rpb24oZSl7Yy5zcGxpY2UoZSwxKX0pfWZ1bmN0aW9uIHQobixlKXtpZih2b2lkIDA9PT1lJiYoZT0hMCksIW8ucmVtb3ZlZCYmKHI9KHQ9bykuaW5saW5lP3QuZ2V0Qm9keSgpOnQuZ2V0Q29udGVudEFyZWFDb250YWluZXIoKSx2ZS5mcm9tKHIpLm1hcChFdC5mcm9tRG9tKS5tYXAoTW4pLmdldE9yKCExKSkpcmV0dXJuIGUmJm8uZmlyZSgiQmVmb3JlT3Blbk5vdGlmaWNhdGlvbiIse25vdGlmaWNhdGlvbjpufSksTShjLGZ1bmN0aW9uKGUpe3JldHVybiEoKHQ9aSgpLmdldEFyZ3MoZSkpLnR5cGUhPT1uLnR5cGV8fHQudGV4dCE9PW4udGV4dHx8dC5wcm9ncmVzc0Jhcnx8dC50aW1lb3V0fHxuLnByb2dyZXNzQmFyfHxuLnRpbWVvdXQpO3ZhciB0fSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe28uZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUobyk7dmFyIGU9aSgpLm9wZW4obixmdW5jdGlvbigpe3MoZSksdSgpLGEoKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG8uZm9jdXMoKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEV0LmZyb21Eb20oZS5nZXRFbCgpKS5kb20uZm9jdXMoKX0pfSk7cmV0dXJuIGMucHVzaChlKSx1KCksby5maXJlKCJPcGVuTm90aWZpY2F0aW9uIix7bm90aWZpY2F0aW9uOl9lKHt9LGUpfSksZX0pO3ZhciB0LHJ9dmFyIG4sYz1bXSxlPUooYyk7cmV0dXJuKG49bykub24oIlNraW5Mb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGU9bi5nZXRQYXJhbSgic2VydmljZV9tZXNzYWdlIik7ZSYmdCh7dGV4dDplLHR5cGU6Indhcm5pbmciLHRpbWVvdXQ6MH0sITEpLHUoKX0pLG4ub24oInNob3cgUmVzaXplRWRpdG9yIFJlc2l6ZVdpbmRvdyBOb2RlQ2hhbmdlIixmdW5jdGlvbigpe0FyLnJlcXVlc3RBbmltYXRpb25GcmFtZSh1KX0pLG4ub24oInJlbW92ZSIsZnVuY3Rpb24oKXtZKGMuc2xpY2UoKSxmdW5jdGlvbihlKXtpKCkuY2xvc2UoZSl9KX0pLHtvcGVuOnQsY2xvc2U6ZnVuY3Rpb24oKXthKCkuZWFjaChmdW5jdGlvbihlKXtpKCkuY2xvc2UoZSkscyhlKSx1KCl9KX0sZ2V0Tm90aWZpY2F0aW9uczplfX1pdi5maW5kRW5kVGFnPW92O3ZhciBrdixfdixBdj1OdC5tYWtlTWFwLFJ2PU50LmVhY2gsRHY9TnQuZXhwbG9kZSxUdj1OdC5leHRlbmQsT3Y9ZXUuRE9NLEJ2PShrdj1mdW5jdGlvbihlLHQpe3JldHVybiBoKGUpJiZoKHQpP0J2KGUsdCk6dH0sZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgbWVyZ2UgemVybyBvYmplY3RzIik7Zm9yKHZhciBuPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG8saT1lW3JdO2ZvcihvIGluIGkpRWUoaSxvKSYmKG5bb109a3YobltvXSxpW29dKSl9cmV0dXJuIG59KSxQdj0iYXV0b3Jlc2l6ZV9vbl9pbml0LGNvbnRlbnRfZWRpdGFibGVfc3RhdGUsY29udmVydF9mb250c190b19zcGFucyxpbmxpbmVfc3R5bGVzLHBhZGRfZW1wdHlfd2l0aF9icixibG9ja19lbGVtZW50cyxib29sZWFuX2F0dHJpYnV0ZXMsZWRpdG9yX2Rlc2VsZWN0b3IsZWRpdG9yX3NlbGVjdG9yLGVsZW1lbnRzLGZpbGVfYnJvd3Nlcl9jYWxsYmFja190eXBlcyxmaWxlcGlja2VyX3ZhbGlkYXRvcl9oYW5kbGVyLGZvcmNlX2hleF9zdHlsZV9jb2xvcnMsZm9yY2VfcF9uZXdsaW5lcyxnZWNrb19zcGVsbGNoZWNrLGltYWdlc19kYXRhaW1nX2ZpbHRlcixtZWRpYV9zY3JpcHRzLG1vZGUsbW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMsbm9uX2VtcHR5X2VsZW1lbnRzLHNlbGZfY2xvc2luZ19lbGVtZW50cyxzaG9ydF9lbmRlZF9lbGVtZW50cyxzcGVjaWFsLHNwZWxsY2hlY2tlcl9zZWxlY3RfbGFuZ3VhZ2VzLHNwZWxsY2hlY2tlcl93aGl0ZWxpc3QsdGFiX2ZvY3VzLHRhYmxlX3Jlc3BvbnNpdmVfd2lkdGgsdGV4dF9ibG9ja19lbGVtZW50cyx0ZXh0X2lubGluZV9lbGVtZW50cyx0b29sYmFyX2RyYXdlcix0eXBlcyx2YWxpZGF0ZSx3aGl0ZXNwYWNlX2VsZW1lbnRzLHBhc3RlX3dvcmRfdmFsaWRfZWxlbWVudHMscGFzdGVfcmV0YWluX3N0eWxlX3Byb3BlcnRpZXMscGFzdGVfY29udmVydF93b3JkX2Zha2VfbGlzdHMiLnNwbGl0KCIsIiksTHY9ImJiY29kZSxjb2xvcnBpY2tlcixjb250ZXh0bWVudSxmdWxscGFnZSxsZWdhY3lvdXRwdXQsc3BlbGxjaGVja2VyLHRleHRjb2xvciIuc3BsaXQoIiwiKSxJdj0iaW1hZ2V0b29scyx0b2MiLnNwbGl0KCIsIiksTXY9ZHQoKS5kZXZpY2VUeXBlLEZ2PU12LmlzVG91Y2goKSxVdj1Ndi5pc1Bob25lKCksenY9TXYuaXNUYWJsZXQoKSxIdj1bImxpc3RzIiwiYXV0b2xpbmsiLCJhdXRvc2F2ZSJdLGp2PXt0YWJsZV9ncmlkOiExLG9iamVjdF9yZXNpemluZzohMSxyZXNpemU6ITF9LFZ2PShfdj17fSx7YWRkOmZ1bmN0aW9uKGUsdCl7X3ZbZV09dH0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBfdltlXXx8e2ljb25zOnt9fX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBFZShfdixlKX19KSxxdj1SKHd2LCJjbGllbnRXaWR0aCIpLCR2PVIod3YsImNsaWVudEhlaWdodCIpLFd2PVIoU3YsIm1hcmdpbi10b3AiKSxLdj1SKFN2LCJtYXJnaW4tbGVmdCIpLFh2PWZ1LlBsdWdpbk1hbmFnZXIsWXY9ZnUuVGhlbWVNYW5hZ2VyO2Z1bmN0aW9uIEd2KHIpe2Z1bmN0aW9uIG8oKXt2YXIgZT1yLnRoZW1lO3JldHVybiBlJiZlLmdldFdpbmRvd01hbmFnZXJJbXBsP2UuZ2V0V2luZG93TWFuYWdlckltcGwoKTp7b3Blbjp0LG9wZW5Vcmw6dCxhbGVydDp0LGNvbmZpcm06dCxjbG9zZTp0LGdldFBhcmFtczp0LHNldFBhcmFtczp0fTtmdW5jdGlvbiB0KCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBXaW5kb3dNYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfX1mdW5jdGlvbiBpKG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3JldHVybiByP3IuYXBwbHkobixlKTp2b2lkIDB9fWZ1bmN0aW9uIG4odCl7ci5maXJlKCJDbG9zZVdpbmRvdyIse2RpYWxvZzp0fSksMD09PSh1PVUodSxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSkubGVuZ3RoJiZyLmZvY3VzKCl9ZnVuY3Rpb24gYShlKXtyLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKHIpLGRkKHIpO3ZhciB0LG49ZSgpO3JldHVybiB0PW4sdS5wdXNoKHQpLHIuZmlyZSgiT3BlbldpbmRvdyIse2RpYWxvZzp0fSksbn12YXIgdT1bXTtyZXR1cm4gci5vbigicmVtb3ZlIixmdW5jdGlvbigpe1kodSxmdW5jdGlvbihlKXtvKCkuY2xvc2UoZSl9KX0pLHtvcGVuOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEoZnVuY3Rpb24oKXtyZXR1cm4gbygpLm9wZW4oZSx0LG4pfSl9LG9wZW5Vcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZnVuY3Rpb24oKXtyZXR1cm4gbygpLm9wZW5VcmwoZSxuKX0pfSxhbGVydDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bygpO3IuYWxlcnQoZSxpKG58fHIsdCkpfSxjb25maXJtOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1vKCk7ci5jb25maXJtKGUsaShufHxyLHQpKX0sY2xvc2U6ZnVuY3Rpb24oKXt2ZS5mcm9tKHVbdS5sZW5ndGgtMV0pLmVhY2goZnVuY3Rpb24oZSl7bygpLmNsb3NlKGUpLG4oZSl9KX19fWZ1bmN0aW9uIEp2KGUsdCl7ZS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oe3R5cGU6ImVycm9yIix0ZXh0OnR9KX1mdW5jdGlvbiBRdihlLHQpe2UuX3NraW5Mb2FkZWQ/SnYoZSx0KTplLm9uKCJTa2luTG9hZGVkIixmdW5jdGlvbigpe0p2KGUsdCl9KX1mdW5jdGlvbiBadihlLHQsbil7Q2YoZSx0LHttZXNzYWdlOm59KSxjb25zb2xlLmVycm9yKG4pfWZ1bmN0aW9uIGViKGUsdCxuKXtyZXR1cm4gbj8iRmFpbGVkIHRvIGxvYWQgIitlKyI6ICIrbisiIGZyb20gdXJsICIrdDoiRmFpbGVkIHRvIGxvYWQgIitlKyIgdXJsOiAiK3R9ZnVuY3Rpb24gdGIoZSx0LG4pe1p2KGUsIlBsdWdpbkxvYWRFcnJvciIsZWIoInBsdWdpbiIsdCxuKSl9ZnVuY3Rpb24gbmIoZSl7dmFyIHQsbjtlLmNvbnRlbnRDU1M9ZS5jb250ZW50Q1NTLmNvbmNhdChFeShlLChuPSh0PWUpLmdldFBhcmFtKCJjb250ZW50X2NzcyIpLFgobik/QShuLnNwbGl0KCIsIiksSmUpOlMobik/bjohMT09PW58fHQuaW5saW5lP1tdOlsiZGVmYXVsdCJdKSksRXkoZSxCcyhlKSkpfWZ1bmN0aW9uIHJiKCl7ZnVuY3Rpb24gbihlLHQpe3JldHVybntzdGF0dXM6ZSxyZXN1bHRVcmk6dH19ZnVuY3Rpb24gdChlKXtyZXR1cm4gZSBpbiByfXZhciByPXt9O3JldHVybntoYXNCbG9iVXJpOnQsZ2V0UmVzdWx0VXJpOmZ1bmN0aW9uKGUpe3ZhciB0PXJbZV07cmV0dXJuIHQ/dC5yZXN1bHRVcmk6bnVsbH0saXNQZW5kaW5nOmZ1bmN0aW9uKGUpe3JldHVybiEhdChlKSYmMT09PXJbZV0uc3RhdHVzfSxpc1VwbG9hZGVkOmZ1bmN0aW9uKGUpe3JldHVybiEhdChlKSYmMj09PXJbZV0uc3RhdHVzfSxtYXJrUGVuZGluZzpmdW5jdGlvbihlKXtyW2VdPW4oMSxudWxsKX0sbWFya1VwbG9hZGVkOmZ1bmN0aW9uKGUsdCl7cltlXT1uKDIsdCl9LHJlbW92ZUZhaWxlZDpmdW5jdGlvbihlKXtkZWxldGUgcltlXX0sZGVzdHJveTpmdW5jdGlvbigpe3I9e319fX1mdW5jdGlvbiBvYihlKXtyZXR1cm4gZStreSsrKygicyIrKG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoMzYpK3QoKSt0KCkrdCgpKTtmdW5jdGlvbiB0KCl7cmV0dXJuIE1hdGgucm91bmQoNDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNil9fWZ1bmN0aW9uIGliKCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gTShuLGUpLmdldE9yVW5kZWZpbmVkKCl9ZnVuY3Rpb24gaShlKXtpZighZS5ibG9ifHwhZS5iYXNlNjQpdGhyb3cgbmV3IEVycm9yKCJibG9iIGFuZCBiYXNlNjQgcmVwcmVzZW50YXRpb25zIG9mIHRoZSBpbWFnZSBhcmUgcmVxdWlyZWQgZm9yIEJsb2JJbmZvIHRvIGJlIGNyZWF0ZWQiKTt2YXIgdD1lLmlkfHxvYigiYmxvYmlkIiksbj1lLm5hbWV8fHQscj1lLmJsb2I7cmV0dXJue2lkOkoodCksbmFtZTpKKG4pLGZpbGVuYW1lOkooZS5maWxlbmFtZXx8bisiLiIrKHsiaW1hZ2UvanBlZyI6ImpwZyIsImltYWdlL2pwZyI6ImpwZyIsImltYWdlL2dpZiI6ImdpZiIsImltYWdlL3BuZyI6InBuZyIsImltYWdlL2FwbmciOiJhcG5nIiwiaW1hZ2UvYXZpZiI6ImF2aWYiLCJpbWFnZS9zdmcreG1sIjoic3ZnIiwiaW1hZ2Uvd2VicCI6IndlYnAiLCJpbWFnZS9ibXAiOiJibXAiLCJpbWFnZS90aWZmIjoidGlmZiJ9W3IudHlwZS50b0xvd2VyQ2FzZSgpXXx8ImRhdCIpKSxibG9iOkoociksYmFzZTY0OkooZS5iYXNlNjQpLGJsb2JVcmk6SihlLmJsb2JVcml8fFVSTC5jcmVhdGVPYmplY3RVUkwocikpLHVyaTpKKGUudXJpKX19ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCgpPT09dH0pfXZhciBuPVtdO3JldHVybntjcmVhdGU6ZnVuY3Rpb24oZSx0LG4scixvKXtpZihYKGUpKXJldHVybiBpKHtpZDplLG5hbWU6cixmaWxlbmFtZTpvLGJsb2I6dCxiYXNlNjQ6bn0pO2lmKGgoZSkpcmV0dXJuIGkoZSk7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGlucHV0IHR5cGUiKX0sYWRkOmZ1bmN0aW9uKGUpe3QoZS5pZCgpKXx8bi5wdXNoKGUpfSxnZXQ6dCxnZXRCeVVyaTpmdW5jdGlvbih0KXtyZXR1cm4gZShmdW5jdGlvbihlKXtyZXR1cm4gZS5ibG9iVXJpKCk9PT10fSl9LGdldEJ5RGF0YTpmdW5jdGlvbih0LG4pe3JldHVybiBlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJhc2U2NCgpPT09dCYmZS5ibG9iKCkudHlwZT09PW59KX0sZmluZEZpcnN0OmUscmVtb3ZlQnlVcmk6ZnVuY3Rpb24odCl7bj1VKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYlVyaSgpIT09dHx8dm9pZCBVUkwucmV2b2tlT2JqZWN0VVJMKGUuYmxvYlVyaSgpKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7WShuLGZ1bmN0aW9uKGUpe1VSTC5yZXZva2VPYmplY3RVUkwoZS5ibG9iVXJpKCkpfSksbj1bXX19fWZ1bmN0aW9uIGFiKHUscyl7ZnVuY3Rpb24gbyhlLHIsbyx0KXt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Q7aS5vcGVuKCJQT1NUIixzLnVybCksaS53aXRoQ3JlZGVudGlhbHM9cy5jcmVkZW50aWFscyxpLnVwbG9hZC5vbnByb2dyZXNzPWZ1bmN0aW9uKGUpe3QoZS5sb2FkZWQvZS50b3RhbCoxMDApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtvKCJJbWFnZSB1cGxvYWQgZmFpbGVkIGR1ZSB0byBhIFhIUiBUcmFuc3BvcnQgZXJyb3IuIENvZGU6ICIraS5zdGF0dXMpfSxpLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlLHQsbjtpLnN0YXR1czwyMDB8fDMwMDw9aS5zdGF0dXM/bygiSFRUUCBFcnJvcjogIitpLnN0YXR1cyk6KGU9SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCkpJiYic3RyaW5nIj09dHlwZW9mIGUubG9jYXRpb24/cigodD1zLmJhc2VQYXRoLG49ZS5sb2NhdGlvbix0P3QucmVwbGFjZSgvXC8kLywiIikrIi8iK24ucmVwbGFjZSgvXlwvLywiIik6bikpOm8oIkludmFsaWQgSlNPTjogIitpLnJlc3BvbnNlVGV4dCl9O3ZhciBuPW5ldyBGb3JtRGF0YTtuLmFwcGVuZCgiZmlsZSIsZS5ibG9iKCksZS5maWxlbmFtZSgpKSxpLnNlbmQobil9ZnVuY3Rpb24gYyhlLHQpe3JldHVybnt1cmw6dCxibG9iSW5mbzplLHN0YXR1czohMH19ZnVuY3Rpb24gbChlLHQsbil7cmV0dXJue3VybDoiIixibG9iSW5mbzplLHN0YXR1czohMSxlcnJvcjp7bWVzc2FnZTp0LG9wdGlvbnM6bn19fWZ1bmN0aW9uIGYoZSx0KXtOdC5lYWNoKGRbZV0sZnVuY3Rpb24oZSl7ZSh0KX0pLGRlbGV0ZSBkW2VdfXZhciBkPXt9O3JldHVybiExPT09eShzLmhhbmRsZXIpJiYocy5oYW5kbGVyPW8pLHt1cGxvYWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcy51cmx8fHMuaGFuZGxlciE9PW8/KG49ZSxyPXQsbj1OdC5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIXUuaXNVcGxvYWRlZChlLmJsb2JVcmkoKSl9KSxfci5hbGwoTnQubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJuIHUuaXNQZW5kaW5nKGUuYmxvYlVyaSgpKT8obj1lLmJsb2JVcmkoKSxuZXcgX3IoZnVuY3Rpb24oZSl7ZFtuXT1kW25dfHxbXSxkW25dLnB1c2goZSl9KSk6KGk9ZSx0PXMuaGFuZGxlcixhPXIsdS5tYXJrUGVuZGluZyhpLmJsb2JVcmkoKSksbmV3IF9yKGZ1bmN0aW9uKHIpe3ZhciBuO3RyeXt2YXIgbz1mdW5jdGlvbigpe24mJm4uY2xvc2UoKX07dChpLGZ1bmN0aW9uKGUpe28oKSx1Lm1hcmtVcGxvYWRlZChpLmJsb2JVcmkoKSxlKSxmKGkuYmxvYlVyaSgpLGMoaSxlKSkscihjKGksZSkpfSxmdW5jdGlvbihlLHQpe3ZhciBuPXR8fHt9O28oKSx1LnJlbW92ZUZhaWxlZChpLmJsb2JVcmkoKSksZihpLmJsb2JVcmkoKSxsKGksZSxuKSkscihsKGksZSxuKSl9LGZ1bmN0aW9uKHQpe3Q8MHx8MTAwPHR8fHZlLmZyb20obikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB2ZS5mcm9tKGEpLm1hcChDKX0pLmVhY2goZnVuY3Rpb24oZSl7KG49ZSkucHJvZ3Jlc3NCYXIudmFsdWUodCl9KX0pfWNhdGNoKGUpe3IobChpLGUubWVzc2FnZSx7fSkpfX0pKTt2YXIgaSx0LGEsbn0pKSk6bmV3IF9yKGZ1bmN0aW9uKGUpe2UoW10pfSk7dmFyIG4scn19fWZ1bmN0aW9uIHViKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dGV4dDplLnRyYW5zbGF0ZSgiSW1hZ2UgdXBsb2FkaW5nLi4uIiksdHlwZToiaW5mbyIsdGltZW91dDotMSxwcm9ncmVzc0JhcjohMH0pfX1mdW5jdGlvbiBzYihlLHQpe3JldHVybiBhYih0LHt1cmw6ZS5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF91cmwiLCIiLCJzdHJpbmciKSxiYXNlUGF0aDplLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2Jhc2VfcGF0aCIsIiIsInN0cmluZyIpLGNyZWRlbnRpYWxzOmUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfY3JlZGVudGlhbHMiLCExLCJib29sZWFuIiksaGFuZGxlcjplLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2hhbmRsZXIiLG51bGwsImZ1bmN0aW9uIil9KX1mdW5jdGlvbiBjYihsKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbC5zZWxlY3Rpb24/dChlKTpbXX19ZnVuY3Rpb24gcihlLHQsbil7Zm9yKHZhciByPTA7LTEhPT0ocj1lLmluZGV4T2YodCxyKSkmJihlPWUuc3Vic3RyaW5nKDAscikrbitlLnN1YnN0cihyK3QubGVuZ3RoKSxyKz1uLmxlbmd0aC10Lmxlbmd0aCsxKSwtMSE9PXI7KTtyZXR1cm4gZX1mdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm4gZT1yKGUsJ3NyYz0iJyt0KyciJywnc3JjPSInK24rJyInKyhuPT09eHQudHJhbnNwYXJlbnRTcmM/JyBkYXRhLW1jZS1wbGFjZWhvbGRlcj0iMSInOiIiKSkscihlLCdkYXRhLW1jZS1zcmM9IicrdCsnIicsJ2RhdGEtbWNlLXNyYz0iJytuKyciJyl9ZnVuY3Rpb24gZih0LG4pe1kobC51bmRvTWFuYWdlci5kYXRhLGZ1bmN0aW9uKGUpeyJmcmFnbWVudGVkIj09PWUudHlwZT9lLmZyYWdtZW50cz1BKGUuZnJhZ21lbnRzLGZ1bmN0aW9uKGUpe3JldHVybiBvKGUsdCxuKX0pOmUuY29udGVudD1vKGUuY29udGVudCx0LG4pfSl9ZnVuY3Rpb24gbihuKXtyZXR1cm4gdT11fHxzYihsLGcpLHYoKS50aGVuKHQoZnVuY3Rpb24oYyl7dmFyIGU9QShjLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJsb2JJbmZvfSk7cmV0dXJuIHUudXBsb2FkKGUsdWIobCkpLnRoZW4odChmdW5jdGlvbihlKXt2YXIgcz1bXSx0PUEoZSxmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGE9Y1t0XS5ibG9iSW5mbyx1PWNbdF0uaW1hZ2U7cmV0dXJuIGUuc3RhdHVzJiZsLmdldFBhcmFtKCJpbWFnZXNfcmVwbGFjZV9ibG9iX3VyaXMiLCEwLCJib29sZWFuIik/KG0ucmVtb3ZlQnlVcmkodS5zcmMpLGhoKGwpfHwocj11LG89ZS51cmwsaT1sLmNvbnZlcnRVUkwobywic3JjIiksZihyLnNyYyxvKSxsLiQocikuYXR0cih7c3JjOmwuZ2V0UGFyYW0oImltYWdlc19yZXVzZV9maWxlbmFtZSIsITEsImJvb2xlYW4iKT9vKygtMT09PW8uaW5kZXhPZigiPyIpPyI/IjoiJiIpKyhuZXcgRGF0ZSkuZ2V0VGltZSgpOm8sImRhdGEtbWNlLXNyYyI6aX0pKSk6ZS5lcnJvciYmKGUuZXJyb3Iub3B0aW9ucy5yZW1vdmUmJihmKHUuZ2V0QXR0cmlidXRlKCJzcmMiKSx4dC50cmFuc3BhcmVudFNyYykscy5wdXNoKHUpKSxuPWUuZXJyb3IubWVzc2FnZSxRdihsLGx1LnRyYW5zbGF0ZShbIkZhaWxlZCB0byB1cGxvYWQgaW1hZ2U6IHswfSIsbl0pKSkse2VsZW1lbnQ6dSxzdGF0dXM6ZS5zdGF0dXMsdXBsb2FkVXJpOmUudXJsLGJsb2JJbmZvOmF9fSk7cmV0dXJuIDA8dC5sZW5ndGgmJmguZmlyZUlmQ2hhbmdlZCgpLDA8cy5sZW5ndGgmJihoaChsKT9jb25zb2xlLmVycm9yKCJSZW1vdmluZyBpbWFnZXMgb24gZmFpbGVkIHVwbG9hZHMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkIGZvciBSVEMiKTpsLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7WShzLGZ1bmN0aW9uKGUpe2wuZG9tLnJlbW92ZShlKSxtLnJlbW92ZUJ5VXJpKGUuc3JjKX0pfSkpLG4mJm4odCksdH0pKX0pKX1mdW5jdGlvbiBlKGUpe2lmKEFzKGwpKXJldHVybiBuKGUpfWZ1bmN0aW9uIGkodCl7cmV0dXJuITEhPT1qKHAsZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KSYmKDAhPT10LmdldEF0dHJpYnV0ZSgic3JjIikuaW5kZXhPZigiZGF0YToiKXx8bC5nZXRQYXJhbSgiaW1hZ2VzX2RhdGFpbWdfZmlsdGVyIix3LCJmdW5jdGlvbiIpKHQpKX1mdW5jdGlvbiBhKGUpe3JldHVybiBlLnJlcGxhY2UoL3NyYz0iKGJsb2I6W14iXSspIi9nLGZ1bmN0aW9uKGUsbil7dmFyIHQ9Zy5nZXRSZXN1bHRVcmkobik7aWYodClyZXR1cm4nc3JjPSInK3QrJyInO3ZhciByPShyPW0uZ2V0QnlVcmkobikpfHxMKGwuZWRpdG9yTWFuYWdlci5nZXQoKSxmdW5jdGlvbihlLHQpe3JldHVybiBlfHx0LmVkaXRvclVwbG9hZCYmdC5lZGl0b3JVcGxvYWQuYmxvYkNhY2hlLmdldEJ5VXJpKG4pfSxudWxsKTtyZXR1cm4gcj8nc3JjPSJkYXRhOicrci5ibG9iKCkudHlwZSsiO2Jhc2U2NCwiK3IuYmFzZTY0KCkrJyInOmV9KX12YXIgdSxzLGMsZCxtPWliKCksZz1yYigpLHA9W10saD0oZD1hdShudWxsKSwoYz1sKS5vbigiY2hhbmdlIEFkZFVuZG8iLGZ1bmN0aW9uKGUpe2Quc2V0KF9lKHt9LGUubGV2ZWwpKX0pLHtmaXJlSWZDaGFuZ2VkOmZ1bmN0aW9uKCl7dmFyIHQ9Yy51bmRvTWFuYWdlci5kYXRhO1oodCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFmaChkLmdldCgpLGUpfSkuZWFjaChmdW5jdGlvbihlKXtjLnNldERpcnR5KCEwKSxjLmZpcmUoImNoYW5nZSIse2xldmVsOmUsbGFzdExldmVsOkcodCx0Lmxlbmd0aC0yKS5nZXRPck51bGwoKX0pfSl9fSksdj1mdW5jdGlvbigpe3JldHVybihzPXN8fHFoKGcsbSkpLmZpbmRBbGwobC5nZXRCb2R5KCksaSkudGhlbih0KGZ1bmN0aW9uKGUpe3JldHVybiBlPVUoZSxmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGV8fHZvaWQgUXYobCxlKX0pLGhoKGwpfHxZKGUsZnVuY3Rpb24oZSl7ZihlLmltYWdlLnNyYyxlLmJsb2JJbmZvLmJsb2JVcmkoKSksZS5pbWFnZS5zcmM9ZS5ibG9iSW5mby5ibG9iVXJpKCksZS5pbWFnZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNyYyIpfSksZX0pKX07cmV0dXJuIGwub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7KEFzKGwpP2U6dikoKX0pLGwub24oIlJhd1NhdmVDb250ZW50IixmdW5jdGlvbihlKXtlLmNvbnRlbnQ9YShlLmNvbnRlbnQpfSksbC5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24oZSl7ZS5zb3VyY2Vfdmlld3x8InJhdyI9PT1lLmZvcm1hdHx8InRyZWUiPT09ZS5mb3JtYXR8fChlLmNvbnRlbnQ9YShlLmNvbnRlbnQpKX0pLGwub24oIlBvc3RSZW5kZXIiLGZ1bmN0aW9uKCl7bC5wYXJzZXIuYWRkTm9kZUZpbHRlcigiaW1nIixmdW5jdGlvbihlKXtZKGUsZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmF0dHIoInNyYyIpO20uZ2V0QnlVcmkobil8fCh0PWcuZ2V0UmVzdWx0VXJpKG4pKSYmZS5hdHRyKCJzcmMiLHQpfSl9KX0pLHtibG9iQ2FjaGU6bSxhZGRGaWx0ZXI6ZnVuY3Rpb24oZSl7cC5wdXNoKGUpfSx1cGxvYWRJbWFnZXM6bix1cGxvYWRJbWFnZXNBdXRvOmUsc2NhbkZvckltYWdlczp2LGRlc3Ryb3k6ZnVuY3Rpb24oKXttLmRlc3Ryb3koKSxnLmRlc3Ryb3koKSxzPXU9bnVsbH19fWZ1bmN0aW9uIGxiKGUsdCl7ZnVuY3Rpb24gbShlKXtvPSJzdHJpbmciPT10eXBlb2YgZT97bmFtZTplLGNsYXNzZXM6W10sYXR0cnM6e319OmU7dmFyIHQsbj1BeS5jcmVhdGUoby5uYW1lKSxyPW47cmV0dXJuKHQ9bykuY2xhc3Nlcy5sZW5ndGgmJkF5LmFkZENsYXNzKHIsdC5jbGFzc2VzLmpvaW4oIiAiKSksQXkuc2V0QXR0cmlicyhyLHQuYXR0cnMpLG59dmFyIG4sbyxyLGc9dCYmdC5zY2hlbWF8fG9vKHt9KSxwPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixvLGksYSx1LHMsYyxsPTA8ZS5sZW5ndGgmJmVbMF0sZj1sJiZsLm5hbWUsZD0oYT1mLHU9InN0cmluZyIhPXR5cGVvZihpPW4pP2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKTppLCEoIShjPShzPWcuZ2V0RWxlbWVudFJ1bGUodSkpJiZzLnBhcmVudHNSZXF1aXJlZCl8fCFjLmxlbmd0aCkmJihhJiYtMSE9PU50LmluQXJyYXkoYyxhKT9hOmNbMF0pKTtpZihkKWY9PT1kPyhvPWVbMF0sZT1lLnNsaWNlKDEpKTpvPWQ7ZWxzZSBpZihsKW89ZVswXSxlPWUuc2xpY2UoMSk7ZWxzZSBpZighdClyZXR1cm4gbjtyZXR1cm4gbyYmKHI9bShvKSkuYXBwZW5kQ2hpbGQobiksdCYmKHJ8fChyPUF5LmNyZWF0ZSgiZGl2IikpLmFwcGVuZENoaWxkKG4pLE50LmVhY2godCxmdW5jdGlvbihlKXt2YXIgdD1tKGUpO3IuaW5zZXJ0QmVmb3JlKHQsbil9KSkscChyLGUsbyYmby5zaWJsaW5ncyl9O3JldHVybiBlJiZlLmxlbmd0aD8obj1tKG89ZVswXSksKHI9QXkuY3JlYXRlKCJkaXYiKSkuYXBwZW5kQ2hpbGQocChuLGUuc2xpY2UoMSksby5zaWJsaW5ncykpLHIpOiIifWZ1bmN0aW9uIGZiKGUpe3ZhciB0LGE9e2NsYXNzZXM6W10sYXR0cnM6e319O3JldHVybiIqIiE9PShlPWEuc2VsZWN0b3I9TnQudHJpbShlKSkmJih0PWUucmVwbGFjZSgvKD86KFsjXC5dfDo6PykoW1x3XC1dKyl8KFxbKShbXlxdXSspXF0/KS9nLGZ1bmN0aW9uKGUsdCxuLHIsbyl7c3dpdGNoKHQpe2Nhc2UiIyI6YS5hdHRycy5pZD1uO2JyZWFrO2Nhc2UiLiI6YS5jbGFzc2VzLnB1c2gobik7YnJlYWs7Y2FzZSI6IjotMSE9PU50LmluQXJyYXkoImNoZWNrZWQgZGlzYWJsZWQgZW5hYmxlZCByZWFkLW9ubHkgcmVxdWlyZWQiLnNwbGl0KCIgIiksbikmJihhLmF0dHJzW25dPW4pfXZhciBpO3JldHVybiJbIiE9PXJ8fChpPW8ubWF0Y2goLyhbXHdcLV0rKSg/Olw9XCIoW15cIl0rKSk/LykpJiYoYS5hdHRyc1tpWzFdXT1pWzJdKSwiIn0pKSxhLm5hbWU9dHx8ImRpdiIsYX1mdW5jdGlvbiBkYihuLGUpe3ZhciByLHQsbz0iIixpPSh0PW4uZ2V0UGFyYW0oInByZXZpZXdfc3R5bGVzIiwiZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtd2VpZ2h0IGZvbnQtc3R5bGUgdGV4dC1kZWNvcmF0aW9uIHRleHQtdHJhbnNmb3JtIGNvbG9yIGJhY2tncm91bmQtY29sb3IgYm9yZGVyIGJvcmRlci1yYWRpdXMgb3V0bGluZSB0ZXh0LXNoYWRvdyIpLFgodCk/dDoiIik7aWYoIiI9PT1pKXJldHVybiIiO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUucmVwbGFjZSgvJShcdyspL2csIiIpfWlmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIShlPW4uZm9ybWF0dGVyLmdldChlKSkpcmV0dXJuO2U9ZVswXX1pZigicHJldmlldyJpbiBlKXt2YXIgdT11ZShlLCJwcmV2aWV3Iik7aWYoZm4odSwhMSkpcmV0dXJuIiI7aT11LmdldE9yKGkpfXZhciBzLGM9ZS5ibG9ja3x8ZS5pbmxpbmV8fCJzcGFuIixsPShzPWUuc2VsZWN0b3IpJiYic3RyaW5nIj09dHlwZW9mIHM/KHM9KHM9cy5zcGxpdCgvXHMqLFxzKi8pWzBdKS5yZXBsYWNlKC9ccyooflwrfH58XCt8PilccyovZywiJDEiKSxOdC5tYXAocy5zcGxpdCgvKD86PnxccysoPyFbXlxbXF1dK1xdKSkvKSxmdW5jdGlvbihlKXt2YXIgdD1OdC5tYXAoZS5zcGxpdCgvKD86flwrfH58XCspLyksZmIpLG49dC5wb3AoKTtyZXR1cm4gdC5sZW5ndGgmJihuLnNpYmxpbmdzPXQpLG59KS5yZXZlcnNlKCkpOltdLGY9bC5sZW5ndGg/KGxbMF0ubmFtZXx8KGxbMF0ubmFtZT1jKSxjPWUuc2VsZWN0b3IsbGIobCxuKSk6bGIoW2NdLG4pLGQ9QXkuc2VsZWN0KGMsZilbMF18fGYuZmlyc3RDaGlsZDtyZXR1cm4gX3koZS5zdHlsZXMsZnVuY3Rpb24oZSx0KXt2YXIgbj1hKGUpO24mJkF5LnNldFN0eWxlKGQsdCxuKX0pLF95KGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHQpe3ZhciBuPWEoZSk7biYmQXkuc2V0QXR0cmliKGQsdCxuKX0pLF95KGUuY2xhc3NlcyxmdW5jdGlvbihlKXt2YXIgdD1hKGUpO0F5Lmhhc0NsYXNzKGQsdCl8fEF5LmFkZENsYXNzKGQsdCl9KSxuLmZpcmUoIlByZXZpZXdGb3JtYXRzIiksQXkuc2V0U3R5bGVzKGYse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDotNjU1MzV9KSxuLmdldEJvZHkoKS5hcHBlbmRDaGlsZChmKSxyPUF5LmdldFN0eWxlKG4uZ2V0Qm9keSgpLCJmb250U2l6ZSIsITApLHI9L3B4JC8udGVzdChyKT9wYXJzZUludChyLDEwKTowLF95KGkuc3BsaXQoIiAiKSxmdW5jdGlvbihlKXt2YXIgdD1BeS5nZXRTdHlsZShkLGUsITApO2lmKCEoImJhY2tncm91bmQtY29sb3IiPT09ZSYmL3RyYW5zcGFyZW50fHJnYmFccypcKFteKV0rLFxzKjBcKS8udGVzdCh0KSYmKHQ9QXkuZ2V0U3R5bGUobi5nZXRCb2R5KCksZSwhMCksIiNmZmZmZmYiPT09QXkudG9IZXgodCkudG9Mb3dlckNhc2UoKSl8fCJjb2xvciI9PT1lJiYiIzAwMDAwMCI9PT1BeS50b0hleCh0KS50b0xvd2VyQ2FzZSgpKSl7aWYoImZvbnQtc2l6ZSI9PT1lJiYvZW18JSQvLnRlc3QodCkpe2lmKDA9PT1yKXJldHVybjt0PXBhcnNlRmxvYXQodCkvKC8lJC8udGVzdCh0KT8xMDA6MSkqcisicHgifSJib3JkZXIiPT09ZSYmdCYmKG8rPSJwYWRkaW5nOjAgMnB4OyIpLG8rPWUrIjoiK3QrIjsifX0pLG4uZmlyZSgiQWZ0ZXJQcmV2aWV3Rm9ybWF0cyIpLEF5LnJlbW92ZShmKSxvfWZ1bmN0aW9uIG1iKGMpe3ZhciBlLHIsdCxuLG8saSxhPShuPXt9LChvPWZ1bmN0aW9uKGUsdCl7ZSYmKFgoZSk/KFkodD0hUyh0KT9bdF06dCxmdW5jdGlvbihlKXtiKGUuZGVlcCkmJihlLmRlZXA9IWdsKGUpKSxiKGUuc3BsaXQpJiYoZS5zcGxpdD0hZ2woZSl8fHBsKGUpKSxiKGUucmVtb3ZlKSYmZ2woZSkmJiFwbChlKSYmKGUucmVtb3ZlPSJub25lIiksZ2woZSkmJnBsKGUpJiYoZS5taXhlZD0hMCxlLmJsb2NrX2V4cGFuZD0hMCksWChlLmNsYXNzZXMpJiYoZS5jbGFzc2VzPWUuY2xhc3Nlcy5zcGxpdCgvXHMrLykpfSksbltlXT10KTpuZShlLGZ1bmN0aW9uKGUsdCl7byh0LGUpfSkpfSkoKHI9KGU9YykuZG9tLHQ9e3ZhbGlnbnRvcDpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJ0b3AifX1dLHZhbGlnbm1pZGRsZTpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJtaWRkbGUifX1dLHZhbGlnbmJvdHRvbTpbe3NlbGVjdG9yOiJ0ZCx0aCIsc3R5bGVzOnt2ZXJ0aWNhbEFsaWduOiJib3R0b20ifX1dLGFsaWdubGVmdDpbe3NlbGVjdG9yOiJmaWd1cmUuaW1hZ2UiLGNvbGxhcHNlZDohMSxjbGFzc2VzOiJhbGlnbi1sZWZ0IixjZUZhbHNlT3ZlcnJpZGU6ITAscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn0se3NlbGVjdG9yOiJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLHN0eWxlczp7dGV4dEFsaWduOiJsZWZ0In0saW5oZXJpdDohMSxwcmV2aWV3OiExLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJpbWcsdGFibGUsYXVkaW8sdmlkZW8iLGNvbGxhcHNlZDohMSxzdHlsZXM6e2Zsb2F0OiJsZWZ0In0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWduY2VudGVyOlt7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246ImNlbnRlciJ9LGluaGVyaXQ6ITEscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIixkZWZhdWx0QmxvY2s6ImRpdiJ9LHtzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tY2VudGVyIixjZUZhbHNlT3ZlcnJpZGU6ITAscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn0se3NlbGVjdG9yOiJpbWcsYXVkaW8sdmlkZW8iLGNvbGxhcHNlZDohMSxzdHlsZXM6e2Rpc3BsYXk6ImJsb2NrIixtYXJnaW5MZWZ0OiJhdXRvIixtYXJnaW5SaWdodDoiYXV0byJ9LHByZXZpZXc6ITF9LHtzZWxlY3RvcjoidGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6e21hcmdpbkxlZnQ6ImF1dG8iLG1hcmdpblJpZ2h0OiJhdXRvIn0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWducmlnaHQ6W3tzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tcmlnaHQiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246InJpZ2h0In0saW5oZXJpdDohMSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUiLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJpbWcsdGFibGUsYXVkaW8sdmlkZW8iLGNvbGxhcHNlZDohMSxzdHlsZXM6e2Zsb2F0OiJyaWdodCJ9LHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9XSxhbGlnbmp1c3RpZnk6W3tzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoianVzdGlmeSJ9LGluaGVyaXQ6ITEsZGVmYXVsdEJsb2NrOiJkaXYiLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9XSxib2xkOlt7aW5saW5lOiJzdHJvbmciLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfSx7aW5saW5lOiJzcGFuIixzdHlsZXM6e2ZvbnRXZWlnaHQ6ImJvbGQifX0se2lubGluZToiYiIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19XSxpdGFsaWM6W3tpbmxpbmU6ImVtIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX0se2lubGluZToic3BhbiIsc3R5bGVzOntmb250U3R5bGU6Iml0YWxpYyJ9fSx7aW5saW5lOiJpIixyZW1vdmU6ImFsbCIscHJlc2VydmVfYXR0cmlidXRlczpbImNsYXNzIiwic3R5bGUiXX1dLHVuZGVybGluZTpbe2lubGluZToic3BhbiIsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjoidW5kZXJsaW5lIn0sZXhhY3Q6ITB9LHtpbmxpbmU6InUiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0sc3RyaWtldGhyb3VnaDpbe2lubGluZToic3BhbiIsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjoibGluZS10aHJvdWdoIn0sZXhhY3Q6ITB9LHtpbmxpbmU6InN0cmlrZSIscmVtb3ZlOiJhbGwiLHByZXNlcnZlX2F0dHJpYnV0ZXM6WyJjbGFzcyIsInN0eWxlIl19LHtpbmxpbmU6InMiLHJlbW92ZToiYWxsIixwcmVzZXJ2ZV9hdHRyaWJ1dGVzOlsiY2xhc3MiLCJzdHlsZSJdfV0sZm9yZWNvbG9yOntpbmxpbmU6InNwYW4iLHN0eWxlczp7Y29sb3I6IiV2YWx1ZSJ9LGxpbmtzOiEwLHJlbW92ZV9zaW1pbGFyOiEwLGNsZWFyX2NoaWxkX3N0eWxlczohMH0saGlsaXRlY29sb3I6e2lubGluZToic3BhbiIsc3R5bGVzOntiYWNrZ3JvdW5kQ29sb3I6IiV2YWx1ZSJ9LGxpbmtzOiEwLHJlbW92ZV9zaW1pbGFyOiEwLGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udG5hbWU6e2lubGluZToic3BhbiIsdG9nZ2xlOiExLHN0eWxlczp7Zm9udEZhbWlseToiJXZhbHVlIn0sY2xlYXJfY2hpbGRfc3R5bGVzOiEwfSxmb250c2l6ZTp7aW5saW5lOiJzcGFuIix0b2dnbGU6ITEsc3R5bGVzOntmb250U2l6ZToiJXZhbHVlIn0sY2xlYXJfY2hpbGRfc3R5bGVzOiEwfSxsaW5laGVpZ2h0OntzZWxlY3RvcjoiaDEsaDIsaDMsaDQsaDUsaDYscCxsaSx0ZCx0aCxkaXYiLGRlZmF1bHRCbG9jazoicCIsc3R5bGVzOntsaW5lSGVpZ2h0OiIldmFsdWUifX0sZm9udHNpemVfY2xhc3M6e2lubGluZToic3BhbiIsYXR0cmlidXRlczp7Y2xhc3M6IiV2YWx1ZSJ9fSxibG9ja3F1b3RlOntibG9jazoiYmxvY2txdW90ZSIsd3JhcHBlcjohMCxyZW1vdmU6ImFsbCJ9LHN1YnNjcmlwdDp7aW5saW5lOiJzdWIifSxzdXBlcnNjcmlwdDp7aW5saW5lOiJzdXAifSxjb2RlOntpbmxpbmU6ImNvZGUifSxsaW5rOntpbmxpbmU6ImEiLHNlbGVjdG9yOiJhIixyZW1vdmU6ImFsbCIsc3BsaXQ6ITAsZGVlcDohMCxvbm1hdGNoOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSG4oZSkmJmUuaGFzQXR0cmlidXRlKCJocmVmIil9LG9uZm9ybWF0OmZ1bmN0aW9uKG4sZSx0KXtOdC5lYWNoKHQsZnVuY3Rpb24oZSx0KXtyLnNldEF0dHJpYihuLHQsZSl9KX19LGxhbmc6e2lubGluZToic3BhbiIsY2xlYXJfY2hpbGRfc3R5bGVzOiEwLHJlbW92ZV9zaW1pbGFyOiEwLGF0dHJpYnV0ZXM6e2xhbmc6IiV2YWx1ZSIsImRhdGEtbWNlLWxhbmciOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5jdXN0b21WYWx1ZSkmJnZvaWQgMCE9PXQ/dDpudWxsfX19LHJlbW92ZWZvcm1hdDpbe3NlbGVjdG9yOiJiLHN0cm9uZyxlbSxpLGZvbnQsdSxzdHJpa2UscyxzdWIsc3VwLGRmbixjb2RlLHNhbXAsa2JkLHZhcixjaXRlLG1hcmsscSxkZWwsaW5zLHNtYWxsIixyZW1vdmU6ImFsbCIsc3BsaXQ6ITAsZXhwYW5kOiExLGJsb2NrX2V4cGFuZDohMCxkZWVwOiEwfSx7c2VsZWN0b3I6InNwYW4iLGF0dHJpYnV0ZXM6WyJzdHlsZSIsImNsYXNzIl0scmVtb3ZlOiJlbXB0eSIsc3BsaXQ6ITAsZXhwYW5kOiExLGRlZXA6ITB9LHtzZWxlY3RvcjoiKiIsYXR0cmlidXRlczpbInN0eWxlIiwiY2xhc3MiXSxzcGxpdDohMSxleHBhbmQ6ITEsZGVlcDohMH1dfSxOdC5lYWNoKCJwIGgxIGgyIGgzIGg0IGg1IGg2IGRpdiBhZGRyZXNzIHByZSBkdCBkZCBzYW1wIi5zcGxpdCgvXHMvKSxmdW5jdGlvbihlKXt0W2VdPXtibG9jazplLHJlbW92ZToiYWxsIn19KSx0KSksbyhlLmdldFBhcmFtKCJmb3JtYXRzIikpLHtnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFYoZSk/bltlXTpufSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIEVlKG4sZSl9LHJlZ2lzdGVyOm8sdW5yZWdpc3RlcjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmbltlXSYmZGVsZXRlIG5bZV0sbn19KSxsPWF1KG51bGwpO3JldHVybiBmdW5jdGlvbihlKXtlLmFkZFNob3J0Y3V0KCJtZXRhK2IiLCIiLCJCb2xkIiksZS5hZGRTaG9ydGN1dCgibWV0YStpIiwiIiwiSXRhbGljIiksZS5hZGRTaG9ydGN1dCgibWV0YSt1IiwiIiwiVW5kZXJsaW5lIik7Zm9yKHZhciB0PTE7dDw9Njt0KyspZS5hZGRTaG9ydGN1dCgiYWNjZXNzKyIrdCwiIixbIkZvcm1hdEJsb2NrIiwhMSwiaCIrdF0pO2UuYWRkU2hvcnRjdXQoImFjY2Vzcys3IiwiIixbIkZvcm1hdEJsb2NrIiwhMSwicCJdKSxlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrOCIsIiIsWyJGb3JtYXRCbG9jayIsITEsImRpdiJdKSxlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrOSIsIiIsWyJGb3JtYXRCbG9jayIsITEsImFkZHJlc3MiXSl9KGMpLChpPWMpLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0PWksbj1lLmtleUNvZGUscj10LnNlbGVjdGlvbixvPXQuZ2V0Qm9keSgpO0hnKHQsbnVsbCwhMSksOCE9PW4mJjQ2IT09bnx8IXIuaXNDb2xsYXBzZWQoKXx8ci5nZXRTdGFydCgpLmlubmVySFRNTCE9PUNwfHxIZyh0LHFjKG8sci5nZXRTdGFydCgpKSksMzchPT1uJiYzOSE9PW58fEhnKHQscWMobyxyLmdldFN0YXJ0KCkpKX0pLHtnZXQ6YS5nZXQsaGFzOmEuaGFzLHJlZ2lzdGVyOmEucmVnaXN0ZXIsdW5yZWdpc3RlcjphLnVucmVnaXN0ZXIsYXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUsbz10LGk9bjt5aChjKS5mb3JtYXR0ZXIuYXBwbHkocixvLGkpfSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZSxpPXQsYT1uLHU9cjt5aChjKS5mb3JtYXR0ZXIucmVtb3ZlKG8saSxhLHUpfSx0b2dnbGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUsbz10LGk9bjt5aChjKS5mb3JtYXR0ZXIudG9nZ2xlKHIsbyxpKX0sbWF0Y2g6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG89ZSxpPXQsYT1uLHU9cix5aChjKS5mb3JtYXR0ZXIubWF0Y2gobyxpLGEsdSk7dmFyIG8saSxhLHV9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSx5aChjKS5mb3JtYXR0ZXIuY2xvc2VzdCh0KTt2YXIgdH0sbWF0Y2hBbGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1lLHI9dCx5aChjKS5mb3JtYXR0ZXIubWF0Y2hBbGwobixyKTt2YXIgbixyfSxtYXRjaE5vZGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG89ZSxpPXQsYT1uLHU9cix5aChjKS5mb3JtYXR0ZXIubWF0Y2hOb2RlKG8saSxhLHUpO3ZhciBvLGksYSx1fSxjYW5BcHBseTpmdW5jdGlvbihlKXtyZXR1cm4gdD1lLHloKGMpLmZvcm1hdHRlci5jYW5BcHBseSh0KTt2YXIgdH0sZm9ybWF0Q2hhbmdlZDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbz1sLGk9ZSxhPXQsdT1uLHM9cix5aChjKS5mb3JtYXR0ZXIuZm9ybWF0Q2hhbmdlZChvLGksYSx1LHMpO3ZhciBvLGksYSx1LHN9LGdldENzc1RleHQ6UihkYixjKX19ZnVuY3Rpb24gZ2IoZSl7c3dpdGNoKGUudG9Mb3dlckNhc2UoKSl7Y2FzZSJ1bmRvIjpjYXNlInJlZG8iOmNhc2UibWNlcmVwYWludCI6Y2FzZSJtY2Vmb2N1cyI6cmV0dXJuIDE7ZGVmYXVsdDpyZXR1cm59fWZ1bmN0aW9uIHBiKHMpe3ZhciBlLG4scixvLGksYz1kdSgpLGw9YXUoMCksZj1hdSgwKSxkPXtkYXRhOltdLHR5cGluZzohMSxiZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgZT1sLHQ9Yzt5aChzKS51bmRvTWFuYWdlci5iZWZvcmVDaGFuZ2UoZSx0KX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49ZCxyPWYsbz1sLGk9YyxhPWUsdT10LHloKHMpLnVuZG9NYW5hZ2VyLmFkZChuLHIsbyxpLGEsdSk7dmFyIG4scixvLGksYSx1fSx1bmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGU9ZCx0PWwsbj1mLHloKHMpLnVuZG9NYW5hZ2VyLnVuZG8oZSx0LG4pO3ZhciBlLHQsbn0scmVkbzpmdW5jdGlvbigpe3JldHVybiBlPWYsdD1kLmRhdGEseWgocykudW5kb01hbmFnZXIucmVkbyhlLHQpO3ZhciBlLHR9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGU9ZCx0PWY7eWgocykudW5kb01hbmFnZXIuY2xlYXIoZSx0KX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgZT1kO3loKHMpLnVuZG9NYW5hZ2VyLnJlc2V0KGUpfSxoYXNVbmRvOmZ1bmN0aW9uKCl7cmV0dXJuIGU9ZCx0PWYseWgocykudW5kb01hbmFnZXIuaGFzVW5kbyhlLHQpO3ZhciBlLHR9LGhhc1JlZG86ZnVuY3Rpb24oKXtyZXR1cm4gZT1kLHQ9Zix5aChzKS51bmRvTWFuYWdlci5oYXNSZWRvKGUsdCk7dmFyIGUsdH0sdHJhbnNhY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZCxuPWwscj1lLHloKHMpLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KHQsbixyKTt2YXIgdCxuLHJ9LGlnbm9yZTpmdW5jdGlvbihlKXt2YXIgdD1sLG49ZTt5aChzKS51bmRvTWFuYWdlci5pZ25vcmUodCxuKX0sZXh0cmE6ZnVuY3Rpb24oZSx0KXt2YXIgbj1kLHI9ZixvPWUsaT10O3loKHMpLnVuZG9NYW5hZ2VyLmV4dHJhKG4scixvLGkpfX07cmV0dXJuIGhoKHMpfHwocj1kLG89bCxpPWF1KCExKSwobj1zKS5vbigiaW5pdCIsZnVuY3Rpb24oKXtyLmFkZCgpfSksbi5vbigiQmVmb3JlRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpe2diKGUuY29tbWFuZCl8fChnaChyLG8pLHIuYmVmb3JlQ2hhbmdlKCkpfSksbi5vbigiRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpe2diKGUuY29tbWFuZCl8fGEoZSl9KSxuLm9uKCJPYmplY3RSZXNpemVTdGFydCBjdXQiLGZ1bmN0aW9uKCl7ci5iZWZvcmVDaGFuZ2UoKX0pLG4ub24oIlNhdmVDb250ZW50IE9iamVjdFJlc2l6ZWQgYmx1ciIsYSksbi5vbigiZHJhZ2VuZCIsYSksbi5vbigia2V5dXAiLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZTtlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoKDMzPD10JiZ0PD0zNnx8Mzc8PXQmJnQ8PTQwfHw0NT09PXR8fGUuY3RybEtleSkmJihhKCksbi5ub2RlQ2hhbmdlZCgpKSw0NiE9PXQmJjghPT10fHxuLm5vZGVDaGFuZ2VkKCksaS5nZXQoKSYmci50eXBpbmcmJiExPT09ZmgodWgobiksci5kYXRhWzBdKSYmKCExPT09bi5pc0RpcnR5KCkmJihuLnNldERpcnR5KCEwKSxuLmZpcmUoImNoYW5nZSIse2xldmVsOnIuZGF0YVswXSxsYXN0TGV2ZWw6bnVsbH0pKSxuLmZpcmUoIlR5cGluZ1VuZG8iKSxpLnNldCghMSksbi5ub2RlQ2hhbmdlZCgpKSl9KSxuLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuPWUua2V5Q29kZTtlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoMzM8PW4mJm48PTM2fHwzNzw9biYmbjw9NDB8fDQ1PT09bj9yLnR5cGluZyYmYShlKToodD1lLmN0cmxLZXkmJiFlLmFsdEtleXx8ZS5tZXRhS2V5LCEobjwxNnx8MjA8bil8fDIyND09PW58fDkxPT09bnx8ci50eXBpbmd8fHR8fChyLmJlZm9yZUNoYW5nZSgpLG1oKHIsITAsbyksci5hZGQoe30sZSksaS5zZXQoITApKSkpfSksbi5vbigibW91c2Vkb3duIixmdW5jdGlvbihlKXtyLnR5cGluZyYmYShlKX0pLG4ub24oImlucHV0IixmdW5jdGlvbihlKXtlLmlucHV0VHlwZSYmKCJpbnNlcnRSZXBsYWNlbWVudFRleHQiPT09ZS5pbnB1dFR5cGV8fCJpbnNlcnRUZXh0Ij09PWUuaW5wdXRUeXBlJiZudWxsPT09ZS5kYXRhfHwiaW5zZXJ0RnJvbVBhc3RlIj09PWUuaW5wdXRUeXBlfHwiaW5zZXJ0RnJvbURyb3AiPT09ZS5pbnB1dFR5cGUpJiZhKGUpfSksbi5vbigiQWRkVW5kbyBVbmRvIFJlZG8gQ2xlYXJVbmRvcyIsZnVuY3Rpb24oZSl7ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8bi5ub2RlQ2hhbmdlZCgpfSkpLChlPXMpLmFkZFNob3J0Y3V0KCJtZXRhK3oiLCIiLCJVbmRvIiksZS5hZGRTaG9ydGN1dCgibWV0YSt5LG1ldGErc2hpZnQreiIsIiIsIlJlZG8iKSxkO2Z1bmN0aW9uIGEoZSl7bWgociwhMSxvKSxyLmFkZCh7fSxlKX19ZnVuY3Rpb24gaGIoZSl7cmV0dXJuImtleWRvd24iPT09ZS50eXBlfHwia2V5dXAiPT09ZS50eXBlfWZ1bmN0aW9uIHZiKGUpe3ZhciB0PWUua2V5Q29kZTtyZXR1cm4gdD09PUlmLkJBQ0tTUEFDRXx8dD09PUlmLkRFTEVURX1mdW5jdGlvbiBiYihlLHQpe3JldHVybiB6ZShFdC5mcm9tRG9tKHQpLGUuZ2V0UGFyYW0oImlubGluZV9ib3VuZGFyaWVzX3NlbGVjdG9yIiwiYVtocmVmXSxjb2RlLC5tY2UtYW5ub3RhdGlvbiIsInN0cmluZyIpKX1mdW5jdGlvbiB5YihlLHQsbil7dmFyIHIsbyxpPShyPWUsbz10LFUoZXUuRE9NLmdldFBhcmVudHMobi5jb250YWluZXIoKSwiKiIsbykscikpO3JldHVybiB2ZS5mcm9tKGlbaS5sZW5ndGgtMV0pfWZ1bmN0aW9uIENiKGUsdCl7aWYoIXQpcmV0dXJuIHQ7dmFyIG49dC5jb250YWluZXIoKSxyPXQub2Zmc2V0KCk7cmV0dXJuIGU/SXIobik/Vm4obi5uZXh0U2libGluZyk/Y3Mobi5uZXh0U2libGluZywwKTpjcy5hZnRlcihuKTpVcih0KT9jcyhuLHIrMSk6dDpJcihuKT9WbihuLnByZXZpb3VzU2libGluZyk/Y3Mobi5wcmV2aW91c1NpYmxpbmcsbi5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOmNzLmJlZm9yZShuKTp6cih0KT9jcyhuLHItMSk6dH1mdW5jdGlvbiB4YihlKXtyZXR1cm4gcG8oZSl8fHZvKGUpfWZ1bmN0aW9uIHdiKGUsdCl7cmV0dXJuIFZlKGUsdCk/aHIodCx4Yiwobj1lLGZ1bmN0aW9uKGUpe3JldHVybiBqZShuLEV0LmZyb21Eb20oZS5kb20ucGFyZW50Tm9kZSkpfSkpOnZlLm5vbmUoKTt2YXIgbn1mdW5jdGlvbiBTYihlKXt2YXIgdCxuLHI7ZS5kb20uaXNFbXB0eShlLmdldEJvZHkoKSkmJihlLnNldENvbnRlbnQoIiIpLHI9KG49KHQ9ZSkuZ2V0Qm9keSgpKS5maXJzdENoaWxkJiZ0LmRvbS5pc0Jsb2NrKG4uZmlyc3RDaGlsZCk/bi5maXJzdENoaWxkOm4sdC5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24ociwwKSl9ZnVuY3Rpb24gTmIoZSx0KXtyZXR1cm57ZnJvbTplLHRvOnR9fWZ1bmN0aW9uIEViKGUsdCl7cmV0dXJuIHdiKEV0LmZyb21Eb20oZSksRXQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntibG9jazplLHBvc2l0aW9uOnR9fSl9ZnVuY3Rpb24ga2IoZSl7dmFyIHQsbj16KHQ9VG4oZSksZ28pLmZvbGQoSih0KSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zbGljZSgwLGUpfSk7cmV0dXJuIFkobixJbiksbn1mdW5jdGlvbiBfYihlLHQpe3JldHVybiBNKHltKHQsZSkucmV2ZXJzZSgpLGZ1bmN0aW9uKGUpe3JldHVybiBLcihlKX0pLmVhY2goSW4pfWZ1bmN0aW9uIEFiKGUsdCxuLHIpe2lmKEtyKG4pKXJldHVybiBobShuKSxyZihuLmRvbSk7MD09PVUoTHQociksZnVuY3Rpb24oZSl7cmV0dXJuIUtyKGUpfSkubGVuZ3RoJiZLcih0KSYmcXQocixFdC5mcm9tVGFnKCJiciIpKTt2YXIgbz1uZihuLmRvbSxjcy5iZWZvcmUoci5kb20pKTtyZXR1cm4gWShrYih0KSxmdW5jdGlvbihlKXtxdChyLGUpfSksX2IoZSx0KSxvfWZ1bmN0aW9uIFJiKGUsdCxuKXtpZihLcihuKSlyZXR1cm4gSW4obiksS3IodCkmJmhtKHQpLHJmKHQuZG9tKTt2YXIgcj1vZihuLmRvbSk7cmV0dXJuIFkoa2IodCksZnVuY3Rpb24oZSl7TG4obixlKX0pLF9iKGUsdCkscn1mdW5jdGlvbiBEYihlLHQpe2pjKGUsdC5kb20pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb2RlKCl9KS5tYXAoRXQuZnJvbURvbSkuZmlsdGVyKFByKS5lYWNoKEluKX1mdW5jdGlvbiBUYihlLHQsbil7cmV0dXJuIERiKCEwLHQpLERiKCExLG4pLChWZShvPW4scj10KT8oaT15bShyLG8pLHZlLmZyb20oaVtpLmxlbmd0aC0xXSkpOnZlLm5vbmUoKSkuZm9sZChSKFJiLGUsdCxuKSxSKEFiLGUsdCxuKSk7dmFyIHIsbyxpfWZ1bmN0aW9uIE9iKGUsdCxuLHIpe3JldHVybiB0P1RiKGUscixuKTpUYihlLG4scil9ZnVuY3Rpb24gQmIodCxuKXt2YXIgZSxyLG8saSxhLHUscyxjPUV0LmZyb21Eb20odC5nZXRCb2R5KCkpLGw9KGU9Yy5kb20scj1uLCgobz10LnNlbGVjdGlvbi5nZXRSbmcoKSkuY29sbGFwc2VkPyhhPXIsdT1FYihpPWUsY3MuZnJvbVJhbmdlU3RhcnQobykpLHM9dS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBabChhLGksZS5wb3NpdGlvbikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gRWIoaSxlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9aSxuPWEsS24oKHI9ZSkucG9zaXRpb24uZ2V0Tm9kZSgpKSYmITE9PT1LcihyLmJsb2NrKT9qYyghMSxyLmJsb2NrLmRvbSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHIucG9zaXRpb24pP1psKG4sdCxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBFYih0LGUpfSk6dmUuc29tZShyKX0pLmdldE9yKHIpOnI7dmFyIHQsbixyfSl9KX0pLGRuKHUscyxOYikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiExPT09amUoZS5mcm9tLmJsb2NrLGUudG8uYmxvY2spJiZPdCgobj1lKS5mcm9tLmJsb2NrKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBPdChuLnRvLmJsb2NrKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGplKHQsZSl9KX0pLmlzU29tZSgpJiYhMT09PUduKCh0PWUpLmZyb20uYmxvY2suZG9tKSYmITE9PT1Hbih0LnRvLmJsb2NrLmRvbSk7dmFyIHQsbn0pKTp2ZS5ub25lKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE9iKGMsbixlLmZyb20uYmxvY2ssZS50by5ibG9jayl9KSk7cmV0dXJuIGwuZWFjaChmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSksbC5pc1NvbWUoKX1mdW5jdGlvbiBQYihlLHQpe3ZhciBuPUV0LmZyb21Eb20odCkscj1SKGplLGUpO3JldHVybiBwcihuLHlvLHIpLmlzU29tZSgpfWZ1bmN0aW9uIExiKGUpe3ZhciBuLHIsbyx0LGksYSx1LHMsYyxsLGY9RXQuZnJvbURvbShlLmdldEJvZHkoKSksZD1lLnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gYT1kLGM9bmYoKGk9ZikuZG9tLGNzLmZyb21SYW5nZVN0YXJ0KGEpKS5pc05vbmUoKSxsPXRmKGkuZG9tLGNzLmZyb21SYW5nZUVuZChhKSkuaXNOb25lKCksIVBiKHU9aSwocz1hKS5zdGFydENvbnRhaW5lcikmJiFQYih1LHMuZW5kQ29udGFpbmVyKSYmYyYmbD8oKHQ9ZSkuc2V0Q29udGVudCgiIiksdC5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oKSwhMCk6KG49ZixyPWUuc2VsZWN0aW9uLG89ci5nZXRSbmcoKSxkbih3YihuLEV0LmZyb21Eb20oby5zdGFydENvbnRhaW5lcikpLHdiKG4sRXQuZnJvbURvbShvLmVuZENvbnRhaW5lcikpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuITE9PT1qZShlLHQpJiYoby5kZWxldGVDb250ZW50cygpLE9iKG4sITAsZSx0KS5lYWNoKGZ1bmN0aW9uKGUpe3Iuc2V0Um5nKGUudG9SYW5nZSgpKX0pLCEwKX0pLmdldE9yKCExKSl9ZnVuY3Rpb24gSWIoZSx0KXtyZXR1cm4hZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmTGIoZSl9ZnVuY3Rpb24gTWIoZSx0LG4scixvKXtyZXR1cm4gdmUuZnJvbSh0Ll9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0NhcmV0KGUsbixyLG8pKX1mdW5jdGlvbiBGYihlLHQpe3ZhciBuLHI7cmV0dXJuIGUuZmlyZSgiQmVmb3JlT2JqZWN0U2VsZWN0ZWQiLHt0YXJnZXQ6dH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpP3ZlLm5vbmUoKTp2ZS5zb21lKCgocj0obj10KS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGUobikscikpfWZ1bmN0aW9uIFViKGUsdCxuKXt2YXIgcj1uYygxLGUuZ2V0Qm9keSgpLHQpLG89Y3MuZnJvbVJhbmdlU3RhcnQociksaT1vLmdldE5vZGUoKTtpZihFYyhpKSlyZXR1cm4gTWIoMSxlLGksIW8uaXNBdEVuZCgpLCExKTt2YXIgYT1vLmdldE5vZGUoITApO2lmKEVjKGEpKXJldHVybiBNYigxLGUsYSwhMSwhMSk7dmFyIHU9ZS5kb20uZ2V0UGFyZW50KG8uZ2V0Tm9kZSgpLGZ1bmN0aW9uKGUpe3JldHVybiBMeShlKXx8UHkoZSl9KTtyZXR1cm4gRWModSk/TWIoMSxlLHUsITEsbik6dmUubm9uZSgpfWZ1bmN0aW9uIHpiKGUsdCxuKXtyZXR1cm4gdC5jb2xsYXBzZWQ/VWIoZSx0LG4pLmdldE9yKHQpOnR9ZnVuY3Rpb24gSGIoZSl7cmV0dXJuIHJwKGUpfHxaZyhlKX1mdW5jdGlvbiBqYihlKXtyZXR1cm4gb3AoZSl8fGVwKGUpfWZ1bmN0aW9uIFZiKG4scixlLHQsbyxpKXt2YXIgYSx1O3JldHVybiBNYih0LG4saS5nZXROb2RlKCFvKSxvLCEwKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0O3IuY29sbGFwc2VkPyh0PXIuY2xvbmVSYW5nZSgpLG8/dC5zZXRFbmQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KTp0LnNldFN0YXJ0KGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSx0LmRlbGV0ZUNvbnRlbnRzKCkpOnIuZGVsZXRlQ29udGVudHMoKSxuLnNlbGVjdGlvbi5zZXRSbmcoZSl9KSxhPW4uZG9tLFZuKHU9ZSkmJjA9PT11LmRhdGEubGVuZ3RoJiZhLnJlbW92ZSh1KSwhMH1mdW5jdGlvbiBxYihlLHQpe3ZhciBuPWUuc2VsZWN0aW9uLmdldFJuZygpO2lmKCFWbihuLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSlyZXR1cm4hMTt2YXIgcj10P3NjLkZvcndhcmRzOnNjLkJhY2t3YXJkcyxvPU1jKGUuZ2V0Qm9keSgpKSxpPVIoYWMsdD9vLm5leHQ6by5wcmV2KSxhPXQ/SGI6amIsdT1vYyhyLGUuZ2V0Qm9keSgpLG4pLHM9Q2IodCxpKHUpKTtpZighc3x8IXVjKHUscykpcmV0dXJuITE7aWYoYShzKSlyZXR1cm4gVmIoZSxuLHUuZ2V0Tm9kZSgpLHIsdCxzKTt2YXIgYz1pKHMpO3JldHVybiEhKGMmJmEoYykmJnVjKHMsYykpJiZWYihlLG4sdS5nZXROb2RlKCkscix0LGMpfWZ1bmN0aW9uICRiKGwsZixkKXtyZXR1cm4gWmwoZixsLGQpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHM9ZS5nZXROb2RlKCkseW8oRXQuZnJvbURvbShzKSl8fHZvKEV0LmZyb21Eb20ocykpfHwobz1sLHU9ZSxyYyghKGk9ZiksYT1kKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHJjKGksdSkuZm9sZChELGMpfSxjKSk/dmUubm9uZSgpOmYmJkduKGUuZ2V0Tm9kZSgpKXx8ITE9PT1mJiZHbihlLmdldE5vZGUoITApKT8odD1sLG49ZCxyPWUuZ2V0Tm9kZSghMT09PWYpLHdiKEV0LmZyb21Eb20odCksRXQuZnJvbURvbShuLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gS3IoZSk/SXkucmVtb3ZlKGUuZG9tKTpJeS5tb3ZlVG9FbGVtZW50KHIpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB2ZS5zb21lKEl5Lm1vdmVUb0VsZW1lbnQocikpfSkpOmYmJm9wKGQpfHwhMT09PWYmJnJwKGQpP3ZlLnNvbWUoSXkubW92ZVRvUG9zaXRpb24oZSkpOnZlLm5vbmUoKTt2YXIgdCxuLHIsbyxpLGEsdSxzO2Z1bmN0aW9uIGMoZSl7cmV0dXJuIEJyKEV0LmZyb21Eb20oZSkpJiYhUXMoYSx1LG8pfX0pfWZ1bmN0aW9uIFdiKGUsdCl7cmV0dXJuIHZlLmZyb20oYmYoZS5nZXRCb2R5KCksdCkpfWZ1bmN0aW9uIEtiKG0sZyl7dmFyIGU9bS5zZWxlY3Rpb24uZ2V0Tm9kZSgpO3JldHVybiBXYihtLGUpLmZpbHRlcihHbikuZm9sZChmdW5jdGlvbigpe3JldHVybiBzPW0uZ2V0Qm9keSgpLGw9bmMoKGM9Zyk/MTotMSxzLG0uc2VsZWN0aW9uLmdldFJuZygpKSxmPWNzLmZyb21SYW5nZVN0YXJ0KGwpLGQ9RXQuZnJvbURvbShzKSwoITE9PT1jJiZvcChmKT92ZS5zb21lKEl5LnJlbW92ZShmLmdldE5vZGUoITApKSk6YyYmcnAoZik/dmUuc29tZShJeS5yZW1vdmUoZi5nZXROb2RlKCkpKTohMT09PWMmJnJwKGYpJiZfbShkLGYpP2NwKGQsZikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBJeS5yZW1vdmUoZS5nZXROb2RlKCkpfSk6YyYmb3AoZikmJmttKGQsZik/bHAoZCxmKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEl5LnJlbW92ZShlLmdldE5vZGUoKSl9KToocj1zLGU9YyxhPShvPWYpLmdldE5vZGUoITE9PT0oaT1lKSksdT1pPyJhZnRlciI6ImJlZm9yZSIsSG4oYSkmJmEuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpPT09dT8obj1vLmdldE5vZGUoITE9PT0odD1lKSksKHQmJkduKG4ubmV4dFNpYmxpbmcpP3ZlLnNvbWUoSXkubW92ZVRvRWxlbWVudChuLm5leHRTaWJsaW5nKSk6ITE9PT10JiZHbihuLnByZXZpb3VzU2libGluZyk/dmUuc29tZShJeS5tb3ZlVG9FbGVtZW50KG4ucHJldmlvdXNTaWJsaW5nKSk6dmUubm9uZSgpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuICRiKHIsZSxvKX0sdmUuc29tZSkpOiRiKHIsZSxvKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0PXIsbj1vLGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gdmUuc29tZShJeS5yZW1vdmUoZSkpfSxmdW5jdGlvbihlKXtyZXR1cm4gdmUuc29tZShJeS5tb3ZlVG9FbGVtZW50KGUpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIFFzKG4sZSx0KT92ZS5ub25lKCk6dmUuc29tZShJeS5tb3ZlVG9Qb3NpdGlvbihlKSl9KTt2YXIgdCxufSkpKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbihlKXtyZXR1cm4gby5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxRbShvLGksRXQuZnJvbURvbShlKSksITB9LChyPWk9ZyxmdW5jdGlvbihlKXt2YXIgdD1yP2NzLmJlZm9yZShlKTpjcy5hZnRlcihlKTtyZXR1cm4gbi5zZWxlY3Rpb24uc2V0Um5nKHQudG9SYW5nZSgpKSwhMH0pLCh0PW49bz1tLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCEwfSkpO3ZhciB0LG4scixvLGl9KTt2YXIgcixlLG8sdCxuLGksYSx1LHMsYyxsLGYsZH0sdyl9ZnVuY3Rpb24gWGIoZSx0KXt2YXIgbj1lLnNlbGVjdGlvbi5nZXROb2RlKCk7cmV0dXJuISghR24obil8fEpuKG4pKSYmV2IoZSxuLnBhcmVudE5vZGUpLmZpbHRlcihHbikuZm9sZChmdW5jdGlvbigpe3JldHVybiBZKHl1KEV0LmZyb21Eb20oZS5nZXRCb2R5KCkpLCIubWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKSxJbiksUW0oZSx0LEV0LmZyb21Eb20oZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpKSksU2IoZSksITB9LHcpfWZ1bmN0aW9uIFliKGUpe3ZhciB0LG49ZS5kb20scj1lLnNlbGVjdGlvbixvPWJmKGUuZ2V0Qm9keSgpLHIuZ2V0Tm9kZSgpKTtyZXR1cm4gWW4obykmJm4uaXNCbG9jayhvKSYmbi5pc0VtcHR5KG8pJiYodD1uLmNyZWF0ZSgiYnIiLHsiZGF0YS1tY2UtYm9ndXMiOiIxIn0pLG4uc2V0SFRNTChvLCIiKSxvLmFwcGVuZENoaWxkKHQpLHIuc2V0Um5nKGNzLmJlZm9yZSh0KS50b1JhbmdlKCkpKSwhMH1mdW5jdGlvbiBHYihlLHQpe3JldHVybihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpP0tiOlhiKShlLHQpfWZ1bmN0aW9uIEpiKGUsdCl7cmV0dXJuISFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYobj1lLHI9dCxvPWNzLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKSxabChyLG4uZ2V0Qm9keSgpLG8pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4ocj9KZzpRZykoZSl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB2ZS5mcm9tKFpzKHI/MDotMSxlKSl9KS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIG4uc2VsZWN0aW9uLnNlbGVjdChlKSwhMH0pKTt2YXIgbixyLG99ZnVuY3Rpb24gUWIoZSl7cmV0dXJuIE15KGUpJiZlLmRhdGFbMF09PT1Tb31mdW5jdGlvbiBaYihlKXtyZXR1cm4gTXkoZSkmJmUuZGF0YVtlLmRhdGEubGVuZ3RoLTFdPT09U299ZnVuY3Rpb24gZXkoZSl7cmV0dXJuIGUub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTbyl9ZnVuY3Rpb24gdHkoZSx0KXtyZXR1cm4oZT9mdW5jdGlvbihlKXtpZihNeShlLnByZXZpb3VzU2libGluZykpcmV0dXJuIFpiKGUucHJldmlvdXNTaWJsaW5nKXx8ZS5wcmV2aW91c1NpYmxpbmcuYXBwZW5kRGF0YShTbyksZS5wcmV2aW91c1NpYmxpbmc7aWYoTXkoZSkpcmV0dXJuIFFiKGUpfHxlLmluc2VydERhdGEoMCxTbyksZTt2YXIgdD1leShlKTtyZXR1cm4gZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUpLHR9OmZ1bmN0aW9uKGUpe2lmKE15KGUubmV4dFNpYmxpbmcpKXJldHVybiBRYihlLm5leHRTaWJsaW5nKXx8ZS5uZXh0U2libGluZy5pbnNlcnREYXRhKDAsU28pLGUubmV4dFNpYmxpbmc7aWYoTXkoZSkpcmV0dXJuIFpiKGUpfHxlLmFwcGVuZERhdGEoU28pLGU7dmFyIHQ9ZXkoZSk7cmV0dXJuIGUubmV4dFNpYmxpbmc/ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUubmV4dFNpYmxpbmcpOmUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KSx0fSkodCl9ZnVuY3Rpb24gbnkoZSx0KXtyZXR1cm4gVm4oZS5jb250YWluZXIoKSk/dHkodCxlLmNvbnRhaW5lcigpKTp0eSh0LGUuZ2V0Tm9kZSgpKX1mdW5jdGlvbiByeShlLHQpe3ZhciBuPXQuZ2V0KCk7cmV0dXJuIG4mJmUuY29udGFpbmVyKCk9PT1uJiZJcihuKX1mdW5jdGlvbiBveShuLGUpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oZSl7Q2Mobi5nZXQoKSk7dmFyIHQ9RnkoZSk7cmV0dXJuIG4uc2V0KHQpLHZlLnNvbWUoY3ModCx0Lmxlbmd0aC0xKSl9LGZ1bmN0aW9uKGUpe3JldHVybiByZihlKS5tYXAoZnVuY3Rpb24oZSl7aWYocnkoZSxuKSlyZXR1cm4gY3Mobi5nZXQoKSwxKTtDYyhuLmdldCgpKTt2YXIgdD1ueShlLCEwKTtyZXR1cm4gbi5zZXQodCksY3ModCwxKX0pfSxmdW5jdGlvbihlKXtyZXR1cm4gb2YoZSkubWFwKGZ1bmN0aW9uKGUpe2lmKHJ5KGUsbikpcmV0dXJuIGNzKG4uZ2V0KCksbi5nZXQoKS5sZW5ndGgtMSk7Q2Mobi5nZXQoKSk7dmFyIHQ9bnkoZSwhMSk7cmV0dXJuIG4uc2V0KHQpLGNzKHQsdC5sZW5ndGgtMSl9KX0sZnVuY3Rpb24oZSl7Q2Mobi5nZXQoKSk7dmFyIHQ9VXkoZSk7cmV0dXJuIG4uc2V0KHQpLHZlLnNvbWUoY3ModCwxKSl9KX1mdW5jdGlvbiBpeShlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLmFwcGx5KG51bGwsdCk7aWYoci5pc1NvbWUoKSlyZXR1cm4gcn1yZXR1cm4gdmUubm9uZSgpfWZ1bmN0aW9uIGF5KGUsdCl7cmV0dXJuIEpzKHQsZSl8fGV9ZnVuY3Rpb24gdXkoZSx0LG4pe3ZhciByPU95KG4pLG89YXkodCxyLmNvbnRhaW5lcigpKTtyZXR1cm4geWIoZSxvLHIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdGYobyxyKS5iaW5kKFIoeWIsZSxvKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB6eS5iZWZvcmUoZSl9KX0sdmUubm9uZSl9ZnVuY3Rpb24gc3koZSx0KXtyZXR1cm4gbnVsbD09PXFjKGUsdCl9ZnVuY3Rpb24gY3koZSx0LG4pe3JldHVybiB5YihlLHQsbikuZmlsdGVyKFIoc3ksdCkpfWZ1bmN0aW9uIGx5KGUsdCxuKXt2YXIgcj1CeShuKTtyZXR1cm4gY3koZSx0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIG5mKGUscikuaXNOb25lKCk/dmUuc29tZSh6eS5zdGFydChlKSk6dmUubm9uZSgpfSl9ZnVuY3Rpb24gZnkoZSx0LG4pe3ZhciByPU95KG4pO3JldHVybiBjeShlLHQscikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gdGYoZSxyKS5pc05vbmUoKT92ZS5zb21lKHp5LmVuZChlKSk6dmUubm9uZSgpfSl9ZnVuY3Rpb24gZHkoZSx0LG4pe3ZhciByPUJ5KG4pLG89YXkodCxyLmNvbnRhaW5lcigpKTtyZXR1cm4geWIoZSxvLHIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbmYobyxyKS5iaW5kKFIoeWIsZSxvKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB6eS5hZnRlcihlKX0pfSx2ZS5ub25lKX1mdW5jdGlvbiBteShlKXtyZXR1cm4hMT09PSh0PUh5KGUpLCJydGwiPT09ZXUuRE9NLmdldFN0eWxlKHQsImRpcmVjdGlvbiIsITApfHwobj10LnRleHRDb250ZW50LFR5LnRlc3QobikpKTt2YXIgdCxufWZ1bmN0aW9uIGd5KGUsdCxuKXtyZXR1cm4gaXkoW3V5LGx5LGZ5LGR5XSxbZSx0LG5dKS5maWx0ZXIobXkpfWZ1bmN0aW9uIHB5KGUpe3JldHVybiBlLmZvbGQoSigiYmVmb3JlIiksSigic3RhcnQiKSxKKCJlbmQiKSxKKCJhZnRlciIpKX1mdW5jdGlvbiBoeShlKXtyZXR1cm4gZS5mb2xkKHp5LmJlZm9yZSx6eS5iZWZvcmUsenkuYWZ0ZXIsenkuYWZ0ZXIpfWZ1bmN0aW9uIHZ5KGUpe3JldHVybiBlLmZvbGQoenkuc3RhcnQsenkuc3RhcnQsenkuZW5kLHp5LmVuZCl9ZnVuY3Rpb24gYnkoYSxlLHUsdCxuLHMpe3JldHVybiBkbih5YihlLHUsdCkseWIoZSx1LG4pLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUhPT10JiYocj10LG89SnMoZSxuPXUpLGk9SnMocixuKSxvJiZvPT09aSk/enkuYWZ0ZXIoYT9lOnQpOnM7dmFyIG4scixvLGl9KS5nZXRPcihzKX1mdW5jdGlvbiB5eShlLHIpe3JldHVybiBlLmZvbGQodyxmdW5jdGlvbihlKXtyZXR1cm4gbj1yLCEocHkodD1lKT09PXB5KG4pJiZIeSh0KT09PUh5KG4pKTt2YXIgdCxufSl9ZnVuY3Rpb24gQ3koZSx0KXtyZXR1cm4gZT90LmZvbGQoaSh2ZS5zb21lLHp5LnN0YXJ0KSx2ZS5ub25lLGkodmUuc29tZSx6eS5hZnRlciksdmUubm9uZSk6dC5mb2xkKHZlLm5vbmUsaSh2ZS5zb21lLHp5LmJlZm9yZSksdmUubm9uZSxpKHZlLnNvbWUsenkuZW5kKSl9ZnVuY3Rpb24geHkoZSxhLHUscyl7dmFyIHQ9Q2IoZSxzKSxjPWd5KGEsdSx0KTtyZXR1cm4gZ3koYSx1LHQpLmJpbmQoUihDeSxlKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBuPWEscj11LG89YyxpPUNiKHQ9ZSxzKSxabCh0LHIsaSkubWFwKFIoQ2IsdCkpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gby5tYXAoaHkpfSxmdW5jdGlvbihlKXtyZXR1cm4gZ3kobixyLGUpLm1hcChSKGJ5LHQsbixyLGksZSkpLmZpbHRlcihSKHl5LG8pKX0pLmZpbHRlcihteSk7dmFyIHQsbixyLG8saX0pfWZ1bmN0aW9uIHd5KGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByPXdpbmRvdy5jb25zb2xlO3ImJihyLmVycm9yfHxyLmxvZykuYXBwbHkocixBZShbZV0sdCwhMSkpfXZhciBTeSxOeSxFeT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZWRpdG9yTWFuYWdlci5iYXNlVVJMKyIvc2tpbnMvY29udGVudCIscj0iY29udGVudCIrdC5lZGl0b3JNYW5hZ2VyLnN1ZmZpeCsiLmNzcyIsbz0hMD09PXQuaW5saW5lO3JldHVybiBBKGUsZnVuY3Rpb24oZSl7cmV0dXJuL15bYS16MC05XC1dKyQvaS50ZXN0KGUpJiYhbz9uKyIvIitlKyIvIityOnQuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUoZSl9KX0sa3k9MCxfeT1OdC5lYWNoLEF5PWV1LkRPTSxSeT1bOSwyNyxJZi5IT01FLElmLkVORCwxOSwyMCw0NCwxNDQsMTQ1LDMzLDM0LDQ1LDE2LDE3LDE4LDkxLDkyLDkzLElmLkRPV04sSWYuVVAsSWYuTEVGVCxJZi5SSUdIVF0uY29uY2F0KHh0LmJyb3dzZXIuaXNGaXJlZm94KCk/WzIyNF06W10pLER5PSJkYXRhLW1jZS1wbGFjZWhvbGRlciIsVHk9L1tcdTA1OTEtXHUwN0ZGXHVGQjFELVx1RkRGRlx1RkU3MC1cdUZFRkNdLyxPeT1SKENiLCEwKSxCeT1SKENiLCExKSxQeT1ZbixMeT1HbixJeT1pcihbe3JlbW92ZTpbImVsZW1lbnQiXX0se21vdmVUb0VsZW1lbnQ6WyJlbGVtZW50Il19LHttb3ZlVG9Qb3NpdGlvbjpbInBvc2l0aW9uIl19XSksTXk9Vm4sRnk9Uih0eSwhMCksVXk9Uih0eSwhMSksenk9aXIoW3tiZWZvcmU6WyJlbGVtZW50Il19LHtzdGFydDpbImVsZW1lbnQiXX0se2VuZDpbImVsZW1lbnQiXX0se2FmdGVyOlsiZWxlbWVudCJdfV0pLEh5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQodSx1LHUsdSl9O2Z1bmN0aW9uIGp5KGUsdCxuKXt2YXIgcj1lPzE6LTE7cmV0dXJuIHQuc2V0Um5nKGNzKG4uY29udGFpbmVyKCksbi5vZmZzZXQoKStyKS50b1JhbmdlKCkpLHQuZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIixlPyJmb3J3YXJkIjoiYmFja3dhcmQiLCJ3b3JkIiksITB9ZnVuY3Rpb24gVnkoZSx0KXtyZXR1cm4gZT09PXNjLkJhY2t3YXJkcz9xKHQpOnR9ZnVuY3Rpb24gcXkoZSx0LG4scil7Zm9yKHZhciBvLGksYSx1LHM9TWMobiksYz1yLGw9W107Yzspe3ZhciBmPShhPXMsdT1jLHQ9PT1zYy5Gb3J3YXJkcz9hLm5leHQodSk6YS5wcmV2KHUpKTtpZighZilicmVhaztpZihLbihmLmdldE5vZGUoITEpKSlyZXR1cm4gdD09PXNjLkZvcndhcmRzP3twb3NpdGlvbnM6VnkodCxsKS5jb25jYXQoW2ZdKSxicmVha1R5cGU6U3kuQnIsYnJlYWtBdDp2ZS5zb21lKGYpfTp7cG9zaXRpb25zOlZ5KHQsbCksYnJlYWtUeXBlOlN5LkJyLGJyZWFrQXQ6dmUuc29tZShmKX07aWYoZi5pc1Zpc2libGUoKSl7aWYoZShjLGYpKXt2YXIgZD0obz1jLEtuKChpPWYpLmdldE5vZGUodD09PXNjLkZvcndhcmRzKSk/U3kuQnI6ITE9PT1RcyhvLGkpP1N5LkJsb2NrOlN5LldyYXApO3JldHVybntwb3NpdGlvbnM6VnkodCxsKSxicmVha1R5cGU6ZCxicmVha0F0OnZlLnNvbWUoZil9fWwucHVzaChmKSxjPWZ9ZWxzZSBjPWZ9cmV0dXJue3Bvc2l0aW9uczpWeSh0LGwpLGJyZWFrVHlwZTpTeS5Fb2wsYnJlYWtBdDp2ZS5ub25lKCl9fWZ1bmN0aW9uICR5KG4scixvLGUpe3JldHVybiByKG8sZSkuYnJlYWtBdC5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9cihvLGUpLnBvc2l0aW9ucztyZXR1cm4gbj09PXNjLkJhY2t3YXJkcz90LmNvbmNhdChlKTpbZV0uY29uY2F0KHQpfSkuZ2V0T3IoW10pfWZ1bmN0aW9uIFd5KGUsaSl7cmV0dXJuIEwoZSxmdW5jdGlvbihlLG8pe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdmUuc29tZShvKX0sZnVuY3Rpb24ocil7cmV0dXJuIGRuKFEoci5nZXRDbGllbnRSZWN0cygpKSxRKG8uZ2V0Q2xpZW50UmVjdHMoKSksZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmFicyhpLWUubGVmdCk7cmV0dXJuIE1hdGguYWJzKGktdC5sZWZ0KTw9bj9vOnJ9KS5vcihlKX0pfSx2ZS5ub25lKCkpfWZ1bmN0aW9uIEt5KHQsZSl7cmV0dXJuIFEoZS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBXeSh0LGUubGVmdCl9KX1mdW5jdGlvbiBYeShuKXtmdW5jdGlvbiBlKGUpe3JldHVybiBBKGUsZnVuY3Rpb24oZSl7dmFyIHQ9UnUoZSk7cmV0dXJuIHQubm9kZT1uLHR9KX1pZihIbihuKSlyZXR1cm4gZShuLmdldENsaWVudFJlY3RzKCkpO2lmKFZuKG4pKXt2YXIgdD1uLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gdC5zZXRTdGFydChuLDApLHQuc2V0RW5kKG4sbi5kYXRhLmxlbmd0aCksZSh0LmdldENsaWVudFJlY3RzKCkpfX1mdW5jdGlvbiBZeShlKXtyZXR1cm4gSChlLFh5KX1SKHh5LCExKSxSKHh5LCEwKSwoTnk9U3k9e30pW055LkJyPTBdPSJCciIsTnlbTnkuQmxvY2s9MV09IkJsb2NrIixOeVtOeS5XcmFwPTJdPSJXcmFwIixOeVtOeS5Fb2w9M109IkVvbCI7dmFyIEd5LEp5LFF5PVIocXksY3MuaXNBYm92ZSwtMSksWnk9UihxeSxjcy5pc0JlbG93LDEpLGUwPVIoJHksLTEsUXkpLHQwPVIoJHksMSxaeSk7ZnVuY3Rpb24gbjAobyxpLGEsZSx1LHQpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9WXkoW2VdKTstMT09PW8mJih0PXQucmV2ZXJzZSgpKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZighYShyLGwpKXtpZigwPGMubGVuZ3RoJiZpKHIscGUoYykpJiZzKyssci5saW5lPXMsdShyKSlyZXR1cm4hMDtjLnB1c2gocil9fX12YXIgcz0wLGM9W10sbD1wZSh0LmdldENsaWVudFJlY3RzKCkpO2lmKCFsKXJldHVybiBjO3ZhciByPXQuZ2V0Tm9kZSgpO3JldHVybiBuKHIpLGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcig7cj1HcyhyLGUscXIsdCk7KWlmKG4ocikpcmV0dXJufShvLGUsbixyKSxjfWZ1bmN0aW9uIHIwKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5saW5lPnR9fWZ1bmN0aW9uIG8wKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5saW5lPT09dH19ZnVuY3Rpb24gaTAoZSx0KXtyZXR1cm4gTWF0aC5hYnMoZS5sZWZ0LXQpfWZ1bmN0aW9uIGEwKGUsdCl7cmV0dXJuIE1hdGguYWJzKGUucmlnaHQtdCl9ZnVuY3Rpb24gdTAoZSx0KXtyZXR1cm4gZT49dC5sZWZ0JiZlPD10LnJpZ2h0fWZ1bmN0aW9uIHMwKGUsdCl7cmV0dXJuIGU+PXQudG9wJiZlPD10LmJvdHRvbX1mdW5jdGlvbiBjMChlLG8saSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPXcpLG1lKGUsZnVuY3Rpb24oZSx0KXtpZih1MChvLHQpKXJldHVybiBpKHQpP3Q6ZTtpZih1MChvLGUpKXJldHVybiBpKGUpP2U6dDt2YXIgbj1NYXRoLm1pbihpMChlLG8pLGEwKGUsbykpLHI9TWF0aC5taW4oaTAodCxvKSxhMCh0LG8pKTtyZXR1cm4gcj09PW4mJnNlKHQsIm5vZGUiKSYmWkModC5ub2RlKXx8cjxuP3Q6ZX0pfWZ1bmN0aW9uIGwwKGUsdCxuLHIsbyl7dmFyIGk9ZTEocixlLHFyLHQsIW8pO2Rve2lmKCFpfHxuKGkpKXJldHVybn13aGlsZShpPWUxKGksZSxxcix0KSl9ZnVuY3Rpb24gZjAoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIWNuKGUubm9kZSkmJiFRbihlLm5vZGUpfXZhciBvLGksYSx1PVl5KFUoeGUoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSxYcykpLHM9VSh1LFIoczAsbikpO2lmKChhPWMwKHMsdCxyKSkmJigoYT1jMChmdW5jdGlvbihlLHIsdCl7ZnVuY3Rpb24gbih0LGUpe3ZhciBuPVUoWXkoW2VdKSxmdW5jdGlvbihlKXtyZXR1cm4hdChlLHIpfSk7cmV0dXJuIG89by5jb25jYXQobiksMD09PW4ubGVuZ3RofXZvaWQgMD09PXQmJih0PSEwKTt2YXIgbz1bXTtyZXR1cm4gby5wdXNoKHIpLGwwKEd5LlVwLGUsUihuLE91KSxyLm5vZGUsdCksbDAoR3kuRG93bixlLFIobixCdSksci5ub2RlLHQpLG99KGUsYSxyKGEpKSx0LHIpKSYmWHMoYS5ub2RlKSkpcmV0dXJue25vZGU6KG89YSkubm9kZSxiZWZvcmU6aTAobyxpPXQpPGEwKG8saSl9O3JldHVybiBudWxsfWZ1bmN0aW9uIGQwKGUsdCl7ZS5zZWxlY3Rpb24uc2V0Um5nKHQpLG5kKGUsZS5zZWxlY3Rpb24uZ2V0Um5nKCkpfWZ1bmN0aW9uIG0wKGUsdCxuKXtyZXR1cm4gdmUuc29tZSh6YihlLHQsbikpfWZ1bmN0aW9uIGcwKGUsdCxuLHIsbyxpKXt2YXIgYT10PT09c2MuRm9yd2FyZHMsdT1NYyhlLmdldEJvZHkoKSkscz1SKGFjLGE/dS5uZXh0OnUucHJldiksYz1hP3I6bztpZighbi5jb2xsYXBzZWQpe3ZhciBsPUx1KG4pO2lmKGkobCkpcmV0dXJuIE1iKHQsZSxsLHQ9PT1zYy5CYWNrd2FyZHMsITEpfXZhciBmPW9jKHQsZS5nZXRCb2R5KCksbik7aWYoYyhmKSlyZXR1cm4gRmIoZSxmLmdldE5vZGUoIWEpKTt2YXIgZD1DYihhLHMoZikpLG09anIobik7aWYoIWQpcmV0dXJuIG0/dmUuc29tZShuKTp2ZS5ub25lKCk7aWYoYyhkKSlyZXR1cm4gTWIodCxlLGQuZ2V0Tm9kZSghYSksYSwhMSk7dmFyIGc9cyhkKTtyZXR1cm4gZyYmYyhnKSYmdWMoZCxnKT9NYih0LGUsZy5nZXROb2RlKCFhKSxhLCExKTptP20wKGUsZC50b1JhbmdlKCksITEpOnZlLm5vbmUoKX1mdW5jdGlvbiBwMCh0LGUsbixyLG8saSl7dmFyIGE9b2MoZSx0LmdldEJvZHkoKSxuKSx1PXBlKGEuZ2V0Q2xpZW50UmVjdHMoKSkscz1lPT09R3kuRG93bjtpZighdSlyZXR1cm4gdmUubm9uZSgpO3ZhciBjLGw9VSgocz9RQzpKQykodC5nZXRCb2R5KCkscjAoMSksYSksbzAoMSkpLGY9dS5sZWZ0LGQ9YzAobCxmKTtpZihkJiZpKGQubm9kZSkpe3ZhciBtPU1hdGguYWJzKGYtZC5sZWZ0KSxnPU1hdGguYWJzKGYtZC5yaWdodCk7cmV0dXJuIE1iKGUsdCxkLm5vZGUsbTxnLCExKX1pZihjPXIoYSk/YS5nZXROb2RlKCk6byhhKT9hLmdldE5vZGUoITApOkx1KG4pKXt2YXIgcD1mdW5jdGlvbihlLHQsbixyKXtmdW5jdGlvbiBvKGUpe3JldHVybiBwZShlLmdldENsaWVudFJlY3RzKCkpfXZhciBpLGEsdSxzPU1jKHQpLGM9W10sbD0wLGY9MT09PWU/KGk9cy5uZXh0LGE9QnUsdT1PdSxjcy5hZnRlcihyKSk6KGk9cy5wcmV2LGE9T3UsdT1CdSxjcy5iZWZvcmUocikpLGQ9byhmKTtkb3tpZihmLmlzVmlzaWJsZSgpKXt2YXIgbT1vKGYpO2lmKCF1KG0sZCkpezA8Yy5sZW5ndGgmJmEobSxwZShjKSkmJmwrKzt2YXIgZz1SdShtKTtpZihnLnBvc2l0aW9uPWYsZy5saW5lPWwsbihnKSlyZXR1cm4gYztjLnB1c2goZyl9fX13aGlsZShmPWkoZikpO3JldHVybiBjfShlLHQuZ2V0Qm9keSgpLHIwKDEpLGMpLGg9YzAoVShwLG8wKDEpKSxmKTtpZihoKXJldHVybiBtMCh0LGgucG9zaXRpb24udG9SYW5nZSgpLCExKTtpZihoPXBlKFUocCxvMCgwKSkpKXJldHVybiBtMCh0LGgucG9zaXRpb24udG9SYW5nZSgpLCExKX1yZXR1cm4gMD09PWwubGVuZ3RoP3QxKHQscykuZmlsdGVyKHM/bzpyKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHpiKHQsZS50b1JhbmdlKCksITEpfSk6dmUubm9uZSgpfWZ1bmN0aW9uIGgwKHQsZSxuKXtyZXR1cm4gdDEodCxlKS5maWx0ZXIobikuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCEwfSl9ZnVuY3Rpb24gdjAoZSx0KXt2YXIgbj1lLmRvbS5jcmVhdGVSbmcoKTtuLnNldFN0YXJ0KHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksbi5zZXRFbmQodC5jb250YWluZXIoKSx0Lm9mZnNldCgpKSxlLnNlbGVjdGlvbi5zZXRSbmcobil9ZnVuY3Rpb24gYjAoZSx0KXtlP3Quc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsImlubGluZS1ib3VuZGFyeSIpOnQucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfWZ1bmN0aW9uIHkwKHQsZSxuKXtyZXR1cm4gb3koZSxuKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHYwKHQsZSksbn0pfWZ1bmN0aW9uIEMwKGUsdCxuKXtyZXR1cm4hIU1zKGUpJiYobz10LGk9bixhPShyPWUpLmdldEJvZHkoKSx1PWNzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKSx4eShpLFIoYmIsciksYSx1KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB5MChyLG8sZSl9KS5pc1NvbWUoKSk7dmFyIHIsbyxpLGEsdX1mdW5jdGlvbiB4MChlLHQsbil7cmV0dXJuISFNcyh0KSYmKHI9ZSxpPShvPXQpLnNlbGVjdGlvbi5nZXRSbmcoKSxhPXI/Y3MuZnJvbVJhbmdlRW5kKGkpOmNzLmZyb21SYW5nZVN0YXJ0KGkpLCEheShvLnNlbGVjdGlvbi5nZXRTZWwoKS5tb2RpZnkpJiYociYmVXIoYSk/ankoITAsby5zZWxlY3Rpb24sYSk6IShyfHwhenIoYSkpJiZqeSghMSxvLnNlbGVjdGlvbixhKSkpO3ZhciByLG8saSxhfWZ1bmN0aW9uIHcwKGcpe3ZhciBwPWF1KG51bGwpLGg9UihiYixnKTtyZXR1cm4gZy5vbigiTm9kZUNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIG4scixvLHQsaSxhLHUscyxjLGwsZixkLG07IU1zKGcpfHx4dC5icm93c2VyLmlzSUUoKSYmZS5pbml0aWFsfHwoaT1oLGE9Zy5kb20sdT1lLnBhcmVudHMsWSgkKHM9VShBKHl1KEV0LmZyb21Eb20oYS5nZXRSb290KCkpLCcqW2RhdGEtbWNlLXNlbGVjdGVkPSJpbmxpbmUtYm91bmRhcnkiXScpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pLGkpLGM9VSh1LGkpKSxSKGIwLCExKSksWSgkKGMscyksUihiMCwhMCkpLGY9cCwobD1nKS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmITAhPT1sLmNvbXBvc2luZyYmZi5nZXQoKSYmKGQ9Y3MuZnJvbVJhbmdlU3RhcnQobC5zZWxlY3Rpb24uZ2V0Um5nKCkpLGNzLmlzVGV4dFBvc2l0aW9uKGQpJiYhMT09PShVcihtPWQpfHx6cihtKSkmJih2MChsLHFzKGYuZ2V0KCksZCkpLGYuc2V0KG51bGwpKSksbj1oLHI9ZyxvPXAsdD1lLnBhcmVudHMsci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmWShVKHQsbiksZnVuY3Rpb24oZSl7dmFyIHQ9Y3MuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpO2d5KG4sci5nZXRCb2R5KCksdCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4geTAocixvLGUpfSl9KSl9KSxwfWZ1bmN0aW9uIFMwKG4sdCxyKXtpZihNcyhuKSl7dmFyIGU9dDEobix0KS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9bi5zZWxlY3Rpb24uZ2V0Um5nKCk7cmV0dXJuIHQ/Y3MuZnJvbVJhbmdlRW5kKGUpOmNzLmZyb21SYW5nZVN0YXJ0KGUpfSk7cmV0dXJuIGd5KFIoYmIsbiksbi5nZXRCb2R5KCksZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3ZhciB0PWh5KGUpO3JldHVybiBveShyLHQpLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gdjAobixlKSwhMH0pfSl9cmV0dXJuITF9ZnVuY3Rpb24gTjAodCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG95KG4sZSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiB2MCh0LGUpLCEwfSl9fWZ1bmN0aW9uIEUwKHIsbyxpLGEpe3ZhciB1PXIuZ2V0Qm9keSgpLHM9UihiYixyKTtyLnVuZG9NYW5hZ2VyLmlnbm9yZShmdW5jdGlvbigpe3ZhciBlLHQsbjtyLnNlbGVjdGlvbi5zZXRSbmcoKGU9aSx0PWEsKG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSxuLnNldEVuZCh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCkpLG4pKSxyLmV4ZWNDb21tYW5kKCJEZWxldGUiKSxneShzLHUsY3MuZnJvbVJhbmdlU3RhcnQoci5zZWxlY3Rpb24uZ2V0Um5nKCkpKS5tYXAodnkpLm1hcChOMChyLG8pKX0pLHIubm9kZUNoYW5nZWQoKX1mdW5jdGlvbiBrMChlLHQsbil7aWYoZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmTXMoZSkpe3ZhciByPWNzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4gbz10LGE9bix1PXIscz0oaT1lKS5nZXRCb2R5KCksYz1Kcyh1LmNvbnRhaW5lcigpLHMpfHxzLGw9UihiYixpKSwoZj1neShsLGMsdSkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGE/ZS5mb2xkKEoodmUuc29tZSh2eShlKSkpLHZlLm5vbmUsSih2ZS5zb21lKGh5KGUpKSksdmUubm9uZSk6ZS5mb2xkKHZlLm5vbmUsSih2ZS5zb21lKGh5KGUpKSksdmUubm9uZSxKKHZlLnNvbWUodnkoZSkpKSl9KS5tYXAoTjAoaSxvKSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciB0PUhjKGEsYyx1KSxlPXQuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZ3kobCxjLGUpfSk7cmV0dXJuIGRuKGYsZSxmdW5jdGlvbigpe3JldHVybiB5YihsLGMsdSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiEhZG4ocmYobz1lKSxvZihvKSxmdW5jdGlvbihlLHQpe3ZhciBuPUNiKCEwLGUpLHI9Q2IoITEsdCk7cmV0dXJuIHRmKG8sbikuZm9yYWxsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwocil9KX0pLmdldE9yKCEwKSYmKFFtKGksYSxFdC5mcm9tRG9tKGUpKSwhMCk7dmFyIG99KX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYT9FMChpLG8sdSxlKTpFMChpLG8sZSx1KSwhMH0pfSl9KS5nZXRPcighMSl9KX12YXIgaSxvLGEsdSxzLGMsbCxmO3JldHVybiExfWZ1bmN0aW9uIF8wKGUpe3JldHVybiAxPT09enQoZSl9ZnVuY3Rpb24gQTAoZyxwKXt2YXIgdCxlPUV0LmZyb21Eb20oZy5nZXRCb2R5KCkpLG49RXQuZnJvbURvbShnLnNlbGVjdGlvbi5nZXRTdGFydCgpKSxoPVUoeih0PXltKG4sZSksZ28pLmZvbGQoSih0KSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zbGljZSgwLGUpfSksXzApO3JldHVybiBaKGgpLmV4aXN0cyhmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbD1jcy5mcm9tUmFuZ2VTdGFydChnLnNlbGVjdGlvbi5nZXRSbmcoKSksZj1wLGQ9bCxtPWUuZG9tO3JldHVybiEoIWRuKHJmKG0pLG9mKG0pLGZ1bmN0aW9uKGUsdCl7dmFyIG49Q2IoITAsZSkscj1DYighMSx0KSxvPUNiKCExLGQpO3JldHVybiBmP3RmKG0sbykuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwocikmJmQuaXNFcXVhbChuKX0pOm5mKG0sbykuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwobikmJmQuaXNFcXVhbChyKX0pfSkuZ2V0T3IoITApfHxWYygodD1lKS5kb20pJiZNZyh0LmRvbSl8fChuPXAsbz1lLDA9PT0oYz1BKFUoaCxSKFdnLHI9ZykpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbX0pKS5sZW5ndGg/UW0ocixuLG8pOihhPW8uZG9tLHM9VmcoYywodT1VZyghMSkpLmRvbSkscXQoRXQuZnJvbURvbShhKSx1KSxJbihFdC5mcm9tRG9tKGEpKSxpPWNzKHMsMCksci5zZWxlY3Rpb24uc2V0Um5nKGkudG9SYW5nZSgpKSksMCkpfSl9ZnVuY3Rpb24gUjAoZSx0KXtyZXR1cm4hIWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJkEwKGUsdCl9ZnVuY3Rpb24gRDAoZSx0LG4pe3JldHVybiBlLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLFFtKGUsdCxFdC5mcm9tRG9tKG4pKSwhMH1mdW5jdGlvbiBUMChlLHQpe3JldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyhpPWUsdT0oYT10KT9aZzplcCxzPWE/c2MuRm9yd2FyZHM6c2MuQmFja3dhcmRzLGM9b2MocyxpLmdldEJvZHkoKSxpLnNlbGVjdGlvbi5nZXRSbmcoKSksdShjKT9EMChpLGEsYy5nZXROb2RlKCFhKSk6dmUuZnJvbShDYihhLGMpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSkmJnVjKGMsZSl9KS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIEQwKGksYSxlLmdldE5vZGUoIWEpKX0pKToocj10LG89KG49ZSkuc2VsZWN0aW9uLmdldE5vZGUoKSwhIVFuKG8pJiZEMChuLHIsbykpO3ZhciBuLHIsbyxpLGEsdSxzLGN9ZnVuY3Rpb24gTzAoZSl7dmFyIHQ9cGFyc2VJbnQoZSwxMCk7cmV0dXJuIGlzTmFOKHQpPzA6dH1mdW5jdGlvbiBCMChlLHQpe3JldHVybihlfHwidGFibGUiPT09a3QodCk/Im1hcmdpbiI6InBhZGRpbmciKSsoInJ0bCI9PT13bih0LCJkaXJlY3Rpb24iKT8iLXJpZ2h0IjoiLWxlZnQiKX1mdW5jdGlvbiBQMChlKXt2YXIgbix0PW8xKGUpO3JldHVybiFlLm1vZGUuaXNSZWFkT25seSgpJiYoMTx0Lmxlbmd0aHx8KG49ZSxqKHQsZnVuY3Rpb24oZSl7dmFyIHQ9U24oZSxCMChPcyhuKSxlKSkubWFwKE8wKS5nZXRPcigwKTtyZXR1cm4iZmFsc2UiIT09bi5kb20uZ2V0Q29udGVudEVkaXRhYmxlKGUuZG9tKSYmMDx0fSkpKX1mdW5jdGlvbiBMMChlKXtyZXR1cm4gaG8oZSl8fHZvKGUpfWZ1bmN0aW9uIEkwKGUscyl7dmFyIGM9ZS5kb20sdD1lLnNlbGVjdGlvbixuPWUuZm9ybWF0dGVyLHI9ZS5nZXRQYXJhbSgiaW5kZW50YXRpb24iLCI0MHB4Iiwic3RyaW5nIiksbD0vW2EteiVdKyQvaS5leGVjKHIpWzBdLGY9cGFyc2VJbnQociwxMCksZD1PcyhlKSxvPWtzKGUpO2UucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydFVub3JkZXJlZExpc3QiKXx8ZS5xdWVyeUNvbW1hbmRTdGF0ZSgiSW5zZXJ0T3JkZXJlZExpc3QiKXx8IiIhPT1vfHxjLmdldFBhcmVudCh0LmdldE5vZGUoKSxjLmlzQmxvY2spfHxuLmFwcGx5KCJkaXYiKSxZKG8xKGUpLGZ1bmN0aW9uKGUpe3ZhciB0LG49YyxyPXMsbz1mLGk9bCxhPWUuZG9tLHU9QjAoZCxFdC5mcm9tRG9tKGEpKTsib3V0ZGVudCI9PT1yPyh0PU1hdGgubWF4KDAsTzAoYS5zdHlsZVt1XSktbyksbi5zZXRTdHlsZShhLHUsdD90K2k6IiIpKToodD1PMChhLnN0eWxlW3VdKStvK2ksbi5zZXRTdHlsZShhLHUsdCkpfSl9ZnVuY3Rpb24gTTAoZSx0KXtpZihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZQMChlKSl7dmFyIG49ZS5kb20scj1lLnNlbGVjdGlvbi5nZXRSbmcoKSxvPWNzLmZyb21SYW5nZVN0YXJ0KHIpLGk9bi5nZXRQYXJlbnQoci5zdGFydENvbnRhaW5lcixuLmlzQmxvY2spO2lmKG51bGwhPT1pJiZpcChFdC5mcm9tRG9tKGkpLG8pKXJldHVybiBJMChlLCJvdXRkZW50IiksITB9cmV0dXJuITF9ZnVuY3Rpb24gRjAoZSx0KXtlLmdldERvYygpLmV4ZWNDb21tYW5kKHQsITEsbnVsbCl9ZnVuY3Rpb24gVTAoZSl7cmV0dXJuIHZvaWQgMD09PWUudG91Y2hlc3x8MSE9PWUudG91Y2hlcy5sZW5ndGg/dmUubm9uZSgpOnZlLnNvbWUoZS50b3VjaGVzWzBdKX1mdW5jdGlvbiB6MChlLHQpe3JldHVybiBFZShlLHQubm9kZU5hbWUpfWZ1bmN0aW9uIEgwKGUpe3ZhciB0LG4scixvPWUuZG9tLGk9ZS5zZWxlY3Rpb24sYT1lLnNjaGVtYSx1PWEuZ2V0QmxvY2tFbGVtZW50cygpLHM9aS5nZXRTdGFydCgpLGM9ZS5nZXRCb2R5KCksbD1rcyhlKTtpZihzJiZIbihzKSYmbCl7dmFyIGY9Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGEuaXNWYWxpZENoaWxkKGYsbC50b0xvd2VyQ2FzZSgpKSYmKGQ9dSxtPWMsZz1zLCFGKGJtKEV0LmZyb21Eb20oZyksRXQuZnJvbURvbShtKSksZnVuY3Rpb24oZSl7cmV0dXJuIHowKGQsZS5kb20pfSkpKXtmb3IodmFyIGQsbSxnLHAsaCx2PWkuZ2V0Um5nKCksYj12LnN0YXJ0Q29udGFpbmVyLHk9di5zdGFydE9mZnNldCxDPXYuZW5kQ29udGFpbmVyLHg9di5lbmRPZmZzZXQsdz1DZChlKSxzPWMuZmlyc3RDaGlsZDtzOylwPXUsVm4oaD1zKXx8SG4oaCkmJiF6MChwLGgpJiYhUWMoaCk/ZnVuY3Rpb24oZSx0KXtpZihWbih0KSl7aWYoMD09PXQubm9kZVZhbHVlLmxlbmd0aClyZXR1cm4gMTtpZigvXlxzKyQvLnRlc3QodC5ub2RlVmFsdWUpJiYoIXQubmV4dFNpYmxpbmd8fHowKGUsdC5uZXh0U2libGluZykpKXJldHVybiAxfX0odSxzKT8ocz0obj1zKS5uZXh0U2libGluZyxvLnJlbW92ZShuKSk6KHR8fCh0PW8uY3JlYXRlKGwsX3MoZSkpLHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxzKSxyPSEwKSxzPShuPXMpLm5leHRTaWJsaW5nLHQuYXBwZW5kQ2hpbGQobikpOih0PW51bGwscz1zLm5leHRTaWJsaW5nKTtyJiZ3JiYodi5zZXRTdGFydChiLHkpLHYuc2V0RW5kKEMseCksaS5zZXRSbmcodiksZS5ub2RlQ2hhbmdlZCgpKX19fWZ1bmN0aW9uIGowKGUsdCl7dC5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikmJihIcih0KSxlLnNlbGVjdGlvbi5zZXRSbmcoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpLGUuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHQpKX1mdW5jdGlvbiBWMChlLHQpe3ZhciBuPWJyKEV0LmZyb21Eb20oZS5nZXRCb2R5KCkpLCIqW2RhdGEtbWNlLWNhcmV0XSIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb219KS5nZXRPck51bGwoKTtpZihuKXJldHVybiJjb21wb3NpdGlvbnN0YXJ0Ij09PXQudHlwZT8odC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCBqMChlLG4pKTp2b2lkKEZyKG4pJiYoajAoZSxuKSxlLnVuZG9NYW5hZ2VyLmFkZCgpKSl9ZnVuY3Rpb24gcTAoZSx0LG4pe3ZhciByLG8saSxhPU1jKGUuZ2V0Qm9keSgpKSx1PVIoYWMsMT09PXQ/YS5uZXh0OmEucHJldik7IW4uY29sbGFwc2VkfHwiIj09PWtzKGUpfHwocj1lLmRvbS5nZXRQYXJlbnQobi5zdGFydENvbnRhaW5lciwiUFJFIikpJiYodShjcy5mcm9tUmFuZ2VTdGFydChuKSl8fChpPWUuZG9tLmNyZWF0ZShrcyhlKSksKCF4dC5pZXx8MTE8PXh0LmllKSYmKGkuaW5uZXJIVE1MPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpLG89aSwxPT09dD9lLiQocikuYWZ0ZXIobyk6ZS4kKHIpLmJlZm9yZShvKSxlLnNlbGVjdGlvbi5zZWxlY3QobywhMCksZS5zZWxlY3Rpb24uY29sbGFwc2UoKSkpfWZ1bmN0aW9uICQwKHQsZSl7cmV0dXJuIG49dCxyPWU/c2MuRm9yd2FyZHM6c2MuQmFja3dhcmRzLG89bi5zZWxlY3Rpb24uZ2V0Um5nKCksZzAobixyLG8scnAsb3AsaTEpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gcTAobixyLG8pLHZlLm5vbmUoKX0pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gZDAodCxlKSwhMH0pO3ZhciBuLHIsb31mdW5jdGlvbiBXMCh0LGUpe3JldHVybiByPWU/MTotMSxvPShuPXQpLnNlbGVjdGlvbi5nZXRSbmcoKSxwMChuLHIsbyxmdW5jdGlvbihlKXtyZXR1cm4gcnAoZSl8fHRwKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gb3AoZSl8fG5wKGUpfSxpMSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBxMChuLHIsbyksdmUubm9uZSgpfSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBkMCh0LGUpLCEwfSk7dmFyIG4scixvfWZ1bmN0aW9uIEswKGUsdCl7cmV0dXJuIGgwKGUsdCx0P29wOnJwKX1mdW5jdGlvbiBYMChlKXtyZXR1cm4gVChbImZpZ2NhcHRpb24iXSxrdChlKSl9ZnVuY3Rpb24gWTAoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gdC5zZXRTdGFydEJlZm9yZShlLmRvbSksdC5zZXRFbmRCZWZvcmUoZS5kb20pLHR9ZnVuY3Rpb24gRzAoZSx0LG4peyhuP0xuOld0KShlLHQpfWZ1bmN0aW9uIEowKGgsdil7dmFyIGI9RXQuZnJvbURvbShoLmdldEJvZHkoKSkseT1jcy5mcm9tUmFuZ2VTdGFydChoLnNlbGVjdGlvbi5nZXRSbmcoKSksQz1rcyhoKSx4PV9zKGgpLGU9eSx0PVIoamUsYik7cmV0dXJuIGhyKEV0LmZyb21Eb20oZS5jb250YWluZXIoKSksZ28sdCkuZmlsdGVyKFgwKS5leGlzdHMoZnVuY3Rpb24oKXtpZihkPWIsbT15LHY/KHA9ZC5kb20sWnkocCxtKS5icmVha0F0LmlzTm9uZSgpKTooZz1kLmRvbSxReShnLG0pLmJyZWFrQXQuaXNOb25lKCkpKXt2YXIgZT0odD1iLHI9eCxvPXYsIiI9PT0obj1DKT8obD1vLEcwKHQsZj1FdC5mcm9tVGFnKCJiciIpLGwpLFkwKGYpKTooaT10LGE9byx1PXIscz1FdC5mcm9tVGFnKG4pLGM9RXQuZnJvbVRhZygiYnIiKSxobihzLHUpLExuKHMsYyksRzAoaSxzLGEpLFkwKGMpKSk7cmV0dXJuIGguc2VsZWN0aW9uLnNldFJuZyhlKSwhMH12YXIgdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxnLHA7cmV0dXJuITF9KX1mdW5jdGlvbiBRMChlLHQpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmSjAoZSx0KX1mdW5jdGlvbiBaMChlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX1mdW5jdGlvbiBlQyhlLHQpe3JldHVybiBNKChuPXQsSChBKGUsZnVuY3Rpb24oZSl7cmV0dXJuIF9lKHtzaGlmdEtleTohMSxhbHRLZXk6ITEsY3RybEtleTohMSxtZXRhS2V5OiExLGtleUNvZGU6MCxhY3Rpb246dGV9LGUpfSksZnVuY3Rpb24oZSl7cmV0dXJuIG4ua2V5Q29kZT09PWUua2V5Q29kZSYmbi5zaGlmdEtleT09PWUuc2hpZnRLZXkmJm4uYWx0S2V5PT09ZS5hbHRLZXkmJm4uY3RybEtleT09PWUuY3RybEtleSYmbi5tZXRhS2V5PT09ZS5tZXRhS2V5P1tlXTpbXX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hY3Rpb24oKX0pO3ZhciBufWZ1bmN0aW9uIHRDKHQsZSl7dmFyIG49ZT9zYy5Gb3J3YXJkczpzYy5CYWNrd2FyZHMscj10LnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4gZzAodCxuLHIsWmcsZXAsUW4pLmV4aXN0cyhmdW5jdGlvbihlKXtyZXR1cm4gZDAodCxlKSwhMH0pfWZ1bmN0aW9uIG5DKHQsZSl7dmFyIG49ZT8xOi0xLHI9dC5zZWxlY3Rpb24uZ2V0Um5nKCk7cmV0dXJuIHAwKHQsbixyLFpnLGVwLFFuKS5leGlzdHMoZnVuY3Rpb24oZSl7cmV0dXJuIGQwKHQsZSksITB9KX1mdW5jdGlvbiByQyhlLHQpe3JldHVybiBoMChlLHQsdD9lcDpaZyl9ZnVuY3Rpb24gb0MoZSx0LG4scixvKXt2YXIgaSxhPXl1KEV0LmZyb21Eb20obiksInRkLHRoLGNhcHRpb24iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tfSksdT1VKChpPWUsSChhLGZ1bmN0aW9uKGUpe3ZhciB0LG49e2xlZnQ6KHQ9UnUoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkpLmxlZnQtIC0xLHRvcDp0LnRvcC0gLTEscmlnaHQ6dC5yaWdodCstMixib3R0b206dC5ib3R0b20rLTIsd2lkdGg6dC53aWR0aCstMSxoZWlnaHQ6dC5oZWlnaHQrLTF9O3JldHVyblt7eDpuLmxlZnQseTppKG4pLGNlbGw6ZX0se3g6bi5yaWdodCx5OmkobiksY2VsbDplfV19KSksZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxvKX0pLHM9cixjPW87cmV0dXJuIEwodSxmdW5jdGlvbihlLHIpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gdmUuc29tZShyKX0sZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5zcXJ0KE1hdGguYWJzKGUueC1zKStNYXRoLmFicyhlLnktYykpLG49TWF0aC5zcXJ0KE1hdGguYWJzKHIueC1zKStNYXRoLmFicyhyLnktYykpO3JldHVybiB2ZS5zb21lKG48dD9yOmUpfSl9LHZlLm5vbmUoKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNlbGx9KX1mdW5jdGlvbiBpQyhlLHQsbil7dmFyIHIsbyxpPWUodCxuKTtyZXR1cm4gaS5icmVha1R5cGU9PT1TeS5XcmFwJiYwPT09aS5wb3NpdGlvbnMubGVuZ3RofHwhS24obi5nZXROb2RlKCkpJiZpLmJyZWFrVHlwZT09PVN5LkJyJiYxPT09aS5wb3NpdGlvbnMubGVuZ3RoPyhyPWUsbz10LCFpLmJyZWFrQXQuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiByKG8sZSkuYnJlYWtBdC5pc1NvbWUoKX0pKTppLmJyZWFrQXQuaXNOb25lKCl9ZnVuY3Rpb24gYUModCxlLG4scil7dmFyIG8saSxhLHU9dC5zZWxlY3Rpb24uZ2V0Um5nKCkscz1lPzE6LTE7cmV0dXJuISghS3MoKXx8KG89ZSxpPW4sYT1jcy5mcm9tUmFuZ2VTdGFydCh1KSwhamMoIW8saSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwoYSl9KSl8fChNYihzLHQsbiwhZSwhMSkuZWFjaChmdW5jdGlvbihlKXtkMCh0LGUpfSksMCkpfWZ1bmN0aW9uIHVDKHUscyxjKXt2YXIgZSx0LG49KGU9ISFzLHQ9Yy5nZXROb2RlKGUpLEhuKHQpJiYiVEFCTEUiPT09dC5ub2RlTmFtZT92ZS5zb21lKHQpOnZlLm5vbmUoKSkscj0hMT09PXM7bi5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGQwKHUsYy50b1JhbmdlKCkpfSxmdW5jdGlvbihhKXtyZXR1cm4gamMocix1LmdldEJvZHkoKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwoYyl9KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGQwKHUsYy50b1JhbmdlKCkpfSxmdW5jdGlvbihlKXt2YXIgbixyLG89cyxpPWEsdD1jOyhyPWtzKG49dSkpP24udW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgZT1FdC5mcm9tVGFnKHIpO2huKGUsX3MobikpLExuKGUsRXQuZnJvbVRhZygiYnIiKSksKG8/JHQ6cXQpKEV0LmZyb21Eb20oaSksZSk7dmFyIHQ9bi5kb20uY3JlYXRlUm5nKCk7dC5zZXRTdGFydChlLmRvbSwwKSx0LnNldEVuZChlLmRvbSwwKSxkMChuLHQpfSk6ZDAobix0LnRvUmFuZ2UoKSl9KX0pfWZ1bmN0aW9uIHNDKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZCxtLGc9ZS5zZWxlY3Rpb24uZ2V0Um5nKCkscD1jcy5mcm9tUmFuZ2VTdGFydChnKSxoPWUuZ2V0Qm9keSgpO2lmKHR8fCFzMShyLHApKXJldHVybiEoIXR8fCFjMShyLHApKSYmKG89aCxkPWk9bix1QyhlLHQsdj1aKChtPWE9cCkuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gdTEoZCxlLmxlZnQsZS50b3ApfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gS3kocmYodD1lKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2VdLmNvbmNhdChaeSh0LGUpLnBvc2l0aW9ucyl9KS5nZXRPcihbXSksbSk7dmFyIHR9KS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIFEoYS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBXeSh0MChvLGNzLmFmdGVyKGkpKSxlLmxlZnQpfSl9KS5nZXRPcihjcy5hZnRlcihpKSkpLCEwKTt2YXIgdj0odT1oLGw9cz1uLFEoKGY9Yz1wKS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBhMShsLGUubGVmdCxlLnRvcCl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBLeShvZih0PWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gUXkodCxlKS5wb3NpdGlvbnMuY29uY2F0KGUpfSkuZ2V0T3IoW10pLGYpO3ZhciB0fSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBRKGMuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gV3koZTAodSxjcy5iZWZvcmUocykpLGUubGVmdCl9KX0pLmdldE9yKGNzLmJlZm9yZShzKSkpO3JldHVybiB1QyhlLHQsdiksITB9ZnVuY3Rpb24gY0MobixyLG8pe3JldHVybiB2ZS5mcm9tKG4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXROb2RlKCksInRkLHRoIikpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIHZlLmZyb20obi5kb20uZ2V0UGFyZW50KHQsInRhYmxlIikpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbyhuLHIsZSx0KX0pfSkuZ2V0T3IoITEpfWZ1bmN0aW9uIGxDKGUsdCl7cmV0dXJuIGNDKGUsdCxhQyl9ZnVuY3Rpb24gZkMoZSx0KXtyZXR1cm4gY0MoZSx0LHNDKX1mdW5jdGlvbiBkQyhlLHQpe3ZhciBuLHIsbz10LGk9ZS5kb20sYT1lLnNjaGVtYS5nZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKTtpZih0KXshL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKXx8KHI9ZnVuY3Rpb24oZSl7Zm9yKDtlOyl7aWYoMT09PWUubm9kZVR5cGV8fDM9PT1lLm5vZGVUeXBlJiZlLmRhdGEmJi9bXHJcblxzXS8udGVzdChlLmRhdGEpKXJldHVybiBlO2U9ZS5uZXh0U2libGluZ319KHQuZmlyc3RDaGlsZCkpJiYvXihVTHxPTHxETCkkLy50ZXN0KHIubm9kZU5hbWUpJiZ0Lmluc2VydEJlZm9yZShpLmRvYy5jcmVhdGVUZXh0Tm9kZSh3byksdC5maXJzdENoaWxkKTt2YXIgdT1pLmNyZWF0ZVJuZygpO2lmKHQubm9ybWFsaXplKCksdC5oYXNDaGlsZE5vZGVzKCkpe2Zvcih2YXIgcz1uZXcgRHIodCx0KTtuPXMuY3VycmVudCgpOyl7aWYoVm4obikpe3Uuc2V0U3RhcnQobiwwKSx1LnNldEVuZChuLDApO2JyZWFrfWlmKGFbbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7dS5zZXRTdGFydEJlZm9yZShuKSx1LnNldEVuZEJlZm9yZShuKTticmVha31vPW4sbj1zLm5leHQoKX1ufHwodS5zZXRTdGFydChvLDApLHUuc2V0RW5kKG8sMCkpfWVsc2UgS24odCk/dC5uZXh0U2libGluZyYmaS5pc0Jsb2NrKHQubmV4dFNpYmxpbmcpPyh1LnNldFN0YXJ0QmVmb3JlKHQpLHUuc2V0RW5kQmVmb3JlKHQpKToodS5zZXRTdGFydEFmdGVyKHQpLHUuc2V0RW5kQWZ0ZXIodCkpOih1LnNldFN0YXJ0KHQsMCksdS5zZXRFbmQodCwwKSk7ZS5zZWxlY3Rpb24uc2V0Um5nKHUpLG5kKGUsdSl9fWZ1bmN0aW9uIG1DKGUpe3JldHVybiB2ZS5mcm9tKGUuZG9tLmdldFBhcmVudChlLnNlbGVjdGlvbi5nZXRTdGFydCghMCksZS5kb20uaXNCbG9jaykpfWZ1bmN0aW9uIGdDKGUsdCl7cmV0dXJuIGUmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLm5vZGVOYW1lPT09dH1mdW5jdGlvbiBwQyhlKXtyZXR1cm4gZSYmL14oT0x8VUx8TEkpJC8udGVzdChlLm5vZGVOYW1lKX1mdW5jdGlvbiBoQyhlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKT90OmV9ZnVuY3Rpb24gdkMoZSx0LG4pe2Zvcih2YXIgcj1lW24/ImZpcnN0Q2hpbGQiOiJsYXN0Q2hpbGQiXTtyJiYhSG4ocik7KXI9cltuPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyJdO3JldHVybiByPT09dH1mdW5jdGlvbiBiQyhlKXtlLmlubmVySFRNTD0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nfWZ1bmN0aW9uIHlDKGUsdCl7cmV0dXJuIGUubm9kZU5hbWU9PT10fHxlLnByZXZpb3VzU2libGluZyYmZS5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWU9PT10fWZ1bmN0aW9uIENDKGUsdCl7cmV0dXJuIHQmJmUuaXNCbG9jayh0KSYmIS9eKFREfFRIfENBUFRJT058Rk9STSkkLy50ZXN0KHQubm9kZU5hbWUpJiYhL14oZml4ZWR8YWJzb2x1dGUpL2kudGVzdCh0LnN0eWxlLnBvc2l0aW9uKSYmInRydWUiIT09ZS5nZXRDb250ZW50RWRpdGFibGUodCl9ZnVuY3Rpb24geEMoZSx0LG4pe3JldHVybiExPT09Vm4odCk/bjplPzE9PT1uJiZ0LmRhdGEuY2hhckF0KG4tMSk9PT1Tbz8wOm46bj09PXQuZGF0YS5sZW5ndGgtMSYmdC5kYXRhLmNoYXJBdChuKT09PVNvP3QuZGF0YS5sZW5ndGg6bn1mdW5jdGlvbiB3QyhlLHQpe2Zvcih2YXIgbixyPWUuZ2V0Um9vdCgpLG89dDtvIT09ciYmImZhbHNlIiE9PWUuZ2V0Q29udGVudEVkaXRhYmxlKG8pOykidHJ1ZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZShvKSYmKG49byksbz1vLnBhcmVudE5vZGU7cmV0dXJuIG8hPT1yP246cn1mdW5jdGlvbiBTQyhlLHQpe3ZhciBuPWtzKGUpO24mJm4udG9Mb3dlckNhc2UoKT09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZmdW5jdGlvbihlLG8sdCl7dmFyIGk9ZS5kb207dmUuZnJvbSh0LnN0eWxlKS5tYXAoaS5wYXJzZVN0eWxlKS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PU5uKEV0LmZyb21Eb20obykpLG49X2UoX2Uoe30sdCksZSk7aS5zZXRTdHlsZXMobyxuKX0pLGRuKHZlLmZyb20odC5jbGFzcykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9ccysvKX0pLHZlLmZyb20oby5jbGFzc05hbWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gVShlLnNwbGl0KC9ccysvKSxmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KX0pLGZ1bmN0aW9uKHQsZSl7dmFyIG49VShlLGZ1bmN0aW9uKGUpe3JldHVybiFUKHQsZSl9KSxyPUFlKEFlKFtdLHQsITApLG4sITApO2kuc2V0QXR0cmliKG8sImNsYXNzIixyLmpvaW4oIiAiKSl9KTt2YXIgbj1bInN0eWxlIiwiY2xhc3MiXSxyPWFlKHQsZnVuY3Rpb24oZSx0KXtyZXR1cm4hVChuLHQpfSk7aS5zZXRBdHRyaWJzKG8scil9KGUsdCxfcyhlKSl9ZnVuY3Rpb24gTkMoYSxlKXtmdW5jdGlvbiB0KGUpe3ZhciB0LG49bSxyPWwuZ2V0VGV4dElubGluZUVsZW1lbnRzKCksbz1lfHwiVEFCTEUiPT09Q3x8IkhSIj09PUM/Yy5jcmVhdGUoZXx8cCk6Yi5jbG9uZU5vZGUoITEpLGk9bztpZighMT09PWEuZ2V0UGFyYW0oImtlZXBfc3R5bGVzIiwhMCkpYy5zZXRBdHRyaWIobywic3R5bGUiLG51bGwpLGMuc2V0QXR0cmliKG8sImNsYXNzIixudWxsKTtlbHNlIGZvcig7cltuLm5vZGVOYW1lXSYmKFZjKG4pfHxRYyhuKXx8KHQ9bi5jbG9uZU5vZGUoITEpLGMuc2V0QXR0cmliKHQsImlkIiwiIiksby5oYXNDaGlsZE5vZGVzKCk/dC5hcHBlbmRDaGlsZChvLmZpcnN0Q2hpbGQpOmk9dCxvLmFwcGVuZENoaWxkKHQpKSksKG49bi5wYXJlbnROb2RlKSYmbiE9PUY7KTtyZXR1cm4gU0MoYSxvKSxiQyhpKSxvfWZ1bmN0aW9uIG4oZSl7dmFyIHQsbixyPXhDKGUsbSxnKTtpZighVm4obSl8fCEoZT8wPHI6cjxtLm5vZGVWYWx1ZS5sZW5ndGgpKXtpZihtLnBhcmVudE5vZGU9PT1iJiZzJiYhZSlyZXR1cm4gMTtpZihlJiZIbihtKSYmbT09PWIuZmlyc3RDaGlsZClyZXR1cm4gMTtpZih5QyhtLCJUQUJMRSIpfHx5QyhtLCJIUiIpKXJldHVybiBzJiYhZXx8IXMmJmU7dmFyIG89bmV3IERyKG0sYik7Zm9yKFZuKG0pJiYoZSYmMD09PXI/by5wcmV2KCk6ZXx8ciE9PW0ubm9kZVZhbHVlLmxlbmd0aHx8by5uZXh0KCkpO3Q9by5jdXJyZW50KCk7KXtpZihIbih0KSl7aWYoIXQuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpJiYobj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZltuXSYmImJyIiE9PW4pKXJldHVybn1lbHNlIGlmKFZuKHQpJiYhJHIodC5ub2RlVmFsdWUpKXJldHVybjtlP28ucHJldigpOm8ubmV4dCgpfXJldHVybiAxfX1mdW5jdGlvbiByKCl7dT0vXihIWzEtNl18UFJFfEZJR1VSRSkkLy50ZXN0KEMpJiYiSEdST1VQIiE9PXg/dChwKTp0KCksYS5nZXRQYXJhbSgiZW5kX2NvbnRhaW5lcl9vbl9lbXB0eV9ibG9jayIsITEpJiZDQyhjLHkpJiZjLmlzRW1wdHkoYik/dT1jLnNwbGl0KHksYik6Yy5pbnNlcnRBZnRlcih1LGIpLGRDKGEsdSl9dmFyIG8sdSxpLHMsYz1hLmRvbSxsPWEuc2NoZW1hLGY9bC5nZXROb25FbXB0eUVsZW1lbnRzKCksZD1hLnNlbGVjdGlvbi5nZXRSbmcoKTtPZihjLGQpLmVhY2goZnVuY3Rpb24oZSl7ZC5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLGQuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KX0pO3ZhciBtPWQuc3RhcnRDb250YWluZXIsZz1kLnN0YXJ0T2Zmc2V0LHA9a3MoYSksaD0hKCFlfHwhZS5zaGlmdEtleSksdj0hKCFlfHwhZS5jdHJsS2V5KTtIbihtKSYmbS5oYXNDaGlsZE5vZGVzKCkmJihzPWc+bS5jaGlsZE5vZGVzLmxlbmd0aC0xLG09bS5jaGlsZE5vZGVzW01hdGgubWluKGcsbS5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fG0sZz1zJiZWbihtKT9tLm5vZGVWYWx1ZS5sZW5ndGg6MCk7dmFyIGIseSxDLHgsdyxTLHAsTixFLGssXyxBLFIsRCxULE8sQixQLEwsSSxNLEY9d0MoYyxtKTtGJiYoKHAmJiFofHwhcCYmaCkmJihtPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsPXB8fCJQIixmPWUuZG9tLGQ9d0MoZixuKSxtPWYuZ2V0UGFyZW50KG4sZi5pc0Jsb2NrKTtpZighbXx8IUNDKGYsbSkpe2lmKHM9KChtPW18fGQpPT09ZS5nZXRCb2R5KCl8fChjPW0pJiYvXihURHxUSHxDQVBUSU9OKSQvLnRlc3QoYy5ub2RlTmFtZSk/bTptLnBhcmVudE5vZGUpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIW0uaGFzQ2hpbGROb2RlcygpKXJldHVybiBTQyhlLG89Zi5jcmVhdGUobCkpLG0uYXBwZW5kQ2hpbGQobyksdC5zZXRTdGFydChvLDApLHQuc2V0RW5kKG8sMCksbztmb3IoYT1uO2EucGFyZW50Tm9kZSE9PW07KWE9YS5wYXJlbnROb2RlO2Zvcig7YSYmIWYuaXNCbG9jayhhKTspYT0oaT1hKS5wcmV2aW91c1NpYmxpbmc7aWYoaSYmZS5zY2hlbWEuaXNWYWxpZENoaWxkKHMsbC50b0xvd2VyQ2FzZSgpKSl7Zm9yKFNDKGUsbz1mLmNyZWF0ZShsKSksaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLGkpLGE9aTthJiYhZi5pc0Jsb2NrKGEpOyl1PWEubmV4dFNpYmxpbmcsby5hcHBlbmRDaGlsZChhKSxhPXU7dC5zZXRTdGFydChuLHIpLHQuc2V0RW5kKG4scil9fXJldHVybiBufShhLGQsbSxnKSkseT0oYj1jLmdldFBhcmVudChtLGMuaXNCbG9jaykpP2MuZ2V0UGFyZW50KGIucGFyZW50Tm9kZSxjLmlzQmxvY2spOm51bGwsQz1iP2Iubm9kZU5hbWUudG9VcHBlckNhc2UoKToiIiwiTEkiIT09KHg9eT95Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiIpfHx2fHwoeT0oYj15KS5wYXJlbnROb2RlLEM9eCksL14oTEl8RFR8REQpJC8udGVzdChDKSYmYy5pc0VtcHR5KGIpPyhFPXQsaz15LF89YixBPXAsST0oTj1hKS5kb20sTT1OLnNlbGVjdGlvbi5nZXRSbmcoKSxrIT09Ti5nZXRCb2R5KCkmJihEPShBPXBDKFI9aykmJnBDKFIucGFyZW50Tm9kZSk/IkxJIjpBKT9FKEEpOkkuY3JlYXRlKCJCUiIpLHZDKGssXywhMCkmJnZDKGssXywhMSk/Z0MoaywiTEkiKT8oVD1oQyhrKSxJLmluc2VydEFmdGVyKEQsVCksKG51bGw9PT0oTD0oUD1rKS5wYXJlbnROb2RlKXx8dm9pZCAwPT09TD92b2lkIDA6TC5maXJzdENoaWxkKT09PVA/SS5yZW1vdmUoVCk6SS5yZW1vdmUoaykpOkkucmVwbGFjZShELGspOih2QyhrLF8sITApP2dDKGssIkxJIik/KEkuaW5zZXJ0QWZ0ZXIoRCxoQyhrKSksRC5hcHBlbmRDaGlsZChJLmRvYy5jcmVhdGVUZXh0Tm9kZSgiICIpKSxELmFwcGVuZENoaWxkKGspKTprLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEQsayk6dkMoayxfLCExKT9JLmluc2VydEFmdGVyKEQsaEMoaykpOihrPWhDKGspLChPPU0uY2xvbmVSYW5nZSgpKS5zZXRTdGFydEFmdGVyKF8pLE8uc2V0RW5kQWZ0ZXIoayksQj1PLmV4dHJhY3RDb250ZW50cygpLCJMSSI9PT1BJiYoQi5maXJzdENoaWxkJiYiTEkiPT09Qi5maXJzdENoaWxkLm5vZGVOYW1lKT8oRD1CLmZpcnN0Q2hpbGQsSS5pbnNlcnRBZnRlcihCLGspKTooSS5pbnNlcnRBZnRlcihCLGspLEkuaW5zZXJ0QWZ0ZXIoRCxrKSkpLEkucmVtb3ZlKF8pKSxkQyhOLEQpKSk6cCYmYj09PWEuZ2V0Qm9keSgpfHwocD1wfHwiUCIsTHIoYik/KHU9SHIoYiksYy5pc0VtcHR5KGIpJiZiQyhiKSxTQyhhLHUpLGRDKGEsdSkpOm4oKT9yKCk6bighMCk/KHU9Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0KCksYiksZEMoYSx5QyhiLCJIUiIpP3U6YikpOigoUz0odz1kKS5jbG9uZVJhbmdlKCkpLnNldFN0YXJ0KHcuc3RhcnRDb250YWluZXIseEMoITAsdy5zdGFydENvbnRhaW5lcix3LnN0YXJ0T2Zmc2V0KSksUy5zZXRFbmQody5lbmRDb250YWluZXIseEMoITEsdy5lbmRDb250YWluZXIsdy5lbmRPZmZzZXQpKSwobz1TLmNsb25lUmFuZ2UoKSkuc2V0RW5kQWZ0ZXIoYiksaT1vLmV4dHJhY3RDb250ZW50cygpLFkocXUoRXQuZnJvbURvbShpKSxBbiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb207dC5ub2RlVmFsdWU9RW8odC5ub2RlVmFsdWUpfSksZnVuY3Rpb24oZSl7Zm9yKDtWbihlKSYmKGUubm9kZVZhbHVlPWUubm9kZVZhbHVlLnJlcGxhY2UoL15bXHJcbl0rLywiIikpLGU9ZS5maXJzdENoaWxkOyk7fShpKSx1PWkuZmlyc3RDaGlsZCxjLmluc2VydEFmdGVyKGksYiksZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89dSxpPVtdO2lmKG8pe2Zvcig7bz1vLmZpcnN0Q2hpbGQ7KXtpZihlLmlzQmxvY2sobykpcmV0dXJuO0huKG8pJiYhdFtvLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiZpLnB1c2gobyl9Zm9yKG49aS5sZW5ndGg7bi0tOykhKG89aVtuXSkuaGFzQ2hpbGROb2RlcygpfHxvLmZpcnN0Q2hpbGQ9PT1vLmxhc3RDaGlsZCYmIiI9PT1vLmZpcnN0Q2hpbGQubm9kZVZhbHVlP2UucmVtb3ZlKG8pOihyPW8pJiYiQSI9PT1yLm5vZGVOYW1lJiZlLmlzRW1wdHkocikmJmUucmVtb3ZlKG8pfX0oYyxmKSxmdW5jdGlvbihlLHQpe3Qubm9ybWFsaXplKCk7dmFyIG49dC5sYXN0Q2hpbGQ7biYmIS9eKGxlZnR8cmlnaHQpJC9naS50ZXN0KGUuZ2V0U3R5bGUobiwiZmxvYXQiLCEwKSl8fGUuYWRkKHQsImJyIil9KGMsYiksYy5pc0VtcHR5KGIpJiZiQyhiKSx1Lm5vcm1hbGl6ZSgpLGMuaXNFbXB0eSh1KT8oYy5yZW1vdmUodSkscigpKTooU0MoYSx1KSxkQyhhLHUpKSksYy5zZXRBdHRyaWIodSwiaWQiLCIiKSxhLmZpcmUoIk5ld0Jsb2NrIix7bmV3QmxvY2s6dX0pKSl9ZnVuY3Rpb24gRUMoZSx0LG4pe3ZhciByPWUuZG9tLmNyZWF0ZVJuZygpO24/KHIuc2V0U3RhcnRCZWZvcmUodCksci5zZXRFbmRCZWZvcmUodCkpOihyLnNldFN0YXJ0QWZ0ZXIodCksci5zZXRFbmRBZnRlcih0KSksZS5zZWxlY3Rpb24uc2V0Um5nKHIpLG5kKGUscil9ZnVuY3Rpb24ga0MoZSx0KXt2YXIgbj1FdC5mcm9tVGFnKCJiciIpO3F0KEV0LmZyb21Eb20odCksbiksZS51bmRvTWFuYWdlci5hZGQoKX1mdW5jdGlvbiBfQyhlLHQpe2wxKGUuZ2V0Qm9keSgpLHQpfHwkdChFdC5mcm9tRG9tKHQpLEV0LmZyb21UYWcoImJyIikpO3ZhciBuPUV0LmZyb21UYWcoImJyIik7JHQoRXQuZnJvbURvbSh0KSxuKSxFQyhlLG4uZG9tLCExKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfWZ1bmN0aW9uIEFDKGUpe3JldHVybiBlJiYiQSI9PT1lLm5vZGVOYW1lJiYiaHJlZiJpbiBlfWZ1bmN0aW9uIFJDKGUpe3JldHVybiBlLmZvbGQoRCxBQyxBQyxEKX1mdW5jdGlvbiBEQyhlLHQpe3QuZm9sZCh0ZSxSKGtDLGUpLFIoX0MsZSksdGUpfWZ1bmN0aW9uIFRDKGUsdCl7dmFyIG4scixvLGk9KHI9UihiYixuPWUpLG89Y3MuZnJvbVJhbmdlU3RhcnQobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLGd5KHIsbi5nZXRCb2R5KCksbykuZmlsdGVyKFJDKSk7aS5pc1NvbWUoKT9pLmVhY2goUihEQyxlKSk6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5zZWxlY3Rpb24saT1lLmRvbSxhPW8uZ2V0Um5nKCk7T2YoaSxhKS5lYWNoKGZ1bmN0aW9uKGUpe2Euc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSxhLnNldEVuZChlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9KTt2YXIgdSxzPWEuc3RhcnRPZmZzZXQsYz1hLnN0YXJ0Q29udGFpbmVyOzE9PT1jLm5vZGVUeXBlJiZjLmhhc0NoaWxkTm9kZXMoKSYmKHU9cz5jLmNoaWxkTm9kZXMubGVuZ3RoLTEsYz1jLmNoaWxkTm9kZXNbTWF0aC5taW4ocyxjLmNoaWxkTm9kZXMubGVuZ3RoLTEpXXx8YyxzPXUmJjM9PT1jLm5vZGVUeXBlP2Mubm9kZVZhbHVlLmxlbmd0aDowKTt2YXIgbD1pLmdldFBhcmVudChjLGkuaXNCbG9jayksZj1sP2kuZ2V0UGFyZW50KGwucGFyZW50Tm9kZSxpLmlzQmxvY2spOm51bGwsZD1mP2Yubm9kZU5hbWUudG9VcHBlckNhc2UoKToiIixtPSEoIXR8fCF0LmN0cmxLZXkpOyJMSSIhPT1kfHxtfHwobD1mKSxjJiYzPT09Yy5ub2RlVHlwZSYmcz49Yy5ub2RlVmFsdWUubGVuZ3RoJiYhZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49bmV3IERyKGMsbCkscj1lLmdldE5vbkVtcHR5RWxlbWVudHMoKTt0PW4ubmV4dCgpOylpZihyW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV18fDA8dC5sZW5ndGgpcmV0dXJuIDF9KGUuc2NoZW1hKSYmKG49aS5jcmVhdGUoImJyIiksYS5pbnNlcnROb2RlKG4pLGEuc2V0U3RhcnRBZnRlcihuKSxhLnNldEVuZEFmdGVyKG4pLHI9ITApLG49aS5jcmVhdGUoImJyIiksZnMoaSxhLG4pLEVDKGUsbixyKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfShlLHQpfWZ1bmN0aW9uIE9DKGUsdCl7cmV0dXJuIG1DKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDx0Lmxlbmd0aCYmemUoRXQuZnJvbURvbShlKSx0KX0pLmlzU29tZSgpfWZ1bmN0aW9uIEJDKGUsdCl7cmV0dXJuIE9DKGUsZS5nZXRQYXJhbSgibm9fbmV3bGluZV9zZWxlY3RvciIsIiIpKX1mdW5jdGlvbiBQQyhuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4iIj09PWtzKGUpPT09bn19ZnVuY3Rpb24gTEMobil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG1DKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdm8oRXQuZnJvbURvbShlKSl9KS5pc1NvbWUoKT09PW59fWZ1bmN0aW9uIElDKG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG1DKGUpLmZvbGQoSigiIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUudG9VcHBlckNhc2UoKX0pPT09bi50b1VwcGVyQ2FzZSgpPT09cn19ZnVuY3Rpb24gTUMoZSl7cmV0dXJuIElDKCJwcmUiLGUpfWZ1bmN0aW9uIEZDKG4pe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBlLmdldFBhcmFtKCJicl9pbl9wcmUiLCEwKT09PW59fWZ1bmN0aW9uIFVDKGUsdCl7cmV0dXJuIE9DKGUsZS5nZXRQYXJhbSgiYnJfbmV3bGluZV9zZWxlY3RvciIsIi5tY2UtdG9jIGgyLGZpZ2NhcHRpb24sY2FwdGlvbiIpKX1mdW5jdGlvbiB6QyhlLHQpe3JldHVybiB0fWZ1bmN0aW9uIEhDKGUpe3ZhciB0PWtzKGUpLG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLmdldFJvb3QoKSxvPXQ7byE9PXImJiJmYWxzZSIhPT1lLmdldENvbnRlbnRFZGl0YWJsZShvKTspInRydWUiPT09ZS5nZXRDb250ZW50RWRpdGFibGUobykmJihuPW8pLG89by5wYXJlbnROb2RlO3JldHVybiBvIT09cj9uOnJ9KGUuZG9tLGUuc2VsZWN0aW9uLmdldFN0YXJ0KCkpO3JldHVybiBuJiZlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQobi5ub2RlTmFtZSx0fHwiUCIpfWZ1bmN0aW9uIGpDKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIEwoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0KG4scil9LCEwKT92ZS5zb21lKHQpOnZlLm5vbmUoKX19ZnVuY3Rpb24gVkMoZSx0KXt2YXIgbixyO249ZSxyPXQsaXkoW2pDKFtCQ10sZjEubm9uZSgpKSxqQyhbSUMoInN1bW1hcnkiLCEwKV0sZjEuYnIoKSksakMoW01DKCEwKSxGQyghMSksekNdLGYxLmJyKCkpLGpDKFtNQyghMCksRkMoITEpXSxmMS5ibG9jaygpKSxqQyhbTUMoITApLEZDKCEwKSx6Q10sZjEuYmxvY2soKSksakMoW01DKCEwKSxGQyghMCldLGYxLmJyKCkpLGpDKFtMQyghMCksekNdLGYxLmJyKCkpLGpDKFtMQyghMCldLGYxLmJsb2NrKCkpLGpDKFtQQyghMCksekMsSENdLGYxLmJsb2NrKCkpLGpDKFtQQyghMCldLGYxLmJyKCkpLGpDKFtVQ10sZjEuYnIoKSksakMoW1BDKCExKSx6Q10sZjEuYnIoKSksakMoW0hDXSxmMS5ibG9jaygpKV0sW24sISghcnx8IXIuc2hpZnRLZXkpXSkuZ2V0T3IoZjEubm9uZSgpKS5mb2xkKGZ1bmN0aW9uKCl7VEMoZSx0KX0sZnVuY3Rpb24oKXtOQyhlLHQpfSx0ZSl9ZnVuY3Rpb24gcUMoZSl7cmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9ZnVuY3Rpb24gJEMoZSl7cmV0dXJuIGUua2V5Q29kZT09PUlmLlBBR0VfVVB8fGUua2V5Q29kZT09PUlmLlBBR0VfRE9XTn1mdW5jdGlvbiBXQyhlLHQsbil7biYmIWUuZ2V0KCk/dC5vbigiTm9kZUNoYW5nZSIscUMsITApOiFuJiZlLmdldCgpJiZ0Lm9mZigiTm9kZUNoYW5nZSIscUMpLGUuc2V0KG4pfWZ1bmN0aW9uIEtDKG4scil7dmFyIGU9ci5jb250YWluZXIoKSx0PXIub2Zmc2V0KCk7cmV0dXJuIFZuKGUpPyhlLmluc2VydERhdGEodCxuKSx2ZS5zb21lKGNzKGUsdCtuLmxlbmd0aCkpKTppYyhyKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9RXQuZnJvbVRleHQobik7cmV0dXJuKHIuaXNBdEVuZCgpPyR0OnF0KShlLHQpLGNzKHQuZG9tLG4ubGVuZ3RoKX0pfWZ1bmN0aW9uIFhDKGksYSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiByPWksKCFPbShvPWUpJiYobj1vLG5mKCh0PXIpLmRvbSxuKS5pc05vbmUoKXx8dGYodC5kb20sbikuaXNOb25lKCl8fGlwKHQsbil8fGFwKHQsbil8fF9tKHQsbil8fGttKHQsbil8fERtKHIsbyl8fFRtKHIsbykpP2cxOnAxKShhKTt2YXIgdCxuLHIsb319ZnVuY3Rpb24gWUMoZSl7dmFyIHQsbixyPWNzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKSxvPUV0LmZyb21Eb20oZS5nZXRCb2R5KCkpO2lmKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpe3ZhciBpPVIoYmIsZSksYT1jcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIGd5KGksZS5nZXRCb2R5KCksYSkuYmluZCgobj1vLGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oZSl7cmV0dXJuIG5mKG4uZG9tLGNzLmJlZm9yZShlKSl9LGZ1bmN0aW9uKGUpe3JldHVybiByZihlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG9mKGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gdGYobi5kb20sY3MuYWZ0ZXIoZSkpfSl9KSkuYmluZChYQyhvLHIpKS5leGlzdHMoKHQ9ZSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSx0Lm5vZGVDaGFuZ2VkKCksITB9KSl9cmV0dXJuITF9ZnVuY3Rpb24gR0MoZSl7dmFyIG8saSxhLHUscyx0LG4scixjLGwsZixkLG0sZyxwPXcwKGUpO3JldHVybiBlLm9uKCJrZXl1cCBjb21wb3NpdGlvbnN0YXJ0IixSKFYwLGUpKSxnPXAsKG09ZSkub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvOyExPT09ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9bSxuPWcscj1lLG89ZHQoKS5vcyxlQyhbe2tleUNvZGU6SWYuUklHSFQsYWN0aW9uOlowKCQwLHQsITApfSx7a2V5Q29kZTpJZi5MRUZULGFjdGlvbjpaMCgkMCx0LCExKX0se2tleUNvZGU6SWYuVVAsYWN0aW9uOlowKFcwLHQsITEpfSx7a2V5Q29kZTpJZi5ET1dOLGFjdGlvbjpaMChXMCx0LCEwKX0se2tleUNvZGU6SWYuUklHSFQsYWN0aW9uOlowKGxDLHQsITApfSx7a2V5Q29kZTpJZi5MRUZULGFjdGlvbjpaMChsQyx0LCExKX0se2tleUNvZGU6SWYuVVAsYWN0aW9uOlowKGZDLHQsITEpfSx7a2V5Q29kZTpJZi5ET1dOLGFjdGlvbjpaMChmQyx0LCEwKX0se2tleUNvZGU6SWYuUklHSFQsYWN0aW9uOlowKHRDLHQsITApfSx7a2V5Q29kZTpJZi5MRUZULGFjdGlvbjpaMCh0Qyx0LCExKX0se2tleUNvZGU6SWYuVVAsYWN0aW9uOlowKG5DLHQsITEpfSx7a2V5Q29kZTpJZi5ET1dOLGFjdGlvbjpaMChuQyx0LCEwKX0se2tleUNvZGU6SWYuUklHSFQsYWN0aW9uOlowKEMwLHQsbiwhMCl9LHtrZXlDb2RlOklmLkxFRlQsYWN0aW9uOlowKEMwLHQsbiwhMSl9LHtrZXlDb2RlOklmLlJJR0hULGN0cmxLZXk6IW8uaXNPU1goKSxhbHRLZXk6by5pc09TWCgpLGFjdGlvbjpaMChuMSx0LG4pfSx7a2V5Q29kZTpJZi5MRUZULGN0cmxLZXk6IW8uaXNPU1goKSxhbHRLZXk6by5pc09TWCgpLGFjdGlvbjpaMChyMSx0LG4pfSx7a2V5Q29kZTpJZi5VUCxhY3Rpb246WjAoUTAsdCwhMSl9LHtrZXlDb2RlOklmLkRPV04sYWN0aW9uOlowKFEwLHQsITApfV0scikuZWFjaChmdW5jdGlvbihlKXtyLnByZXZlbnREZWZhdWx0KCl9KSl9KSxkPXAsKGY9ZSkub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJihuPWQscj1lLGVDKFt7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKE0wLHQ9ZiwhMSl9LHtrZXlDb2RlOklmLkJBQ0tTUEFDRSxhY3Rpb246WjAoR2IsdCwhMSl9LHtrZXlDb2RlOklmLkRFTEVURSxhY3Rpb246WjAoR2IsdCwhMCl9LHtrZXlDb2RlOklmLkJBQ0tTUEFDRSxhY3Rpb246WjAocWIsdCwhMSl9LHtrZXlDb2RlOklmLkRFTEVURSxhY3Rpb246WjAocWIsdCwhMCl9LHtrZXlDb2RlOklmLkJBQ0tTUEFDRSxhY3Rpb246WjAoazAsdCxuLCExKX0se2tleUNvZGU6SWYuREVMRVRFLGFjdGlvbjpaMChrMCx0LG4sITApfSx7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKHlnLHQsITEpfSx7a2V5Q29kZTpJZi5ERUxFVEUsYWN0aW9uOlowKHlnLHQsITApfSx7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKEpiLHQsITEpfSx7a2V5Q29kZTpJZi5ERUxFVEUsYWN0aW9uOlowKEpiLHQsITApfSx7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKFQwLHQsITEpfSx7a2V5Q29kZTpJZi5ERUxFVEUsYWN0aW9uOlowKFQwLHQsITApfSx7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKEliLHQsITEpfSx7a2V5Q29kZTpJZi5ERUxFVEUsYWN0aW9uOlowKEliLHQsITApfSx7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKEJiLHQsITEpfSx7a2V5Q29kZTpJZi5ERUxFVEUsYWN0aW9uOlowKEJiLHQsITApfSx7a2V5Q29kZTpJZi5CQUNLU1BBQ0UsYWN0aW9uOlowKFIwLHQsITEpfSx7a2V5Q29kZTpJZi5ERUxFVEUsYWN0aW9uOlowKFIwLHQsITApfV0scikuZWFjaChmdW5jdGlvbihlKXtyLnByZXZlbnREZWZhdWx0KCl9KSl9KSxmLm9uKCJrZXl1cCIsZnVuY3Rpb24oZSl7dmFyIHQsbjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJihuPWUsZUMoW3trZXlDb2RlOklmLkJBQ0tTUEFDRSxhY3Rpb246WjAoWWIsdD1mKX0se2tleUNvZGU6SWYuREVMRVRFLGFjdGlvbjpaMChZYix0KX1dLG4pKX0pLChsPWUpLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHI7ZS5rZXlDb2RlPT09SWYuRU5URVImJih0PWwsKG49ZSkuaXNEZWZhdWx0UHJldmVudGVkKCl8fChuLnByZXZlbnREZWZhdWx0KCksKHI9dC51bmRvTWFuYWdlcikudHlwaW5nJiYoci50eXBpbmc9ITEsci5hZGQoKSksdC51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpeyExPT09dC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmdC5leGVjQ29tbWFuZCgiRGVsZXRlIiksVkModCxuKX0pKSl9KSwoYz1lKS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQ7ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1lLGVDKFt7a2V5Q29kZTpJZi5TUEFDRUJBUixhY3Rpb246WjAoWUMsYyl9XSx0KS5lYWNoKGZ1bmN0aW9uKGUpe3QucHJldmVudERlZmF1bHQoKX0pKX0pLG49dD1lLHI9bXUoZnVuY3Rpb24oKXtuLmNvbXBvc2luZ3x8VW0obil9LDApLGQxLmlzSUUoKSYmKG4ub24oImtleXByZXNzIixmdW5jdGlvbihlKXtyLnRocm90dGxlKCl9KSxuLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKGUpe3IuY2FuY2VsKCl9KSksdC5vbigiaW5wdXQiLGZ1bmN0aW9uKGUpeyExPT09ZS5pc0NvbXBvc2luZyYmVW0odCl9KSxzPXAsKHU9ZSkub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJihuPXMscj1lLGVDKFt7a2V5Q29kZTpJZi5FTkQsYWN0aW9uOlowKEswLHQ9dSwhMCl9LHtrZXlDb2RlOklmLkhPTUUsYWN0aW9uOlowKEswLHQsITEpfSx7a2V5Q29kZTpJZi5FTkQsYWN0aW9uOlowKHJDLHQsITApfSx7a2V5Q29kZTpJZi5IT01FLGFjdGlvbjpaMChyQyx0LCExKX0se2tleUNvZGU6SWYuRU5ELGFjdGlvbjpaMChTMCx0LCEwLG4pfSx7a2V5Q29kZTpJZi5IT01FLGFjdGlvbjpaMChTMCx0LCExLG4pfV0scikuZWFjaChmdW5jdGlvbihlKXtyLnByZXZlbnREZWZhdWx0KCl9KSl9KSxvPWUsaT1wLG0xLm9zLmlzT1NYKCl8fChhPWF1KCExKSxvLm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXskQyhlKSYmV0MoYSxvLCEwKX0pLG8ub24oImtleXVwIixmdW5jdGlvbihlKXt2YXIgdCxuLHI7ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYocj1lLGVDKFt7a2V5Q29kZTpJZi5QQUdFX1VQLGFjdGlvbjpaMChTMCx0PW8sITEsbj1pKX0se2tleUNvZGU6SWYuUEFHRV9ET1dOLGFjdGlvbjpaMChTMCx0LCEwLG4pfV0scikpLCRDKGUpJiZhLmdldCgpJiYoV0MoYSxvLCExKSxvLm5vZGVDaGFuZ2VkKCkpfSkpLHB9KEp5PUd5PUd5fHx7fSlbSnkuVXA9LTFdPSJVcCIsSnlbSnkuRG93bj0xXT0iRG93biI7dmFyIEpDPVIobjAsR3kuVXAsT3UsQnUpLFFDPVIobjAsR3kuRG93bixCdSxPdSksWkM9R24sZTE9R3MsdDE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNlbGVjdGlvbi5nZXRSbmcoKSxyPWUuZ2V0Qm9keSgpO2lmKHQpe3ZhciBvPWNzLmZyb21SYW5nZUVuZChuKSxpPVp5KHIsbyk7cmV0dXJuIFooaS5wb3NpdGlvbnMpfXJldHVybiBvPWNzLmZyb21SYW5nZVN0YXJ0KG4pLFEoKGk9UXkocixvKSkucG9zaXRpb25zKX0sbjE9Uih4MCwhMCkscjE9Uih4MCwhMSksbzE9ZnVuY3Rpb24oZSl7cmV0dXJuIFUoQShlLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLEV0LmZyb21Eb20pLGZ1bmN0aW9uKGUpe3JldHVybiFMMChlKSYmIU90KGUpLmV4aXN0cyhMMCkmJmhyKGUsZnVuY3Rpb24oZSl7cmV0dXJuIFluKGUuZG9tKXx8R24oZS5kb20pfSkuZXhpc3RzKGZ1bmN0aW9uKGUpe3JldHVybiBZbihlLmRvbSl9KX0pfSxpMT1HbixhMT1SKG9DLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvdHRvbX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS55PHR9KSx1MT1SKG9DLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvcH0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS55PnR9KSxzMT1SKGlDLFF5KSxjMT1SKGlDLFp5KSxsMT1mdW5jdGlvbihlLHQpe3JldHVybiBuPWNzLmFmdGVyKHQpLCEhS24obi5nZXROb2RlKCkpfHx0ZihlLGNzLmFmdGVyKHQpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEtuKGUuZ2V0Tm9kZSgpKX0pLmdldE9yKCExKTt2YXIgbn0sZjE9aXIoW3ticjpbXX0se2Jsb2NrOltdfSx7bm9uZTpbXX1dKSxkMT1kdCgpLmJyb3dzZXIsbTE9ZHQoKSxnMT1SKEtDLHdvKSxwMT1SKEtDLCIgIiksaDE9KHYxLnByb3RvdHlwZS5ub2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbz10aGlzLmVkaXRvci5zZWxlY3Rpb247dGhpcy5lZGl0b3IuaW5pdGlhbGl6ZWQmJm8mJiF0aGlzLmVkaXRvci5nZXRQYXJhbSgiZGlzYWJsZV9ub2RlY2hhbmdlIikmJiF0aGlzLmVkaXRvci5tb2RlLmlzUmVhZE9ubHkoKSYmKHI9dGhpcy5lZGl0b3IuZ2V0Qm9keSgpLCh0PW8uZ2V0U3RhcnQoITApfHxyKS5vd25lckRvY3VtZW50PT09dGhpcy5lZGl0b3IuZ2V0RG9jKCkmJnRoaXMuZWRpdG9yLmRvbS5pc0NoaWxkT2YodCxyKXx8KHQ9ciksbj1bXSx0aGlzLmVkaXRvci5kb20uZ2V0UGFyZW50KHQsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1yfHx2b2lkIG4ucHVzaChlKX0pLChlPWV8fHt9KS5lbGVtZW50PXQsZS5wYXJlbnRzPW4sdGhpcy5lZGl0b3IuZmlyZSgiTm9kZUNoYW5nZSIsZSkpfSx2MS5wcm90b3R5cGUuaXNTYW1lRWxlbWVudFBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmVkaXRvci4kKGUpLnBhcmVudHNVbnRpbCh0aGlzLmVkaXRvci5nZXRCb2R5KCkpLmFkZChlKTtpZihuLmxlbmd0aD09PXRoaXMubGFzdFBhdGgubGVuZ3RoKXtmb3IodD1uLmxlbmd0aDswPD10JiZuW3RdPT09dGhpcy5sYXN0UGF0aFt0XTt0LS0pO2lmKC0xPT09dClyZXR1cm4gdGhpcy5sYXN0UGF0aD1uLCEwfXJldHVybiB0aGlzLmxhc3RQYXRoPW4sITF9LHYxKTtmdW5jdGlvbiB2MShyKXt2YXIgbzt0aGlzLmxhc3RQYXRoPVtdLHRoaXMuZWRpdG9yPXI7dmFyIHQ9dGhpczsib25zZWxlY3Rpb25jaGFuZ2UiaW4gci5nZXREb2MoKXx8ci5vbigiTm9kZUNoYW5nZSBjbGljayBtb3VzZXVwIGtleXVwIGZvY3VzIixmdW5jdGlvbihlKXt2YXIgdD1yLnNlbGVjdGlvbi5nZXRSbmcoKSxuPXtzdGFydENvbnRhaW5lcjp0LnN0YXJ0Q29udGFpbmVyLHN0YXJ0T2Zmc2V0OnQuc3RhcnRPZmZzZXQsZW5kQ29udGFpbmVyOnQuZW5kQ29udGFpbmVyLGVuZE9mZnNldDp0LmVuZE9mZnNldH07Im5vZGVjaGFuZ2UiIT09ZS50eXBlJiZrZihuLG8pfHxyLmZpcmUoIlNlbGVjdGlvbkNoYW5nZSIpLG89bn0pLHIub24oImNvbnRleHRtZW51IixmdW5jdGlvbigpe3IuZmlyZSgiU2VsZWN0aW9uQ2hhbmdlIil9KSxyLm9uKCJTZWxlY3Rpb25DaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGU9ci5zZWxlY3Rpb24uZ2V0U3RhcnQoITApOyFlfHwheHQucmFuZ2UmJnIuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCl8fFBsKHIpJiYhdC5pc1NhbWVFbGVtZW50UGF0aChlKSYmci5kb20uaXNDaGlsZE9mKGUsci5nZXRCb2R5KCkpJiZyLm5vZGVDaGFuZ2VkKHtzZWxlY3Rpb25DaGFuZ2U6ITB9KX0pLHIub24oIm1vdXNldXAiLGZ1bmN0aW9uKGUpeyFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZQbChyKSYmKCJJTUciPT09ci5zZWxlY3Rpb24uZ2V0Tm9kZSgpLm5vZGVOYW1lP0FyLnNldEVkaXRvclRpbWVvdXQocixmdW5jdGlvbigpe3Iubm9kZUNoYW5nZWQoKX0pOnIubm9kZUNoYW5nZWQoKSl9KX1mdW5jdGlvbiBiMShlKXtyZXR1cm4gSG4oZSkmJnBvKEV0LmZyb21Eb20oZSkpfWZ1bmN0aW9uIHkxKGUpe3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1lLm93bmVyRG9jdW1lbnQscj1uLmRvY3VtZW50RWxlbWVudCxvPW4uZGVmYXVsdFZpZXc7cmV0dXJue3RvcDp0LnRvcCtvLnBhZ2VZT2Zmc2V0LXIuY2xpZW50VG9wLGxlZnQ6dC5sZWZ0K28ucGFnZVhPZmZzZXQtci5jbGllbnRMZWZ0fX1mdW5jdGlvbiBDMShlKXtlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX1mdW5jdGlvbiB4MShlLFMpe3ZhciBOPUFyLnRocm90dGxlKGZ1bmN0aW9uKGUsdCl7Uy5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSxTLnNlbGVjdGlvbi5wbGFjZUNhcmV0QXQoZSx0KX0sMCk7cmV0dXJuIFMub24oInJlbW92ZSIsTi5zdG9wKSxmdW5jdGlvbih3KXtyZXR1cm4gZS5vbihmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxnLHAsaCx2LGIseSxDLHg9TWF0aC5tYXgoTWF0aC5hYnMody5zY3JlZW5YLWUuc2NyZWVuWCksTWF0aC5hYnMody5zY3JlZW5ZLWUuc2NyZWVuWSkpO2lmKCFlLmRyYWdnaW5nJiYxMDx4KXtpZihTLmZpcmUoImRyYWdzdGFydCIse3RhcmdldDplLmVsZW1lbnR9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm47ZS5kcmFnZ2luZz0hMCxTLmZvY3VzKCl9ZS5kcmFnZ2luZyYmKGQ9ZSx0PXtwYWdlWDoocD13LGg9KGc9UykuaW5saW5lP3kxKGcuZ2V0Qm9keSgpKTp7bGVmdDowLHRvcDowfSxDPSh5PWcpLmdldEJvZHkoKSx2PXkuaW5saW5lP3tsZWZ0OkMuc2Nyb2xsTGVmdCx0b3A6Qy5zY3JvbGxUb3B9OntsZWZ0OjAsdG9wOjB9LChtPXtwYWdlWDooYj1mdW5jdGlvbihlLHQpe2lmKHQudGFyZ2V0Lm93bmVyRG9jdW1lbnQ9PT1lLmdldERvYygpKXJldHVybntsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9O3ZhciBuLHIsbyxpLGEsdT15MShlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyKCkpLHM9KHI9KG49ZSkuZ2V0Qm9keSgpLG89bi5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQsaT17bGVmdDpyLnNjcm9sbExlZnQsdG9wOnIuc2Nyb2xsVG9wfSxhPXtsZWZ0OnIuc2Nyb2xsTGVmdHx8by5zY3JvbGxMZWZ0LHRvcDpyLnNjcm9sbFRvcHx8by5zY3JvbGxUb3B9LG4uaW5saW5lP2k6YSk7cmV0dXJue2xlZnQ6dC5wYWdlWC11LmxlZnQrcy5sZWZ0LHRvcDp0LnBhZ2VZLXUudG9wK3MudG9wfX0oZyxwKSkubGVmdC1oLmxlZnQrdi5sZWZ0LHBhZ2VZOmIudG9wLWgudG9wK3YudG9wfSkucGFnZVgtZC5yZWxYKSxwYWdlWTptLnBhZ2VZKzV9LGw9ZS5naG9zdCxmPVMuZ2V0Qm9keSgpLGwucGFyZW50Tm9kZSE9PWYmJmYuYXBwZW5kQ2hpbGQobCksbj1lLmdob3N0LG89ZS53aWR0aCxpPWUuaGVpZ2h0LGE9ZS5tYXhYLHU9ZS5tYXhZLGM9cz0wLG4uc3R5bGUubGVmdD0ocj10KS5wYWdlWCsicHgiLG4uc3R5bGUudG9wPXIucGFnZVkrInB4Iix1PHIucGFnZVkraSYmKGM9ci5wYWdlWStpLXUpLG4uc3R5bGUud2lkdGg9by0ocz1hPHIucGFnZVgrbz9yLnBhZ2VYK28tYTpzKSsicHgiLG4uc3R5bGUuaGVpZ2h0PWktYysicHgiLE4ody5jbGllbnRYLHcuY2xpZW50WSkpfSl9fWZ1bmN0aW9uIHcxKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQsbixyLG8saSxhOzA9PT1lLmJ1dHRvbiYmKHQ9TShjLmRvbS5nZXRQYXJlbnRzKGUudGFyZ2V0KSxmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XShlKSlyZXR1cm4hMDtyZXR1cm4hMX19KEsxLFgxKSkuZ2V0T3IobnVsbCksaT1jLmdldEJvZHkoKSxLMShhPXQpJiZhIT09aSYmKG49Yy5kb20uZ2V0UG9zKHQpLHI9Yy5nZXRCb2R5KCksbz1jLmdldERvYygpLmRvY3VtZW50RWxlbWVudCx1LnNldCh7ZWxlbWVudDp0LGRyYWdnaW5nOiExLHNjcmVlblg6ZS5zY3JlZW5YLHNjcmVlblk6ZS5zY3JlZW5ZLG1heFg6KGMuaW5saW5lP3Iuc2Nyb2xsV2lkdGg6by5vZmZzZXRXaWR0aCktMixtYXhZOihjLmlubGluZT9yLnNjcm9sbEhlaWdodDpvLm9mZnNldEhlaWdodCktMixyZWxYOmUucGFnZVgtbi54LHJlbFk6ZS5wYWdlWS1uLnksd2lkdGg6dC5vZmZzZXRXaWR0aCxoZWlnaHQ6dC5vZmZzZXRIZWlnaHQsZ2hvc3Q6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWMuZG9tLG89ZS5jbG9uZU5vZGUoITApO3Iuc2V0U3R5bGVzKG8se3dpZHRoOnQsaGVpZ2h0Om59KSxyLnNldEF0dHJpYihvLCJkYXRhLW1jZS1zZWxlY3RlZCIsbnVsbCk7dmFyIGk9ci5jcmVhdGUoImRpdiIse2NsYXNzOiJtY2UtZHJhZy1jb250YWluZXIiLCJkYXRhLW1jZS1ib2d1cyI6ImFsbCIsdW5zZWxlY3RhYmxlOiJvbiIsY29udGVudGVkaXRhYmxlOiJmYWxzZSJ9KTtyZXR1cm4gci5zZXRTdHlsZXMoaSx7cG9zaXRpb246ImFic29sdXRlIixvcGFjaXR5Oi41LG92ZXJmbG93OiJoaWRkZW4iLGJvcmRlcjowLHBhZGRpbmc6MCxtYXJnaW46MCx3aWR0aDp0LGhlaWdodDpufSksci5zZXRTdHlsZXMobyx7bWFyZ2luOjAsYm94U2l6aW5nOiJib3JkZXItYm94In0pLGkuYXBwZW5kQ2hpbGQobyksaX0odCx0Lm9mZnNldFdpZHRoLHQub2Zmc2V0SGVpZ2h0KX0pKSl9ZnVuY3Rpb24gbih1KXtpLm9uKGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYTtlLmRyYWdnaW5nJiYoKG89Mz09PShhPShyPXMpLnNlbGVjdGlvbi5nZXRTZWwoKS5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyKS5ub2RlVHlwZT9hLnBhcmVudE5vZGU6YSk9PT0oaT1lLmVsZW1lbnQpfHxyLmRvbS5pc0NoaWxkT2YobyxpKXx8SzEobyl8fCgobj1lLmVsZW1lbnQuY2xvbmVOb2RlKCEwKSkucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLHQ9bixzLmZpcmUoImRyb3AiLHtjbGllbnRYOnUuY2xpZW50WCxjbGllbnRZOnUuY2xpZW50WX0pLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxzLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7QzEoZS5lbGVtZW50KSxzLmluc2VydENvbnRlbnQocy5kb20uZ2V0T3V0ZXJIVE1MKHQpKSxzLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpfSkpLHMuZmlyZSgiZHJhZ2VuZCIpKX0pLFkxKGkpfXZhciByLG8saSxzLHUsYyxhPWR1KCksbD1ldS5ET00sZj1kb2N1bWVudCxkPXgxKHU9YSxjPWUpLG09KHI9aT1hLGZ1bmN0aW9uKCl7ci5vbihmdW5jdGlvbihlKXtlLmRyYWdnaW5nJiZvLmZpcmUoImRyYWdlbmQiKX0pLFkxKHIpfSk7KG89cz1lKS5vbigibW91c2Vkb3duIix0KSxlLm9uKCJtb3VzZW1vdmUiLGQpLGUub24oIm1vdXNldXAiLG4pLGwuYmluZChmLCJtb3VzZW1vdmUiLGQpLGwuYmluZChmLCJtb3VzZXVwIixtKSxlLm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7bC51bmJpbmQoZiwibW91c2Vtb3ZlIixkKSxsLnVuYmluZChmLCJtb3VzZXVwIixtKX0pLGUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe2Uua2V5Q29kZT09PUlmLkVTQyYmbSgpfSl9ZnVuY3Rpb24gUzEoZSl7dmFyIG4saTtmdW5jdGlvbiBhKGUpe3ZhciB0O2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0PWUuZGF0YVRyYW5zZmVyKSYmKFQodC50eXBlcywiRmlsZXMiKXx8MDx0LmZpbGVzLmxlbmd0aCkmJihlLnByZXZlbnREZWZhdWx0KCksImRyb3AiPT09ZS50eXBlJiZRdihpLCJEcm9wcGVkIGZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIikpfWZ1bmN0aW9uIHUoZSl7cGQoaSxlLnRhcmdldCkmJmEoZSl9ZnVuY3Rpb24gdCgpe3ZhciB0PWV1LkRPTSxuPWkuZG9tLHI9ZG9jdW1lbnQsbz1pLmlubGluZT9pLmdldEJvZHkoKTppLmdldERvYygpLGU9WyJkcm9wIiwiZHJhZ292ZXIiXTtZKGUsZnVuY3Rpb24oZSl7dC5iaW5kKHIsZSx1KSxuLmJpbmQobyxlLGEpfSksaS5vbigicmVtb3ZlIixmdW5jdGlvbigpe1koZSxmdW5jdGlvbihlKXt0LnVuYmluZChyLGUsdSksbi51bmJpbmQobyxlLGEpfSl9KX13MShlKSwobj1lKS5vbigiZHJvcCIsZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09ZS5jbGllbnRYP24uZ2V0RG9jKCkuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKTpudWxsOyFLMSh0KSYmImZhbHNlIiE9PW4uZG9tLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudCh0KXx8ZS5wcmV2ZW50RGVmYXVsdCgpfSksZS5nZXRQYXJhbSgiYmxvY2tfdW5zdXBwb3J0ZWRfZHJvcCIsITAsImJvb2xlYW4iKSYmKGk9ZSkub24oImluaXQiLGZ1bmN0aW9uKCl7QXIuc2V0RWRpdG9yVGltZW91dChpLHQsMCl9KX1mdW5jdGlvbiBOMShlLHQpe3JldHVybiBiZihlLmdldEJvZHkoKSx0KX1mdW5jdGlvbiBFMShsKXtmdW5jdGlvbiBmKGUpe3JldHVybiBlIT09eCYmKEoxKGUpfHxRbihlKSkmJnkuaXNDaGlsZE9mKGUseCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gcnAoZSl8fG9wKGUpfHxaZyhlKXx8ZXAoZSl9ZnVuY3Rpb24gZChlKXtlJiZiLnNldFJuZyhlKX1mdW5jdGlvbiBtKGUsdCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMCksbC5maXJlKCJTaG93Q2FyZXQiLHt0YXJnZXQ6dCxkaXJlY3Rpb246ZSxiZWZvcmU6bn0pLmlzRGVmYXVsdFByZXZlbnRlZCgpP251bGw6KHImJmIuc2Nyb2xsSW50b1ZpZXcodCwtMT09PWUpLGkuc2hvdyhuLHQpKX1mdW5jdGlvbiB0KGUpe3JldHVybiBNcihlKXx8QW8oZSl8fFJvKGUpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIHQoZS5zdGFydENvbnRhaW5lcil8fHQoZS5lbmRDb250YWluZXIpfWZ1bmN0aW9uIHAoZSx0KXtpZighZSlyZXR1cm4gbnVsbDtpZihlLmNvbGxhcHNlZCl7aWYoIWcoZSkpe3ZhciBuPXQ/MTotMSxyPW9jKG4seCxlKSxvPXIuZ2V0Tm9kZSghdCk7aWYoWHMobykpcmV0dXJuIG0obixvLCEhdCYmIXIuaXNBdEVuZCgpLCExKTt2YXIgaT1yLmdldE5vZGUodCk7aWYoWHMoaSkpcmV0dXJuIG0obixpLCF0JiYhci5pc0F0RW5kKCksITEpfXJldHVybiBudWxsfXZhciBhPWUuc3RhcnRDb250YWluZXIsdT1lLnN0YXJ0T2Zmc2V0LHM9ZS5lbmRPZmZzZXQ7aWYoMz09PWEubm9kZVR5cGUmJjA9PT11JiZKMShhLnBhcmVudE5vZGUpJiYoYT1hLnBhcmVudE5vZGUsdT15Lm5vZGVJbmRleChhKSxhPWEucGFyZW50Tm9kZSksMSE9PWEubm9kZVR5cGUpcmV0dXJuIG51bGw7aWYocz09PXUrMSYmYT09PWUuZW5kQ29udGFpbmVyKXt2YXIgYz1hLmNoaWxkTm9kZXNbdV07aWYoZihjKSlyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbG9uZU5vZGUoITApLG49bC5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDplLHRhcmdldENsb25lOnR9KTtpZihuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBudWxsO3ZhciByPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1sLiQsbz1icihFdC5mcm9tRG9tKGwuZ2V0Qm9keSgpKSwiIyIrdykuZm9sZChmdW5jdGlvbigpe3JldHVybiByKFtdKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHIoW2UuZG9tXSl9KTswPT09by5sZW5ndGgmJihvPXIoJzxkaXYgZGF0YS1tY2UtYm9ndXM9ImFsbCIgY2xhc3M9Im1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIj48L2Rpdj4nKS5hdHRyKCJpZCIsdykpLmFwcGVuZFRvKGwuZ2V0Qm9keSgpKTt2YXIgaT15LmNyZWF0ZVJuZygpO3Q9PT1uJiZ4dC5pZT8oby5lbXB0eSgpLmFwcGVuZCgnPHAgc3R5bGU9ImZvbnQtc2l6ZTogMCIgZGF0YS1tY2UtYm9ndXM9ImFsbCI+XHhhMDwvcD4nKS5hcHBlbmQodCksaS5zZXRTdGFydEFmdGVyKG9bMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSxpLnNldEVuZEFmdGVyKHQpKTooby5lbXB0eSgpLmFwcGVuZCh3bykuYXBwZW5kKHQpLmFwcGVuZCh3byksaS5zZXRTdGFydChvWzBdLmZpcnN0Q2hpbGQsMSksaS5zZXRFbmQob1swXS5sYXN0Q2hpbGQsMCkpLG8uY3NzKHt0b3A6eS5nZXRQb3MoZSxsLmdldEJvZHkoKSkueX0pLG9bMF0uZm9jdXMoKTt2YXIgYT1iLmdldFNlbCgpO3JldHVybiBhLnJlbW92ZUFsbFJhbmdlcygpLGEuYWRkUmFuZ2UoaSksaX0oZSxuLnRhcmdldENsb25lLHQpLG89RXQuZnJvbURvbShlKTtyZXR1cm4gWSh5dShFdC5mcm9tRG9tKGwuZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihlKXtqZShvLGUpfHxDbihlLFMpfSkseS5nZXRBdHRyaWIoZSxTKXx8ZS5zZXRBdHRyaWJ1dGUoUywiMSIpLHY9ZSxOKCkscn0oYyl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaCgpe3YmJnYucmVtb3ZlQXR0cmlidXRlKFMpLGJyKEV0LmZyb21Eb20obC5nZXRCb2R5KCkpLCIjIit3KS5lYWNoKEluKSx2PW51bGx9dmFyIHYsbixlLG8sYj1sLnNlbGVjdGlvbix5PWwuZG9tLEM9eS5pc0Jsb2NrLHg9bC5nZXRCb2R5KCksaT1XcyhsLHgsQyxmdW5jdGlvbigpe3JldHVybiBDZChsKX0pLHc9InNlbC0iK3kudW5pcXVlSWQoKSxTPSJkYXRhLW1jZS1zZWxlY3RlZCIscj1iLmdldFJuZyxOPWZ1bmN0aW9uKCl7aS5oaWRlKCl9O3JldHVybiB4dC5jZUZhbHNlJiYhaGgobCkmJihsLm9uKCJtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgdD1yKCk7dC5jb2xsYXBzZWQmJk52KGwsZS5jbGllbnRYLGUuY2xpZW50WSkmJlViKGwsdCwhMSkuZWFjaChkKX0pLGwub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1OMShsLGUudGFyZ2V0KTt0JiYoSjEodCkmJihlLnByZXZlbnREZWZhdWx0KCksbC5mb2N1cygpKSxHMSh0KSYmeS5pc0NoaWxkT2YodCxiLmdldE5vZGUoKSkmJmgoKSl9KSxsLm9uKCJibHVyIE5ld0Jsb2NrIixoKSxsLm9uKCJSZXNpemVXaW5kb3cgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsaS5yZXBvc2l0aW9uKSxsLm9uKCJ0YXAiLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LG49TjEobCx0KTtKMShuKT8oZS5wcmV2ZW50RGVmYXVsdCgpLEZiKGwsbikuZWFjaChwKSk6Zih0KSYmRmIobCx0KS5lYWNoKHApfSwhMCksbC5vbigibW91c2Vkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzPWUudGFyZ2V0O3MhPT14JiYiSFRNTCIhPT1zLm5vZGVOYW1lJiYheS5pc0NoaWxkT2Yocyx4KXx8ITE9PT1OdihsLGUuY2xpZW50WCxlLmNsaWVudFkpfHwoKHQ9TjEobCxzKSk/SjEodCk/KGUucHJldmVudERlZmF1bHQoKSxGYihsLHQpLmVhY2gocCkpOihoKCksRzEodCkmJmUuc2hpZnRLZXl8fHlmKGUuY2xpZW50WCxlLmNsaWVudFksYi5nZXRSbmcoKSl8fChOKCksYi5wbGFjZUNhcmV0QXQoZS5jbGllbnRYLGUuY2xpZW50WSkpKTpmKHMpP0ZiKGwscykuZWFjaChwKTohMT09PVhzKHMpJiYoaCgpLE4oKSwobj1mMCh4LGUuY2xpZW50WCxlLmNsaWVudFkpKSYmKHI9cyxvPW4ubm9kZSxhPXkuZ2V0UGFyZW50KHIsQyksdT15LmdldFBhcmVudChvLEMpLCFLKGEpJiYociE9PXUmJnkuaXNDaGlsZE9mKGEsdSkmJiExPT09SjEoTjEobCxhKSl8fCF5LmlzQ2hpbGRPZih1LGEpJiYoaT11LHkuZ2V0UGFyZW50KGEsQykhPT15LmdldFBhcmVudChpLEMpKSYmZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maXJzdENoaWxkO2lmKCFLKHQpKXt2YXIgbj1jcy5iZWZvcmUodCk7aWYoS24obi5nZXROb2RlKCkpJiYxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aClyZXR1cm4hYyhuKTt2YXIgcj1NYyhlKS5uZXh0KG4pO3JldHVybiByJiYhYyhyKX19KGEpKXx8KGUucHJldmVudERlZmF1bHQoKSxkKG0oMSxuLm5vZGUsbi5iZWZvcmUsITEpKSxsLmdldEJvZHkoKS5mb2N1cygpKSkpKX0pLGwub24oImtleXByZXNzIixmdW5jdGlvbihlKXtJZi5tb2RpZmllclByZXNzZWQoZSl8fEoxKGIuZ2V0Tm9kZSgpKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSksbC5vbigiR2V0U2VsZWN0aW9uUmFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PWUucmFuZ2U7diYmKHYucGFyZW50Tm9kZT8oKHQ9dC5jbG9uZVJhbmdlKCkpLnNlbGVjdE5vZGUodiksZS5yYW5nZT10KTp2PW51bGwpfSksbC5vbigiU2V0U2VsZWN0aW9uUmFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1O2UucmFuZ2U9KHQ9ZS5yYW5nZSxuPWwuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpLHI9eS5jcmVhdGVSbmcoKSxvPXQuc3RhcnRDb250YWluZXIsaT10LnN0YXJ0T2Zmc2V0LGE9dC5lbmRDb250YWluZXIsdT10LmVuZE9mZnNldCxFZShuLG8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/MD09PWk/ci5zZXRTdGFydEJlZm9yZShvKTpyLnNldFN0YXJ0QWZ0ZXIobyk6ci5zZXRTdGFydChvLGkpLEVlKG4sYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKT8wPT09dT9yLnNldEVuZEJlZm9yZShhKTpyLnNldEVuZEFmdGVyKGEpOnIuc2V0RW5kKGEsdSkscik7dmFyIHM9cChlLnJhbmdlLGUuZm9yd2FyZCk7cyYmKGUucmFuZ2U9cyl9KSxsLm9uKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXt2YXIgdD1lLnJhbmdlLG49dC5zdGFydENvbnRhaW5lci5wYXJlbnROb2RlO2codCl8fCJtY2VwYXN0ZWJpbiI9PT1uLmlkfHxOKCkseS5oYXNDbGFzcyhuLCJtY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiIpfHxoKCl9KSxsLm9uKCJjb3B5IixmdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS5jbGlwYm9hcmREYXRhO2UuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFlLmNsaXBib2FyZERhdGF8fHh0LmllfHwodD0obj15LmdldCh3KSkmJm4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKVswXSkmJihlLnByZXZlbnREZWZhdWx0KCksci5jbGVhckRhdGEoKSxyLnNldERhdGEoInRleHQvaHRtbCIsdC5vdXRlckhUTUwpLHIuc2V0RGF0YSgidGV4dC9wbGFpbiIsdC5vdXRlclRleHR8fHQuaW5uZXJUZXh0KSl9KSxTMShsKSxlPW11KGZ1bmN0aW9uKCl7dmFyIGUsdDtuLnJlbW92ZWR8fCFuLmdldEJvZHkoKS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KXx8KGU9bi5zZWxlY3Rpb24uZ2V0Um5nKCkpLmNvbGxhcHNlZCYmKHQ9emIobixlLCExKSxuLnNlbGVjdGlvbi5zZXRSbmcodCkpfSwwKSwobj1sKS5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7ZS50aHJvdHRsZSgpfSksbi5vbigiYmx1ciIsZnVuY3Rpb24oKXtlLmNhbmNlbCgpfSksKG89bCkub24oImluaXQiLGZ1bmN0aW9uKCl7by5vbigiZm9jdXNpbiIsZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUudGFyZ2V0O1FuKHIpJiYodD1iZihvLmdldEJvZHkoKSxyKSxuPUduKHQpP3Q6cixvLnNlbGVjdGlvbi5nZXROb2RlKCkhPT1uJiZGYihvLG4pLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG8uc2VsZWN0aW9uLnNldFJuZyhlKX0pKX0pfSkpLHtzaG93Q2FyZXQ6bSxzaG93QmxvY2tDYXJldENvbnRhaW5lcjpmdW5jdGlvbihlKXtlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSYmKEhyKGUpLGQocigpKSxiLnNjcm9sbEludG9WaWV3KGUpKX0saGlkZUZha2VDYXJldDpOLGRlc3Ryb3k6ZnVuY3Rpb24oKXtpLmRlc3Ryb3koKSx2PW51bGx9fX1mdW5jdGlvbiBrMShhKXtmdW5jdGlvbiBlKGUsdCl7dHJ5e2EuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoZSwhMSx0KX1jYXRjaChlKXt9fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGUuaXNEZWZhdWx0UHJldmVudGVkKCl9ZnVuY3Rpb24gdCgpe2Euc2hvcnRjdXRzLmFkZCgibWV0YSthIixudWxsLCJTZWxlY3RBbGwiKX1mdW5jdGlvbiBuKCl7YS5pbmxpbmV8fGIuYmluZChhLmdldERvYygpLCJtb3VzZWRvd24gbW91c2V1cCIsZnVuY3Rpb24oZSl7dmFyIHQ7ZS50YXJnZXQ9PT1hLmdldERvYygpLmRvY3VtZW50RWxlbWVudCYmKHQ9eS5nZXRSbmcoKSxhLmdldEJvZHkoKS5mb2N1cygpLCJtb3VzZWRvd24iPT09ZS50eXBlP01yKHQuc3RhcnRDb250YWluZXIpfHx5LnBsYWNlQ2FyZXRBdChlLmNsaWVudFgsZS5jbGllbnRZKTp5LnNldFJuZyh0KSl9KX1mdW5jdGlvbiByKCl7UmFuZ2UucHJvdG90eXBlLmdldENsaWVudFJlY3RzfHxhLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0O3UoZSl8fCJIVE1MIiE9PWUudGFyZ2V0Lm5vZGVOYW1lfHwoKHQ9YS5nZXRCb2R5KCkpLmJsdXIoKSxBci5zZXRFZGl0b3JUaW1lb3V0KGEsZnVuY3Rpb24oKXt0LmZvY3VzKCl9KSl9KX1mdW5jdGlvbiBvKCl7YS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0Oy9eKElNR3xIUikkLy50ZXN0KHQubm9kZU5hbWUpJiYiZmFsc2UiIT09Yi5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodCkmJihlLnByZXZlbnREZWZhdWx0KCksYS5zZWxlY3Rpb24uc2VsZWN0KHQpLGEubm9kZUNoYW5nZWQoKSksIkEiPT09dC5ub2RlTmFtZSYmYi5oYXNDbGFzcyh0LCJtY2UtaXRlbS1hbmNob3IiKSYmKGUucHJldmVudERlZmF1bHQoKSx5LnNlbGVjdCh0KSl9KX1mdW5jdGlvbiBpKCl7YS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIXUoZSkmJmUua2V5Q29kZT09PWgmJnkuaXNDb2xsYXBzZWQoKSYmMD09PXkuZ2V0Um5nKCkuc3RhcnRPZmZzZXQpe3ZhciB0PXkuZ2V0Tm9kZSgpLnByZXZpb3VzU2libGluZztpZih0JiZ0Lm5vZGVOYW1lJiYidGFibGUiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksITF9fSl9ZnVuY3Rpb24gcygpe2EuZ2V0UGFyYW0oInJlYWRvbmx5Iil8fGEub24oIkJlZm9yZUV4ZWNDb21tYW5kIG1vdXNlZG93biIsZnVuY3Rpb24oKXtlKCJTdHlsZVdpdGhDU1MiLCExKSxlKCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCExKSxQcyhhKXx8ZSgiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExKX0pfWZ1bmN0aW9uIGMoKXthLmNvbnRlbnRTdHlsZXMucHVzaCgiaW1nOi1tb3otYnJva2VuIHstbW96LWZvcmNlLWJyb2tlbi1pbWFnZS1pY29uOjE7bWluLXdpZHRoOjI0cHg7bWluLWhlaWdodDoyNHB4fSIpfWZ1bmN0aW9uIGwoKXthLmlubGluZXx8YS5vbigia2V5ZG93biIsZnVuY3Rpb24oKXtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZG9jdW1lbnQuYm9keSYmYS5nZXRXaW4oKS5mb2N1cygpfSl9ZnVuY3Rpb24gZigpe2EuaW5saW5lfHwoYS5jb250ZW50U3R5bGVzLnB1c2goImJvZHkge21pbi1oZWlnaHQ6IDE1MHB4fSIpLGEub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdDsiSFRNTCI9PT1lLnRhcmdldC5ub2RlTmFtZSYmKDExPHh0LmllP2EuZ2V0Qm9keSgpLmZvY3VzKCk6KHQ9YS5zZWxlY3Rpb24uZ2V0Um5nKCksYS5nZXRCb2R5KCkuZm9jdXMoKSxhLnNlbGVjdGlvbi5zZXRSbmcodCksYS5zZWxlY3Rpb24ubm9ybWFsaXplKCksYS5ub2RlQ2hhbmdlZCgpKSl9KSl9ZnVuY3Rpb24gZCgpe3h0Lm1hYyYmYS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7IUlmLm1ldGFLZXlQcmVzc2VkKGUpfHxlLnNoaWZ0S2V5fHwzNyE9PWUua2V5Q29kZSYmMzkhPT1lLmtleUNvZGV8fChlLnByZXZlbnREZWZhdWx0KCksYS5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIiwzNz09PWUua2V5Q29kZT8iYmFja3dhcmQiOiJmb3J3YXJkIiwibGluZWJvdW5kYXJ5IikpfSl9ZnVuY3Rpb24gbSgpe2Eub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtkb3tpZigiQSI9PT10LnRhZ05hbWUpcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpfXdoaWxlKHQ9dC5wYXJlbnROb2RlKX0pLGEuY29udGVudFN0eWxlcy5wdXNoKCIubWNlLWNvbnRlbnQtYm9keSB7LXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lfSIpfWZ1bmN0aW9uIGcoKXthLm9uKCJpbml0IixmdW5jdGlvbigpe2EuZG9tLmJpbmQoYS5nZXRCb2R5KCksInN1Ym1pdCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfSl9KX12YXIgcD1OdC5lYWNoLGg9SWYuQkFDS1NQQUNFLHY9SWYuREVMRVRFLGI9YS5kb20seT1hLnNlbGVjdGlvbixDPWEucGFyc2VyLHg9eHQuZ2Vja28sdz14dC5pZSxTPXh0LndlYmtpdCxOPSJkYXRhOnRleHQvbWNlLWludGVybmFsLCIsRT13PyJUZXh0IjoiVVJMIixrPXRlO3JldHVybiBoaChhKT8oUyYmKG4oKSxvKCksZygpLHQoKSx4dC5pT1MmJihsKCksZigpLG0oKSkpLHgmJihyKCkscygpLGMoKSxkKCkpKTooYS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIXUoZSkmJmUua2V5Q29kZT09PUlmLkJBQ0tTUEFDRSl7dmFyIHQsbj0odD15LmdldFJuZygpKS5zdGFydENvbnRhaW5lcixyPXQuc3RhcnRPZmZzZXQsbz1iLmdldFJvb3QoKSxpPW47aWYodC5jb2xsYXBzZWQmJjA9PT1yKXtmb3IoO2kmJmkucGFyZW50Tm9kZSYmaS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ9PT1pJiZpLnBhcmVudE5vZGUhPT1vOylpPWkucGFyZW50Tm9kZTsiQkxPQ0tRVU9URSI9PT1pLnRhZ05hbWUmJihhLmZvcm1hdHRlci50b2dnbGUoImJsb2NrcXVvdGUiLG51bGwsaSksKHQ9Yi5jcmVhdGVSbmcoKSkuc2V0U3RhcnQobiwwKSx0LnNldEVuZChuLDApLHkuc2V0Um5nKHQpKX19fSksYS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1lLmtleUNvZGU7dShlKXx8aSE9PXYmJmkhPT1ofHwodD1hLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpLG49YS5nZXRCb2R5KCksdCYmIWIuaXNFbXB0eShuKXx8IXQmJihyPVIoYS5zZWxlY3Rpb24uZ2V0Um5nKCkpLChvPWIuY3JlYXRlUm5nKCkpLnNlbGVjdE5vZGUoYS5nZXRCb2R5KCkpLHIhPT1SKG8pKXx8KGUucHJldmVudERlZmF1bHQoKSxhLnNldENvbnRlbnQoIiIpLG4uZmlyc3RDaGlsZCYmYi5pc0Jsb2NrKG4uZmlyc3RDaGlsZCk/YS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24obi5maXJzdENoaWxkLDApOmEuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4sMCksYS5ub2RlQ2hhbmdlZCgpKSl9KSx4dC53aW5kb3dzUGhvbmV8fGEub24oImtleXVwIGZvY3VzaW4gbW91c2V1cCIsZnVuY3Rpb24oZSl7SWYubW9kaWZpZXJQcmVzc2VkKGUpfHx5Lm5vcm1hbGl6ZSgpfSwhMCksUyYmKG4oKSxvKCksa3MoYSkmJmEub24oImluaXQiLGZ1bmN0aW9uKCl7ZSgiRGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvciIsa3MoYSkpfSksZygpLGkoKSxDLmFkZE5vZGVGaWx0ZXIoImJyIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOykiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSI9PT1lW3RdLmF0dHIoImNsYXNzIikmJmVbdF0ucmVtb3ZlKCl9KSx4dC5pT1M/KGwoKSxmKCksbSgpKTp0KCkpLDExPD14dC5pZSYmKGYoKSxpKCkpLHh0LmllJiYodCgpLGUoIkF1dG9VcmxEZXRlY3QiLCExKSxhLm9uKCJkcmFnc3RhcnQiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjsodD1lKS5kYXRhVHJhbnNmZXImJihhLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYiSU1HIj09PXQudGFyZ2V0LnRhZ05hbWUmJnkuc2VsZWN0KHQudGFyZ2V0KSwwPChuPWEuc2VsZWN0aW9uLmdldENvbnRlbnQoKSkubGVuZ3RoJiYocj1OK2VzY2FwZShhLmlkKSsiLCIrZXNjYXBlKG4pLHQuZGF0YVRyYW5zZmVyLnNldERhdGEoRSxyKSkpfSksYS5vbigiZHJvcCIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87dShlKXx8KHQ9ZS5kYXRhVHJhbnNmZXImJihvPWUuZGF0YVRyYW5zZmVyLmdldERhdGEoRSkpJiYwPD1vLmluZGV4T2YoTik/KG89by5zdWJzdHIoTi5sZW5ndGgpLnNwbGl0KCIsIikse2lkOnVuZXNjYXBlKG9bMF0pLGh0bWw6dW5lc2NhcGUob1sxXSl9KTpudWxsKSYmdC5pZCE9PWEuaWQmJihlLnByZXZlbnREZWZhdWx0KCksbj1FZihlLngsZS55LGEuZ2V0RG9jKCkpLHkuc2V0Um5nKG4pLHI9dC5odG1sLGEucXVlcnlDb21tYW5kU3VwcG9ydGVkKCJtY2VJbnNlcnRDbGlwYm9hcmRDb250ZW50Iik/YS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIsITEse2NvbnRlbnQ6cixpbnRlcm5hbDohMH0pOmEuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLHIpKX0pKSx4JiYoYS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIXUoZSkmJmUua2V5Q29kZT09PWgmJmEuZ2V0Qm9keSgpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJociIpLmxlbmd0aCYmeS5pc0NvbGxhcHNlZCgpJiYwPT09eS5nZXRSbmcoKS5zdGFydE9mZnNldCl7dmFyIHQ9eS5nZXROb2RlKCksbj10LnByZXZpb3VzU2libGluZztpZigiSFIiPT09dC5ub2RlTmFtZSlyZXR1cm4gYi5yZW1vdmUodCksdm9pZCBlLnByZXZlbnREZWZhdWx0KCk7biYmbi5ub2RlTmFtZSYmImhyIj09PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGIucmVtb3ZlKG4pLGUucHJldmVudERlZmF1bHQoKSl9fSkscigpLGEub24oImtleXByZXNzIixmdW5jdGlvbihlKXt2YXIgdDtpZighdShlKSYmKDg9PT1lLmtleUNvZGV8fDQ2PT09ZS5rZXlDb2RlKSYmQSgpKXJldHVybiB0PV8oKSxhLmdldERvYygpLmV4ZWNDb21tYW5kKCJkZWxldGUiLCExLG51bGwpLHQoKSxlLnByZXZlbnREZWZhdWx0KCksITF9KSxiLmJpbmQoYS5nZXREb2MoKSwiY3V0IixmdW5jdGlvbihlKXt2YXIgdDshdShlKSYmQSgpJiYodD1fKCksQXIuc2V0RWRpdG9yVGltZW91dChhLGZ1bmN0aW9uKCl7dCgpfSkpfSkscygpLGEub24oIlNldENvbnRlbnQgRXhlY0NvbW1hbmQiLGZ1bmN0aW9uKGUpeyJzZXRjb250ZW50IiE9PWUudHlwZSYmIm1jZUluc2VydExpbmsiIT09ZS5jb21tYW5kfHxwKGIuc2VsZWN0KCJhIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlLG49Yi5nZXRSb290KCk7aWYodC5sYXN0Q2hpbGQ9PT1lKXtmb3IoO3QmJiFiLmlzQmxvY2sodCk7KXtpZih0LnBhcmVudE5vZGUubGFzdENoaWxkIT09dHx8dD09PW4pcmV0dXJuO3Q9dC5wYXJlbnROb2RlfWIuYWRkKHQsImJyIix7ImRhdGEtbWNlLWJvZ3VzIjoxfSl9fSl9KSxjKCksZCgpLGkoKSkpLHtyZWZyZXNoQ29udGVudEVkaXRhYmxlOmssaXNIaWRkZW46ZnVuY3Rpb24oKXtpZigheHx8YS5yZW1vdmVkKXJldHVybiExO3ZhciBlPWEuc2VsZWN0aW9uLmdldFNlbCgpO3JldHVybiFlfHwhZS5yYW5nZUNvdW50fHwwPT09ZS5yYW5nZUNvdW50fX07ZnVuY3Rpb24gXygpe3ZhciBlPWIuZ2V0QXR0cmlicyh5LmdldFN0YXJ0KCkuY2xvbmVOb2RlKCExKSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9eS5nZXRTdGFydCgpO3QhPT1hLmdldEJvZHkoKSYmKGIuc2V0QXR0cmliKHQsInN0eWxlIixudWxsKSxwKGUsZnVuY3Rpb24oZSl7dC5zZXRBdHRyaWJ1dGVOb2RlKGUuY2xvbmVOb2RlKCEwKSl9KSl9fWZ1bmN0aW9uIEEoKXtyZXR1cm4heS5pc0NvbGxhcHNlZCgpJiZiLmdldFBhcmVudCh5LmdldFN0YXJ0KCksYi5pc0Jsb2NrKSE9PWIuZ2V0UGFyZW50KHkuZ2V0RW5kKCksYi5pc0Jsb2NrKX1mdW5jdGlvbiBSKGUpe3ZhciB0PWIuY3JlYXRlKCJib2R5Iiksbj1lLmNsb25lQ29udGVudHMoKTtyZXR1cm4gdC5hcHBlbmRDaGlsZChuKSx5LnNlcmlhbGl6ZXIuc2VyaWFsaXplKHQse2Zvcm1hdDoiaHRtbCJ9KX19ZnVuY3Rpb24gXzEoZSl7cmV0dXJuIGFlKGUsZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1iKGUpfSl9ZnVuY3Rpb24gQTEoZSl7dmFyIHQ9ZS5zZXR0aW5ncztyZXR1cm4gXzEoe2Jsb2NrX2VsZW1lbnRzOnQuYmxvY2tfZWxlbWVudHMsYm9vbGVhbl9hdHRyaWJ1dGVzOnQuYm9vbGVhbl9hdHRyaWJ1dGVzLGN1c3RvbV9lbGVtZW50czp0LmN1c3RvbV9lbGVtZW50cyxleHRlbmRlZF92YWxpZF9lbGVtZW50czp0LmV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzLGludmFsaWRfZWxlbWVudHM6dC5pbnZhbGlkX2VsZW1lbnRzLGludmFsaWRfc3R5bGVzOnQuaW52YWxpZF9zdHlsZXMsbW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHM6dC5tb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cyxub25fZW1wdHlfZWxlbWVudHM6dC5ub25fZW1wdHlfZWxlbWVudHMsc2NoZW1hOnQuc2NoZW1hLHNlbGZfY2xvc2luZ19lbGVtZW50czp0LnNlbGZfY2xvc2luZ19lbGVtZW50cyxzaG9ydF9lbmRlZF9lbGVtZW50czp0LnNob3J0X2VuZGVkX2VsZW1lbnRzLHNwZWNpYWw6dC5zcGVjaWFsLHRleHRfYmxvY2tfZWxlbWVudHM6dC50ZXh0X2Jsb2NrX2VsZW1lbnRzLHRleHRfaW5saW5lX2VsZW1lbnRzOnQudGV4dF9pbmxpbmVfZWxlbWVudHMsdmFsaWRfY2hpbGRyZW46dC52YWxpZF9jaGlsZHJlbix2YWxpZF9jbGFzc2VzOnQudmFsaWRfY2xhc3Nlcyx2YWxpZF9lbGVtZW50czp0LnZhbGlkX2VsZW1lbnRzLHZhbGlkX3N0eWxlczp0LnZhbGlkX3N0eWxlcyx2ZXJpZnlfaHRtbDp0LnZlcmlmeV9odG1sLHdoaXRlc3BhY2VfZWxlbWVudHM6dC53aGl0ZXNwYWNlX2VsZW1lbnRzLHBhZGRfZW1wdHlfYmxvY2tfaW5saW5lX2NoaWxkcmVuOnQuZm9ybWF0X2VtcHR5X2xpbmVzfSl9ZnVuY3Rpb24gUjEoZSl7dmFyIHQ9ZS5zZXR0aW5ncyxuPWUuZWRpdG9yVXBsb2FkLmJsb2JDYWNoZTtyZXR1cm4gXzEoe2FsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzOnQuYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHMsYWxsb3dfaHRtbF9kYXRhX3VybHM6dC5hbGxvd19odG1sX2RhdGFfdXJscyxhbGxvd19zdmdfZGF0YV91cmxzOnQuYWxsb3dfc3ZnX2RhdGFfdXJscyxhbGxvd19odG1sX2luX25hbWVkX2FuY2hvcjp0LmFsbG93X2h0bWxfaW5fbmFtZWRfYW5jaG9yLGFsbG93X3NjcmlwdF91cmxzOnQuYWxsb3dfc2NyaXB0X3VybHMsYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0OnQuYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0LGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6dC5jb252ZXJ0X2ZvbnRzX3RvX3NwYW5zLGZpeF9saXN0X2VsZW1lbnRzOnQuZml4X2xpc3RfZWxlbWVudHMsZm9udF9zaXplX2xlZ2FjeV92YWx1ZXM6dC5mb250X3NpemVfbGVnYWN5X3ZhbHVlcyxmb3JjZWRfcm9vdF9ibG9jazp0LmZvcmNlZF9yb290X2Jsb2NrLGZvcmNlZF9yb290X2Jsb2NrX2F0dHJzOnQuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMscGFkZF9lbXB0eV93aXRoX2JyOnQucGFkZF9lbXB0eV93aXRoX2JyLHByZXNlcnZlX2NkYXRhOnQucHJlc2VydmVfY2RhdGEscmVtb3ZlX3RyYWlsaW5nX2Jyczp0LnJlbW92ZV90cmFpbGluZ19icnMsaW5saW5lX3N0eWxlczp0LmlubGluZV9zdHlsZXMscm9vdF9uYW1lOmUuaW5saW5lP2UuZ2V0RWxlbWVudCgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6dm9pZCAwLHZhbGlkYXRlOiEwLGJsb2JfY2FjaGU6bixkb2N1bWVudDplLmdldERvYygpLGltYWdlc19kYXRhaW1nX2ZpbHRlcjp0LmltYWdlc19kYXRhaW1nX2ZpbHRlcn0pfWZ1bmN0aW9uIEQxKGUpe3ZhciB0LHUsbjtlLmJpbmRQZW5kaW5nRXZlbnREZWxlZ2F0ZXMoKSxlLmluaXRpYWxpemVkPSEwLGUuZmlyZSgiSW5pdCIpLGUuZm9jdXMoITApLG49KHU9ZSkuZG9tLmdldFJvb3QoKSx1LmlubGluZXx8UGwodSkmJnUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSE9PW58fHJmKG4pLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1lLmdldE5vZGUoKSxhPWNuKGkpP3JmKGkpLmdldE9yKGUpOmU7eHQuYnJvd3Nlci5pc0lFKCk/KHQ9dSxuPWEudG9SYW5nZSgpLHI9RXQuZnJvbURvbSh0LmdldEJvZHkoKSksbz0oY2QodCk/dmUuZnJvbShuKTp2ZS5ub25lKCkpLm1hcChsZCkuZmlsdGVyKHNkKHIpKSx0LmJvb2ttYXJrPW8uaXNTb21lKCk/bzp0LmJvb2ttYXJrKTp1LnNlbGVjdGlvbi5zZXRSbmcoYS50b1JhbmdlKCkpfSksZS5ub2RlQ2hhbmdlZCh7aW5pdGlhbDohMH0pLGUuZXhlY0NhbGxiYWNrKCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIixlKSwodD1lKS5zZXR0aW5ncy5hdXRvX2ZvY3VzJiZBci5zZXRFZGl0b3JUaW1lb3V0KHQsZnVuY3Rpb24oKXt2YXIgZT0hMD09PXQuc2V0dGluZ3MuYXV0b19mb2N1cz90OnQuZWRpdG9yTWFuYWdlci5nZXQodC5zZXR0aW5ncy5hdXRvX2ZvY3VzKTtlLmRlc3Ryb3llZHx8ZS5mb2N1cygpfSwxMDApfWZ1bmN0aW9uIFQxKGUpe3JldHVybihlLmlubGluZT9lLnVpOmUuZG9tKS5zdHlsZVNoZWV0TG9hZGVyfWZ1bmN0aW9uIE8xKGUpe2Z1bmN0aW9uIHQoKXtvLnVubG9hZEFsbChhKSxlLmlubGluZXx8ZS51aS5zdHlsZVNoZWV0TG9hZGVyLnVubG9hZEFsbChpKX1mdW5jdGlvbiBuKCl7ZS5yZW1vdmVkP3QoKTplLm9uKCJyZW1vdmUiLHQpfXZhciByLG89VDEoZSksaT1CcyhlKSxhPWUuY29udGVudENTUzswPGUuY29udGVudFN0eWxlcy5sZW5ndGgmJihyPSIiLE50LmVhY2goZS5jb250ZW50U3R5bGVzLGZ1bmN0aW9uKGUpe3IrPWUrIlxyXG4ifSksZS5kb20uYWRkU3R5bGUocikpO3ZhciB1LHMsYyxsLGYsZCxtLGcscCxoPV9yLmFsbCgodT1lLHM9YSxjPWksbD1bbmV3IF9yKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFQxKHUpLmxvYWRBbGwocyxlLHQpfSldLHUuaW5saW5lP2w6bC5jb25jYXQoW25ldyBfcihmdW5jdGlvbihlLHQpe3JldHVybiB1LnVpLnN0eWxlU2hlZXRMb2FkZXIubG9hZEFsbChjLGUsdCl9KV0pKSkudGhlbihuKS5jYXRjaChuKTtyZXR1cm4gZS5zZXR0aW5ncy5jb250ZW50X3N0eWxlJiYoZD0oZj1lKS5zZXR0aW5ncy5jb250ZW50X3N0eWxlLG09RXQuZnJvbURvbShmLmdldEJvZHkoKSksZz1qdChQbihtKSkscG4ocD1FdC5mcm9tVGFnKCJzdHlsZSIpLCJ0eXBlIiwidGV4dC9jc3MiKSxMbihwLEV0LmZyb21UZXh0KGQpKSxMbihnLHApLGYub24oInJlbW92ZSIsZnVuY3Rpb24oKXtJbihwKX0pKSxofWZ1bmN0aW9uIEIxKGUpe3ZhciB0OyEwIT09ZS5yZW1vdmVkJiYoaGgodD1lKXx8dC5sb2FkKHtpbml0aWFsOiEwLGZvcm1hdDoiaHRtbCJ9KSx0LnN0YXJ0Q29udGVudD10LmdldENvbnRlbnQoe2Zvcm1hdDoicmF3In0pLEQxKGUpKX1mdW5jdGlvbiBQMSh0LGUpe3ZhciBuPXQuc2V0dGluZ3Mscj10LmdldEVsZW1lbnQoKSxvPXQuZ2V0RG9jKCk7bi5pbmxpbmV8fCh0LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PXQub3JnVmlzaWJpbGl0eSksZXx8dC5pbmxpbmV8fChvLm9wZW4oKSxvLndyaXRlKHQuaWZyYW1lSFRNTCksby5jbG9zZSgpKSx0LmlubGluZSYmKFExLmFkZENsYXNzKHIsIm1jZS1jb250ZW50LWJvZHkiKSx0LmNvbnRlbnREb2N1bWVudD1vPWRvY3VtZW50LHQuY29udGVudFdpbmRvdz13aW5kb3csdC5ib2R5RWxlbWVudD1yLHQuY29udGVudEFyZWFDb250YWluZXI9cik7dmFyIHUsaSxhLHMsYyxsLGYsZCxtLGcscCxoLHY9dC5nZXRCb2R5KCk7di5kaXNhYmxlZD0hMCx0LnJlYWRvbmx5PSEhbi5yZWFkb25seSx0LnJlYWRvbmx5fHwodC5pbmxpbmUmJiJzdGF0aWMiPT09UTEuZ2V0U3R5bGUodiwicG9zaXRpb24iLCEwKSYmKHYuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksdi5jb250ZW50RWRpdGFibGU9dC5nZXRQYXJhbSgiY29udGVudF9lZGl0YWJsZV9zdGF0ZSIsITApKSx2LmRpc2FibGVkPSExLHQuZWRpdG9yVXBsb2FkPWNiKHQpLHQuc2NoZW1hPW9vKEExKHQpKSx0LmRvbT1ldShvLHtrZWVwX3ZhbHVlczohMCx1cmxfY29udmVydGVyOnQuY29udmVydFVSTCx1cmxfY29udmVydGVyX3Njb3BlOnQsaGV4X2NvbG9yczpuLmZvcmNlX2hleF9zdHlsZV9jb2xvcnMsdXBkYXRlX3N0eWxlczohMCxyb290X2VsZW1lbnQ6dC5pbmxpbmU/dC5nZXRCb2R5KCk6bnVsbCxjb2xsZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5saW5lfSxzY2hlbWE6dC5zY2hlbWEsY29udGVudENzc0NvcnM6dC5nZXRQYXJhbSgiY29udGVudF9jc3NfY29ycyIsITEsImJvb2xlYW4iKSxyZWZlcnJlclBvbGljeTpEcyh0KSxvblNldEF0dHJpYjpmdW5jdGlvbihlKXt0LmZpcmUoIlNldEF0dHJpYiIsZSl9fSksdC5wYXJzZXI9KChpPWN2KFIxKHU9dCksdS5zY2hlbWEpKS5hZGRBdHRyaWJ1dGVGaWx0ZXIoInNyYyxocmVmLHN0eWxlLHRhYmluZGV4IixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG89ZS5sZW5ndGgsaT11LmRvbSxhPSJkYXRhLW1jZS0iK3Q7by0tOykocj0obj1lW29dKS5hdHRyKHQpKSYmIW4uYXR0cihhKSYmMCE9PXIuaW5kZXhPZigiZGF0YToiKSYmMCE9PXIuaW5kZXhPZigiYmxvYjoiKSYmKCJzdHlsZSI9PT10Pygocj1pLnNlcmlhbGl6ZVN0eWxlKGkucGFyc2VTdHlsZShyKSxuLm5hbWUpKS5sZW5ndGh8fChyPW51bGwpLG4uYXR0cihhLHIpLG4uYXR0cih0LHIpKToidGFiaW5kZXgiPT09dD8obi5hdHRyKGEsciksbi5hdHRyKHQsbnVsbCkpOm4uYXR0cihhLHUuY29udmVydFVSTChyLHQsbi5uYW1lKSkpfSksaS5hZGROb2RlRmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0LS07KXt2YXIgbj1lW3RdLHI9bi5hdHRyKCJ0eXBlIil8fCJuby90eXBlIjswIT09ci5pbmRleE9mKCJtY2UtIikmJm4uYXR0cigidHlwZSIsIm1jZS0iK3IpfX0pLHUuc2V0dGluZ3MucHJlc2VydmVfY2RhdGEmJmkuYWRkTm9kZUZpbHRlcigiI2NkYXRhIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOyl7dmFyIG49ZVt0XTtuLnR5cGU9OCxuLm5hbWU9IiNjb21tZW50IixuLnZhbHVlPSJbQ0RBVEFbIit1LmRvbS5lbmNvZGUobi52YWx1ZSkrIl1dIn19KSxpLmFkZE5vZGVGaWx0ZXIoInAsaDEsaDIsaDMsaDQsaDUsaDYsZGl2IixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsbj11LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7dC0tOyl7dmFyIHI9ZVt0XTtyLmlzRW1wdHkobikmJjA9PT1yLmdldEFsbCgiYnIiKS5sZW5ndGgmJihyLmFwcGVuZChuZXcgamQoImJyIiwxKSkuc2hvcnRFbmRlZD0hMCl9fSksaSksdC5zZXJpYWxpemVyPWR2KChzPShhPXQpLnNldHRpbmdzLF9lKF9lKF9lKHt9LFIxKGEpKSxBMShhKSksXzEoe3VybF9jb252ZXJ0ZXI6cy51cmxfY29udmVydGVyLHVybF9jb252ZXJ0ZXJfc2NvcGU6cy51cmxfY29udmVydGVyX3Njb3BlLGVsZW1lbnRfZm9ybWF0OnMuZWxlbWVudF9mb3JtYXQsZW50aXRpZXM6cy5lbnRpdGllcyxlbnRpdHlfZW5jb2Rpbmc6cy5lbnRpdHlfZW5jb2RpbmcsaW5kZW50OnMuaW5kZW50LGluZGVudF9hZnRlcjpzLmluZGVudF9hZnRlcixpbmRlbnRfYmVmb3JlOnMuaW5kZW50X2JlZm9yZX0pKSksdCksdC5zZWxlY3Rpb249RmgodC5kb20sdC5nZXRXaW4oKSx0LnNlcmlhbGl6ZXIsdCksdC5hbm5vdGF0b3I9emwodCksdC5mb3JtYXR0ZXI9bWIodCksdC51bmRvTWFuYWdlcj1wYih0KSx0Ll9ub2RlQ2hhbmdlRGlzcGF0Y2hlcj1uZXcgaDEodCksdC5fc2VsZWN0aW9uT3ZlcnJpZGVzPUUxKHQpLG09dCxnPWR1KCkscD1hdSghMSksaD1ndShmdW5jdGlvbihlKXttLmZpcmUoImxvbmdwcmVzcyIsX2UoX2Uoe30sZSkse3R5cGU6ImxvbmdwcmVzcyJ9KSkscC5zZXQoITApfSw0MDApLG0ub24oInRvdWNoc3RhcnQiLGZ1bmN0aW9uKG4pe1UwKG4pLmVhY2goZnVuY3Rpb24oZSl7aC5jYW5jZWwoKTt2YXIgdD17eDplLmNsaWVudFgseTplLmNsaWVudFksdGFyZ2V0Om4udGFyZ2V0fTtoLnRocm90dGxlKG4pLHAuc2V0KCExKSxnLnNldCh0KX0pfSwhMCksbS5vbigidG91Y2htb3ZlIixmdW5jdGlvbihlKXtoLmNhbmNlbCgpLFUwKGUpLmVhY2goZnVuY3Rpb24oaSl7Zy5vbihmdW5jdGlvbihlKXt2YXIgdD1pLG49ZSxyPU1hdGguYWJzKHQuY2xpZW50WC1uLngpLG89TWF0aC5hYnModC5jbGllbnRZLW4ueSk7KDU8cnx8NTxvKSYmKGcuY2xlYXIoKSxwLnNldCghMSksbS5maXJlKCJsb25ncHJlc3NjYW5jZWwiKSl9KX0pfSwhMCksbS5vbigidG91Y2hlbmQgdG91Y2hjYW5jZWwiLGZ1bmN0aW9uKHQpe2guY2FuY2VsKCksInRvdWNoY2FuY2VsIiE9PXQudHlwZSYmZy5nZXQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0LmlzRXF1YWxOb2RlKHQudGFyZ2V0KX0pLmVhY2goZnVuY3Rpb24oKXtwLmdldCgpP3QucHJldmVudERlZmF1bHQoKTptLmZpcmUoInRhcCIsX2UoX2Uoe30sdCkse3R5cGU6InRhcCJ9KSl9KX0sITApLChmPWw9dCkub24oImNsaWNrIixmdW5jdGlvbihlKXtmLmRvbS5nZXRQYXJlbnQoZS50YXJnZXQsImRldGFpbHMiKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSksKGQ9bCkucGFyc2VyLmFkZE5vZGVGaWx0ZXIoImRldGFpbHMiLGZ1bmN0aW9uKGUpe1koZSxmdW5jdGlvbihlKXtlLmF0dHIoImRhdGEtbWNlLW9wZW4iLGUuYXR0cigib3BlbiIpKSxlLmF0dHIoIm9wZW4iLCJvcGVuIil9KX0pLGQuc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIixmdW5jdGlvbihlKXtZKGUsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyKCJkYXRhLW1jZS1vcGVuIik7ZS5hdHRyKCJvcGVuIixYKHQpP3Q6bnVsbCksZS5hdHRyKCJkYXRhLW1jZS1vcGVuIixudWxsKX0pfSksaGgodCl8fChjPXQpLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saTszPD1lLmRldGFpbCYmKHI9KHQ9Yykuc2VsZWN0aW9uLmdldFJuZygpLG89Y3MuZnJvbVJhbmdlU3RhcnQociksaT1jcy5mcm9tUmFuZ2VFbmQociksIWNzLmlzRWxlbWVudFBvc2l0aW9uKG8pfHxiMShuPW8uY29udGFpbmVyKCkpJiZyZihuKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiByLnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSwhY3MuaXNFbGVtZW50UG9zaXRpb24oaSl8fGIxKG49by5jb250YWluZXIoKSkmJm9mKG4pLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHIuc2V0RW5kKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KSx0LnNlbGVjdGlvbi5zZXRSbmcoQ2cocikpKX0pO3ZhciBiLHksQyx4LHcsUyxOLEUsayxfPWhoKGI9dCk/YXUobnVsbCk6R0MoYik7az1fLChFPXQpLmFkZENvbW1hbmQoImRlbGV0ZSIsZnVuY3Rpb24oKXt2YXIgZSx0PWs7TTAoZT1FKXx8R2IoZSwhMSl8fHFiKGUsITEpfHxrMChlLHQsITEpfHxCYihlLCExKXx8eWcoZSl8fEpiKGUsITEpfHxUMChlLCExKXx8SWIoZSl8fFIwKGUsITEpfHwoRjAoZSwiRGVsZXRlIiksU2IoZSkpfSksRS5hZGRDb21tYW5kKCJmb3J3YXJkRGVsZXRlIixmdW5jdGlvbigpe3ZhciBlLHQ9aztHYihlPUUsITApfHxxYihlLCEwKXx8azAoZSx0LCEwKXx8QmIoZSwhMCl8fHlnKGUpfHxKYihlLCEwKXx8VDAoZSwhMCl8fEliKGUpfHxSMChlLCEwKXx8RjAoZSwiRm9yd2FyZERlbGV0ZSIpfSksa3MoeT10KSYmeS5vbigiTm9kZUNoYW5nZSIsUihIMCx5KSkseD0oQz10KS5kb20sdz1rcyhDKSxTPUMuZ2V0UGFyYW0oInBsYWNlaG9sZGVyIix2Yy5nZXRBdHRyaWIoQy5nZXRFbGVtZW50KCksInBsYWNlaG9sZGVyIiksInN0cmluZyIpLE49ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG87IWZ1bmN0aW9uKGUpe2lmKGhiKGUpKXt2YXIgdD1lLmtleUNvZGU7cmV0dXJuIXZiKGUpJiYoSWYubWV0YUtleVByZXNzZWQoZSl8fGUuYWx0S2V5fHwxMTI8PXQmJnQ8PTEyM3x8VChSeSx0KSl9fShlKSYmKG49Qy5nZXRCb2R5KCkscj0hKGhiKG89ZSkmJiEodmIobyl8fCJrZXl1cCI9PT1vLnR5cGUmJjIyOT09PW8ua2V5Q29kZSkpJiZmdW5jdGlvbihlLHQsbil7aWYoS3IoRXQuZnJvbURvbSh0KSwhMSkpe3ZhciByPSIiPT09bixvPXQuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIW98fCFlLmdldFN0eWxlKHQuZmlyc3RFbGVtZW50Q2hpbGQsInBhZGRpbmctbGVmdCIpJiYhZS5nZXRTdHlsZSh0LmZpcnN0RWxlbWVudENoaWxkLCJwYWRkaW5nLXJpZ2h0IikmJihyPyFlLmlzQmxvY2sobyk6bj09PW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl9cmV0dXJuITF9KHgsbix3KSwiIiE9PXguZ2V0QXR0cmliKG4sRHkpPT09ciYmIXR8fCh4LnNldEF0dHJpYihuLER5LHI/UzpudWxsKSx4LnNldEF0dHJpYihuLCJhcmlhLXBsYWNlaG9sZGVyIixyP1M6bnVsbCksQy5maXJlKCJQbGFjZWhvbGRlclRvZ2dsZSIse3N0YXRlOnJ9KSxDLm9uKHI/ImtleWRvd24iOiJrZXl1cCIsTiksQy5vZmYocj8ia2V5dXAiOiJrZXlkb3duIixOKSkpfSxTJiZDLm9uKCJpbml0IixmdW5jdGlvbihlKXtOKGUsITApLEMub24oImNoYW5nZSBTZXRDb250ZW50IEV4ZWNDb21tYW5kIixOKSxDLm9uKCJwYXN0ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIEFyLnNldEVkaXRvclRpbWVvdXQoQyxmdW5jdGlvbigpe3JldHVybiBOKGUpfSl9KX0pO3ZhciBBPXZoKHQpOyhmdW5jdGlvbih0KXt2YXIgZT10LnNldHRpbmdzLG49dC5nZXREb2MoKSxyPXQuZ2V0Qm9keSgpO3QuZmlyZSgiUHJlSW5pdCIpLGUuYnJvd3Nlcl9zcGVsbGNoZWNrfHxlLmdlY2tvX3NwZWxsY2hlY2t8fChuLmJvZHkuc3BlbGxjaGVjaz0hMSxRMS5zZXRBdHRyaWIociwic3BlbGxjaGVjayIsImZhbHNlIikpLHQucXVpcmtzPWsxKHQpLHQuZmlyZSgiUG9zdFJlbmRlciIpO3ZhciBvPXQuZ2V0UGFyYW0oImRpcmVjdGlvbmFsaXR5IixsdS5pc1J0bCgpPyJydGwiOnZvaWQgMCk7dm9pZCAwIT09byYmKHIuZGlyPW8pLGUucHJvdGVjdCYmdC5vbigiQmVmb3JlU2V0Q29udGVudCIsZnVuY3Rpb24odCl7TnQuZWFjaChlLnByb3RlY3QsZnVuY3Rpb24oZSl7dC5jb250ZW50PXQuY29udGVudC5yZXBsYWNlKGUsZnVuY3Rpb24oZSl7cmV0dXJuIlx4M2MhLS1tY2U6cHJvdGVjdGVkICIrZXNjYXBlKGUpKyItLVx4M2UifSl9KX0pLHQub24oIlNldENvbnRlbnQiLGZ1bmN0aW9uKCl7dC5hZGRWaXN1YWwodC5nZXRCb2R5KCkpfSksdC5vbigiY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7dC5jb21wb3Npbmc9ImNvbXBvc2l0aW9uc3RhcnQiPT09ZS50eXBlfSl9KSh0KSxBLmZvbGQoZnVuY3Rpb24oKXtPMSh0KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEIxKHQpfSl9LGZ1bmN0aW9uKGUpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMCksTzEodCkudGhlbihmdW5jdGlvbigpe2UoKS50aGVuKGZ1bmN0aW9uKGUpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMSksQjEodCl9LGZ1bmN0aW9uKGUpe3Qubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0eXBlOiJlcnJvciIsdGV4dDpTdHJpbmcoZSl9KSxCMSh0KX0pfSl9KX1mdW5jdGlvbiBMMShlLHQpe3ZhciBuLHIsbyxpLGE9ZS50cmFuc2xhdGUoIlJpY2ggVGV4dCBBcmVhIiksdT0obj1lLmlkLHI9YSx0LmhlaWdodCxvPWUuZ2V0UGFyYW0oImlmcmFtZV9hdHRycyIse30pLGhuKGk9RXQuZnJvbVRhZygiaWZyYW1lIiksbyksaG4oaSx7aWQ6bisiX2lmciIsZnJhbWVCb3JkZXI6IjAiLGFsbG93VHJhbnNwYXJlbmN5OiJ0cnVlIix0aXRsZTpyfSksdnUoaSwidG94LWVkaXQtYXJlYV9faWZyYW1lIiksaS5kb20pO3Uub25sb2FkPWZ1bmN0aW9uKCl7dS5vbmxvYWQ9bnVsbCxlLmZpcmUoImxvYWQiKX07dmFyIHM9ZnVuY3Rpb24oZSx0KXtpZihkb2N1bWVudC5kb21haW4hPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUmJnh0LmJyb3dzZXIuaXNJRSgpKXt2YXIgbj1vYigibWNlIik7ZVtuXT1mdW5jdGlvbigpe1AxKGUpfTt2YXIgcj0namF2YXNjcmlwdDooZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSInK2RvY3VtZW50LmRvbWFpbisnIjt2YXIgZWQgPSB3aW5kb3cucGFyZW50LnRpbnltY2UuZ2V0KCInK2UuaWQrJyIpO2RvY3VtZW50LndyaXRlKGVkLmlmcmFtZUhUTUwpO2RvY3VtZW50LmNsb3NlKCk7ZWQuJytuKyIodHJ1ZSk7fSkoKSI7cmV0dXJuIFoxLnNldEF0dHJpYih0LCJzcmMiLHIpLCEwfXJldHVybiExfShlLHUpO3JldHVybiBlLmNvbnRlbnRBcmVhQ29udGFpbmVyPXQuaWZyYW1lQ29udGFpbmVyLGUuaWZyYW1lRWxlbWVudD11LGUuaWZyYW1lSFRNTD1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFBhcmFtKCJkb2N0eXBlIiwiPCFET0NUWVBFIGh0bWw+IikrIjxodG1sPjxoZWFkPiI7ZS5nZXRQYXJhbSgiZG9jdW1lbnRfYmFzZV91cmwiLCIiKSE9PWUuZG9jdW1lbnRCYXNlVXJsJiYodCs9JzxiYXNlIGhyZWY9IicrZS5kb2N1bWVudEJhc2VVUkkuZ2V0VVJJKCkrJyIgLz4nKSx0Kz0nPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgiIC8+Jzt2YXIgbj1OcyhlLCJib2R5X2lkIiwidGlueW1jZSIpLHI9TnMoZSwiYm9keV9jbGFzcyIsIiIpLG89ZS50cmFuc2xhdGUoZS5nZXRQYXJhbSgiaWZyYW1lX2FyaWFfdGV4dCIsIlJpY2ggVGV4dCBBcmVhLiBQcmVzcyBBTFQtMCBmb3IgaGVscC4iLCJzdHJpbmciKSk7cmV0dXJuIEVzKGUpJiYodCs9JzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtU2VjdXJpdHktUG9saWN5IiBjb250ZW50PSInK0VzKGUpKyciIC8+JyksdCsoJzwvaGVhZD48Ym9keSBpZD0iJytuKyciIGNsYXNzPSJtY2UtY29udGVudC1ib2R5ICcrcisnIiBkYXRhLWlkPSInK2UuaWQpKyciIGFyaWEtbGFiZWw9IicrbysnIj48YnI+PC9ib2R5PjwvaHRtbD4nfShlKSxaMS5hZGQodC5pZnJhbWVDb250YWluZXIsdSksc31mdW5jdGlvbiBJMShlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXC0vLCIiKX1mdW5jdGlvbiBNMShlKXtyZXR1cm57ZWRpdG9yQ29udGFpbmVyOmUsaWZyYW1lQ29udGFpbmVyOmUsYXBpOnt9fX1mdW5jdGlvbiBGMShlKXt2YXIgdCxuLHIsbyxpLGEsdSxzPWUuZ2V0RWxlbWVudCgpO3JldHVybiBlLm9yZ0Rpc3BsYXk9cy5zdHlsZS5kaXNwbGF5LFgoSXMoZSkpP2UudGhlbWUucmVuZGVyVUkoKTp5KElzKGUpKT8obj0odD1lKS5nZXRFbGVtZW50KCksKHI9SXModCkodCxuKSkuZWRpdG9yQ29udGFpbmVyLm5vZGVUeXBlJiYoci5lZGl0b3JDb250YWluZXIuaWQ9ci5lZGl0b3JDb250YWluZXIuaWR8fHQuaWQrIl9wYXJlbnQiKSxyLmlmcmFtZUNvbnRhaW5lciYmci5pZnJhbWVDb250YWluZXIubm9kZVR5cGUmJihyLmlmcmFtZUNvbnRhaW5lci5pZD1yLmlmcmFtZUNvbnRhaW5lci5pZHx8dC5pZCsiX2lmcmFtZWNvbnRhaW5lciIpLHIuaGVpZ2h0PXIuaWZyYW1lSGVpZ2h0fHxuLm9mZnNldEhlaWdodCxyKToodT0obz1lKS5nZXRFbGVtZW50KCksby5pbmxpbmU/TTEobnVsbCk6KGk9dSxhPWV4LmNyZWF0ZSgiZGl2IiksZXguaW5zZXJ0QWZ0ZXIoYSxpKSxNMShhKSkpfWZ1bmN0aW9uIFUxKGUpe3ZhciBuLHQscixvLGksYSx1LHM7ZS5maXJlKCJTY3JpcHRzTG9hZGVkIiksbj1lLHQ9TnQudHJpbShScyhuKSkscj1uLnVpLnJlZ2lzdHJ5LmdldEFsbCgpLmljb25zLG5lKF9lKF9lKHt9LFZ2LmdldCgiZGVmYXVsdCIpLmljb25zKSxWdi5nZXQodCkuaWNvbnMpLGZ1bmN0aW9uKGUsdCl7RWUocix0KXx8bi51aS5yZWdpc3RyeS5hZGRJY29uKHQsZSl9KSxhPUlzKG89ZSksWChhKT8oby5zZXR0aW5ncy50aGVtZT1JMShhKSxpPVl2LmdldChhKSxvLnRoZW1lPW5ldyBpKG8sWXYudXJsc1thXSksby50aGVtZS5pbml0JiZvLnRoZW1lLmluaXQobyxZdi51cmxzW2FdfHxvLmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCIiKSxvLiQpKTpvLnRoZW1lPXt9LHM9W10sTnQuZWFjaChGcyh1PWUpLnNwbGl0KC9bICxdLyksZnVuY3Rpb24oZSl7dHgodSxzLEkxKGUpKX0pO3ZhciBjPUYxKGUpLGw9ZSxmPXZlLmZyb20oYy5hcGkpLmdldE9yKHt9KSxkPXtzaG93OnZlLmZyb20oZi5zaG93KS5nZXRPcih0ZSksaGlkZTp2ZS5mcm9tKGYuaGlkZSkuZ2V0T3IodGUpLGRpc2FibGU6dmUuZnJvbShmLmRpc2FibGUpLmdldE9yKHRlKSxpc0Rpc2FibGVkOnZlLmZyb20oZi5pc0Rpc2FibGVkKS5nZXRPcihEKSxlbmFibGU6ZnVuY3Rpb24oKXtsLm1vZGUuaXNSZWFkT25seSgpfHx2ZS5mcm9tKGYuZW5hYmxlKS5tYXAoeCl9fTtsLnVpPV9lKF9lKHt9LGwudWkpLGQpO3ZhciBtLGcscCxoPXtlZGl0b3JDb250YWluZXI6Yy5lZGl0b3JDb250YWluZXIsaWZyYW1lQ29udGFpbmVyOmMuaWZyYW1lQ29udGFpbmVyfTtyZXR1cm4gZS5lZGl0b3JDb250YWluZXI9aC5lZGl0b3JDb250YWluZXJ8fG51bGwsbmIoZSksZS5pbmxpbmU/UDEoZSk6KHA9TDEobT1lLGc9aCksZy5lZGl0b3JDb250YWluZXImJihaMS5nZXQoZy5lZGl0b3JDb250YWluZXIpLnN0eWxlLmRpc3BsYXk9bS5vcmdEaXNwbGF5LG0uaGlkZGVuPVoxLmlzSGlkZGVuKGcuZWRpdG9yQ29udGFpbmVyKSksbS5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT0ibm9uZSIsWjEuc2V0QXR0cmliKG0uaWQsImFyaWEtaGlkZGVuIiwidHJ1ZSIpLHZvaWQocHx8UDEobSkpKX1mdW5jdGlvbiB6MShlKXtyZXR1cm4iLSI9PT1lLmNoYXJBdCgwKX1mdW5jdGlvbiBIMSh0LGUsbil7cmV0dXJuIHZlLmZyb20oZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RoJiYhVnYuaGFzKGUpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt1cmw6dC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrIi9pY29ucy8iK2UrIi9pY29ucyIrbisiLmpzIixuYW1lOnZlLnNvbWUoZSl9fSl9ZnVuY3Rpb24gajEoYyxsKXt2YXIgZSx0LGY9b3UuU2NyaXB0TG9hZGVyLG49ZixyPWwsbz1mdW5jdGlvbigpe3ZhciByLG8sdCxuLGUsaSxhLHUscztlPWYsdT1UcyhpPWMpLHM9aS5nZXRQYXJhbSgibGFuZ3VhZ2VfdXJsIiwiIiwic3RyaW5nIiksITE9PT1sdS5oYXNDb2RlKHUpJiYiZW4iIT09dSYmKGE9IiIhPT1zP3M6aS5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrIi9sYW5ncy8iK3UrIi5qcyIsZS5hZGQoYSx0ZSx2b2lkIDAsZnVuY3Rpb24oKXtadihpLCJMYW5ndWFnZUxvYWRFcnJvciIsZWIoImxhbmd1YWdlIixhLHUpKX0pKSx0PWYsWShmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1mdW5jdGlvbihlKXt0LnB1c2goZSl9LHI9MDtyPGUubGVuZ3RoO3IrKyllW3JdLmVhY2gobik7cmV0dXJuIHR9KFtIMShuPWMsImRlZmF1bHQiLGwpLHZlLmZyb20obi5nZXRQYXJhbSgiaWNvbnNfdXJsIiwiIiwic3RyaW5nIikpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dXJsOmUsbmFtZTp2ZS5ub25lKCl9fSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBIMShuLFJzKG4pLCIiKX0pXSksZnVuY3Rpb24oZSl7dC5hZGQoZS51cmwsdGUsdm9pZCAwLGZ1bmN0aW9uKCl7WnYobiwiSWNvbnNMb2FkRXJyb3IiLGViKCJpY29ucyIsZS51cmwsZS5uYW1lLmdldE9yVW5kZWZpbmVkKCkpKX0pfSkscj1jLG89bCxOdC5lYWNoKHIuZ2V0UGFyYW0oImV4dGVybmFsX3BsdWdpbnMiKSxmdW5jdGlvbihlLHQpe1h2LmxvYWQodCxlLHRlLHZvaWQgMCxmdW5jdGlvbigpe3RiKHIsZSx0KX0pLHIuc2V0dGluZ3MucGx1Z2lucys9IiAiK3R9KSxOdC5lYWNoKEZzKHIpLnNwbGl0KC9bICxdLyksZnVuY3Rpb24oZSl7dmFyIHQsbjsoZT1OdC50cmltKGUpKSYmIVh2LnVybHNbZV0mJih6MShlKT8oZT1lLnN1YnN0cigxLGUubGVuZ3RoKSx0PVh2LmRlcGVuZGVuY2llcyhlKSxOdC5lYWNoKHQsZnVuY3Rpb24oZSl7dmFyIHQ9WHYuY3JlYXRlVXJsKHtwcmVmaXg6InBsdWdpbnMvIixyZXNvdXJjZTplLHN1ZmZpeDoiL3BsdWdpbiIrbysiLmpzIn0sZSk7WHYubG9hZCh0LnJlc291cmNlLHQsdGUsdm9pZCAwLGZ1bmN0aW9uKCl7dGIocix0LnByZWZpeCt0LnJlc291cmNlK3Quc3VmZml4LHQucmVzb3VyY2UpfSl9KSk6KG49e3ByZWZpeDoicGx1Z2lucy8iLHJlc291cmNlOmUsc3VmZml4OiIvcGx1Z2luIitvKyIuanMifSxYdi5sb2FkKGUsbix0ZSx2b2lkIDAsZnVuY3Rpb24oKXt0YihyLG4ucHJlZml4K24ucmVzb3VyY2Urbi5zdWZmaXgsZSl9KSkpfSksZi5sb2FkUXVldWUoZnVuY3Rpb24oKXtjLnJlbW92ZWR8fFUxKGMpfSxjLGZ1bmN0aW9uKCl7Yy5yZW1vdmVkfHxVMShjKX0pfSxpPUlzKGU9Yyk7WChpKT8oejEoaSl8fEVlKFl2LnVybHMsaSl8fCgodD1lLmdldFBhcmFtKCJ0aGVtZV91cmwiKSk/WXYubG9hZChpLGUuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUodCkpOll2LmxvYWQoaSwidGhlbWVzLyIraSsiL3RoZW1lIityKyIuanMiKSksbi5sb2FkUXVldWUoZnVuY3Rpb24oKXtZdi53YWl0Rm9yKGksbyl9KSk6bygpfWZ1bmN0aW9uIFYxKGEpe3JldHVybiBmdW5jdGlvbihpLGUpe3JldHVybiB2ZS5mcm9tKGUpLm1hcChFdC5mcm9tRG9tKS5maWx0ZXIoX24pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIG49YSx0PWkscj1lLmRvbSxUZyhFdC5mcm9tRG9tKHIpLGZ1bmN0aW9uKGUpe3JldHVybiBTbih0PWUsbikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiJmb250Ij09PWt0KHQpP3VlKHJ4LG4pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGJuKHQsZSl9KTp2ZS5ub25lKCl9KTt2YXIgdH0sZnVuY3Rpb24oZSl7cmV0dXJuIGplKEV0LmZyb21Eb20odCksZSl9KS5vcigobz1lLmRvbSx2ZS5mcm9tKGV1LkRPTS5nZXRTdHlsZShvLGEsITApKSkpO3ZhciBuLHQscixvfSkuZ2V0T3IoIiIpfX1mdW5jdGlvbiBxMShlKXtyZXR1cm4gcmYoZS5nZXRCb2R5KCkpLm1hcChmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRhaW5lcigpO3JldHVybiBWbih0KT90LnBhcmVudE5vZGU6dH0pfWZ1bmN0aW9uICQxKGUsdCl7cmV0dXJuIG49ZSxyPWEodmUuc29tZSx0KSxvPW4sdmUuZnJvbShvLnNlbGVjdGlvbi5nZXRSbmcoKSkuYmluZChmdW5jdGlvbihlKXt2YXIgdD1vLmdldEJvZHkoKTtyZXR1cm4gZS5zdGFydENvbnRhaW5lcj09PXQmJjA9PT1lLnN0YXJ0T2Zmc2V0P3ZlLm5vbmUoKTp2ZS5mcm9tKG8uc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSl9KS5vclRodW5rKFIocTEsbikpLm1hcChFdC5mcm9tRG9tKS5maWx0ZXIoX24pLmJpbmQocik7dmFyIG4scixvfWZ1bmN0aW9uIFcxKGUsdCl7aWYoL15bMC05Ll0rJC8udGVzdCh0KSl7dmFyIG49cGFyc2VJbnQodCwxMCk7aWYoMTw9biYmbjw9Nyl7dmFyIHI9TnQuZXhwbG9kZShlLmdldFBhcmFtKCJmb250X3NpemVfc3R5bGVfdmFsdWVzIiwieHgtc21hbGwseC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSIpKSxvPU50LmV4cGxvZGUoZS5nZXRQYXJhbSgiZm9udF9zaXplX2NsYXNzZXMiLCIiKSk7cmV0dXJuIG8/b1tuLTFdfHx0OnJbbi0xXXx8dH1yZXR1cm4gdH1yZXR1cm4gdH12YXIgSzE9R24sWDE9WW4sWTE9ZnVuY3Rpb24oZSl7ZS5vbihmdW5jdGlvbihlKXtDMShlLmdob3N0KX0pLGUuY2xlYXIoKX0sRzE9WW4sSjE9R24sUTE9ZXUuRE9NLFoxPWV1LkRPTSxleD1ldS5ET00sdHg9ZnVuY3Rpb24odCxuLHIpe3ZhciBvLGksYSx1LGU9WHYuZ2V0KHIpLHM9WHYudXJsc1tyXXx8dC5kb2N1bWVudEJhc2VVcmwucmVwbGFjZSgvXC8kLywiIik7aWYocj1OdC50cmltKHIpLGUmJi0xPT09TnQuaW5BcnJheShuLHIpJiYoTnQuZWFjaChYdi5kZXBlbmRlbmNpZXMociksZnVuY3Rpb24oZSl7dHgodCxuLGUpfSksIXQucGx1Z2luc1tyXSkpdHJ5e3ZhciBjPW5ldyBlKHQscyx0LiQpOyh0LnBsdWdpbnNbcl09YykuaW5pdCYmKGMuaW5pdCh0LHMpLG4ucHVzaChyKSl9Y2F0Y2goZSl7aT1yLGE9ZSxDZihvPXQsIlBsdWdpbkxvYWRFcnJvciIse21lc3NhZ2U6dT1sdS50cmFuc2xhdGUoWyJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBwbHVnaW46IHswfSIsaV0pfSksd3kodSxhKSxRdihvLHUpfX0sbng9ZXUuRE9NLHJ4PXsiZm9udC1zaXplIjoic2l6ZSIsImZvbnQtZmFtaWx5IjoiZmFjZSJ9LG94PVYxKCJmb250LXNpemUiKSxpeD1pKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcJ1wiXFxdL2csIiIpLnJlcGxhY2UoLyxccysvZywiLCIpfSxWMSgiZm9udC1mYW1pbHkiKSksYXg9TnQuZWFjaCx1eD1OdC5tYXAsc3g9TnQuaW5BcnJheSxjeD0obHgucHJvdG90eXBlLmV4ZWNDb21tYW5kPWZ1bmN0aW9uKHQsbixyLGUpe3ZhciBvLGksYT0hMSx1PXRoaXM7aWYoIXUuZWRpdG9yLnJlbW92ZWQpe2lmKCJtY2Vmb2N1cyIhPT10LnRvTG93ZXJDYXNlKCkmJigvXihtY2VBZGRVbmRvTGV2ZWx8bWNlRW5kVW5kb0xldmVsfG1jZUJlZ2luVW5kb0xldmVsfG1jZVJlcGFpbnQpJC8udGVzdCh0KXx8ZSYmZS5za2lwX2ZvY3VzP21kKGk9dS5lZGl0b3IpLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGkuc2VsZWN0aW9uLnNldFJuZyhlKX0pOnUuZWRpdG9yLmZvY3VzKCkpLChlPXUuZWRpdG9yLmZpcmUoIkJlZm9yZUV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4hMTt2YXIgcz10LnRvTG93ZXJDYXNlKCk7aWYobz11LmNvbW1hbmRzLmV4ZWNbc10pcmV0dXJuIG8ocyxuLHIpLHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pLCEwO2lmKGF4KHRoaXMuZWRpdG9yLnBsdWdpbnMsZnVuY3Rpb24oZSl7aWYoZS5leGVjQ29tbWFuZCYmZS5leGVjQ29tbWFuZCh0LG4scikpcmV0dXJuIHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pLCEoYT0hMCl9KSxhKXJldHVybiBhO2lmKHUuZWRpdG9yLnRoZW1lJiZ1LmVkaXRvci50aGVtZS5leGVjQ29tbWFuZCYmdS5lZGl0b3IudGhlbWUuZXhlY0NvbW1hbmQodCxuLHIpKXJldHVybiB1LmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhMDt0cnl7YT11LmVkaXRvci5nZXREb2MoKS5leGVjQ29tbWFuZCh0LG4scil9Y2F0Y2goZSl7fXJldHVybiEhYSYmKHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pLCEwKX19LGx4LnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdGF0ZT1mdW5jdGlvbihlKXt2YXIgdDtpZighdGhpcy5lZGl0b3IucXVpcmtzLmlzSGlkZGVuKCkmJiF0aGlzLmVkaXRvci5yZW1vdmVkKXtpZihlPWUudG9Mb3dlckNhc2UoKSx0PXRoaXMuY29tbWFuZHMuc3RhdGVbZV0pcmV0dXJuIHQoZSk7dHJ5e3JldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdGF0ZShlKX1jYXRjaChlKXt9cmV0dXJuITF9fSxseC5wcm90b3R5cGUucXVlcnlDb21tYW5kVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIXRoaXMuZWRpdG9yLnF1aXJrcy5pc0hpZGRlbigpJiYhdGhpcy5lZGl0b3IucmVtb3ZlZCl7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD10aGlzLmNvbW1hbmRzLnZhbHVlW2VdKXJldHVybiB0KGUpO3RyeXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kVmFsdWUoZSl9Y2F0Y2goZSl7fX19LGx4LnByb3RvdHlwZS5hZGRDb21tYW5kcz1mdW5jdGlvbihlLG4pe3ZvaWQgMD09PW4mJihuPSJleGVjIik7dmFyIHI9dGhpcztheChlLGZ1bmN0aW9uKHQsZSl7YXgoZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7ci5jb21tYW5kc1tuXVtlXT10fSl9KX0sbHgucHJvdG90eXBlLmFkZENvbW1hbmQ9ZnVuY3Rpb24oZSxvLGkpe3ZhciBhPXRoaXM7ZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb21tYW5kcy5leGVjW2VdPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBvLmNhbGwoaXx8YS5lZGl0b3IsdCxuLHIpfX0sbHgucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZD1mdW5jdGlvbihlKXtpZihlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbW1hbmRzLmV4ZWNbZV0pcmV0dXJuITA7dHJ5e3JldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl9Y2F0Y2goZSl7fXJldHVybiExfSxseC5wcm90b3R5cGUuYWRkUXVlcnlTdGF0ZUhhbmRsZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7ZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb21tYW5kcy5zdGF0ZVtlXT1mdW5jdGlvbigpe3JldHVybiB0LmNhbGwobnx8ci5lZGl0b3IpfX0sbHgucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO2U9ZS50b0xvd2VyQ2FzZSgpLHRoaXMuY29tbWFuZHMudmFsdWVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKG58fHIuZWRpdG9yKX19LGx4LnByb3RvdHlwZS5oYXNDdXN0b21Db21tYW5kPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhIXRoaXMuY29tbWFuZHMuZXhlY1tlXX0sbHgucHJvdG90eXBlLmV4ZWNOYXRpdmVDb21tYW5kPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PW4mJihuPW51bGwpLHRoaXMuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKGUsdCxuKX0sbHgucHJvdG90eXBlLmlzRm9ybWF0TWF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yLmZvcm1hdHRlci5tYXRjaChlKX0sbHgucHJvdG90eXBlLnRvZ2dsZUZvcm1hdD1mdW5jdGlvbihlLHQpe3RoaXMuZWRpdG9yLmZvcm1hdHRlci50b2dnbGUoZSx0KSx0aGlzLmVkaXRvci5ub2RlQ2hhbmdlZCgpfSxseC5wcm90b3R5cGUuc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3Rpb25Cb29rbWFyaz10aGlzLmVkaXRvci5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoZSl9LGx4LnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5lZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKHRoaXMuc2VsZWN0aW9uQm9va21hcmspfSxseC5wcm90b3R5cGUuc2V0dXBDb21tYW5kcz1mdW5jdGlvbih1KXt2YXIgbz10aGlzO2Z1bmN0aW9uIGUocil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dS5zZWxlY3Rpb24sdD1lLmlzQ29sbGFwc2VkKCk/W3UuZG9tLmdldFBhcmVudChlLmdldE5vZGUoKSx1LmRvbS5pc0Jsb2NrKV06ZS5nZXRTZWxlY3RlZEJsb2NrcygpLG49dXgodCxmdW5jdGlvbihlKXtyZXR1cm4hIXUuZm9ybWF0dGVyLm1hdGNoTm9kZShlLHIpfSk7cmV0dXJuLTEhPT1zeChuLCEwKX19dGhpcy5hZGRDb21tYW5kcyh7Im1jZVJlc2V0RGVzaWduTW9kZSxtY2VCZWdpblVuZG9MZXZlbCI6dGUsIm1jZUVuZFVuZG9MZXZlbCxtY2VBZGRVbmRvTGV2ZWwiOmZ1bmN0aW9uKCl7dS51bmRvTWFuYWdlci5hZGQoKX0sbWNlRm9jdXM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87bz1uLChyPXUpLnJlbW92ZWR8fChvP3pkOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2VsZWN0aW9uLG49dC5nZXRCb2R5KCkscj1lLmdldFJuZygpO3QucXVpcmtzLnJlZnJlc2hDb250ZW50RWRpdGFibGUoKSx2b2lkIDAhPT10LmJvb2ttYXJrJiYhMT09PUNkKHQpJiZtZCh0KS5lYWNoKGZ1bmN0aW9uKGUpe3Quc2VsZWN0aW9uLnNldFJuZyhlKSxyPWV9KTt2YXIgbyxpLGE9KG89dCxpPWUuZ2V0Tm9kZSgpLG8uZG9tLmdldFBhcmVudChpLGZ1bmN0aW9uKGUpe3JldHVybiJ0cnVlIj09PW8uZG9tLmdldENvbnRlbnRFZGl0YWJsZShlKX0pKTtpZih0LiQuY29udGFpbnMobixhKSlyZXR1cm4geWQoYSksYmQodCxyKSx6ZCh0KTt0LmlubGluZXx8KHh0Lm9wZXJhfHx5ZChuKSx0LmdldFdpbigpLmZvY3VzKCkpLCh4dC5nZWNrb3x8dC5pbmxpbmUpJiYoeWQobiksYmQodCxyKSksemQodCl9KShyKX0sIkN1dCxDb3B5LFBhc3RlIjpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dS5nZXREb2MoKTt0cnl7by5leGVjTmF0aXZlQ29tbWFuZChlKX1jYXRjaChlKXt0PSEwfSEodD0icGFzdGUiPT09ZSYmIXIucXVlcnlDb21tYW5kRW5hYmxlZChlKXx8dCkmJnIucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpfHwobj11LnRyYW5zbGF0ZSgiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBkaXJlY3QgYWNjZXNzIHRvIHRoZSBjbGlwYm9hcmQuIFBsZWFzZSB1c2UgdGhlIEN0cmwrWC9DL1Yga2V5Ym9hcmQgc2hvcnRjdXRzIGluc3RlYWQuIikseHQubWFjJiYobj1uLnJlcGxhY2UoL0N0cmxcKy9nLCJcdTIzMTgrIikpLHUubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0Om4sdHlwZToiZXJyb3IifSkpfSx1bmxpbms6ZnVuY3Rpb24oKXt2YXIgZTt1LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpPyhlPXUuZG9tLmdldFBhcmVudCh1LnNlbGVjdGlvbi5nZXRTdGFydCgpLCJhIikpJiZ1LmRvbS5yZW1vdmUoZSwhMCk6dS5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIil9LCJKdXN0aWZ5TGVmdCxKdXN0aWZ5Q2VudGVyLEp1c3RpZnlSaWdodCxKdXN0aWZ5RnVsbCxKdXN0aWZ5Tm9uZSI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHJpbmcoNyk7ImZ1bGwiPT09dCYmKHQ9Imp1c3RpZnkiKSxheCgibGVmdCxjZW50ZXIscmlnaHQsanVzdGlmeSIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt0IT09ZSYmdS5mb3JtYXR0ZXIucmVtb3ZlKCJhbGlnbiIrZSl9KSwibm9uZSIhPT10JiZvLnRvZ2dsZUZvcm1hdCgiYWxpZ24iK3QpfSwiSW5zZXJ0VW5vcmRlcmVkTGlzdCxJbnNlcnRPcmRlcmVkTGlzdCI6ZnVuY3Rpb24oZSl7dmFyIHQ7by5leGVjTmF0aXZlQ29tbWFuZChlKTt2YXIgbj11LmRvbS5nZXRQYXJlbnQodS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJvbCx1bCIpO24mJih0PW4ucGFyZW50Tm9kZSwvXihIWzEtNl18UHxBRERSRVNTfFBSRSkkLy50ZXN0KHQubm9kZU5hbWUpJiYoby5zdG9yZVNlbGVjdGlvbigpLHUuZG9tLnNwbGl0KHQsbiksby5yZXN0b3JlU2VsZWN0aW9uKCkpKX0sIkJvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCI6ZnVuY3Rpb24oZSl7by50b2dnbGVGb3JtYXQoZSl9LCJGb3JlQ29sb3IsSGlsaXRlQ29sb3IiOmZ1bmN0aW9uKGUsdCxuKXtvLnRvZ2dsZUZvcm1hdChlLHt2YWx1ZTpufSl9LEZvbnROYW1lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO289VzEocj11LG4pLHIuZm9ybWF0dGVyLnRvZ2dsZSgiZm9udG5hbWUiLHt2YWx1ZTpBKG8uc3BsaXQoL1xzKixccyovKSxmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiICIpfHxHZShlLCciJyl8fEdlKGUsIiciKT9lOiInIitlKyInIn0pLmpvaW4oIiwiKX0pLHIubm9kZUNoYW5nZWQoKX0sRm9udFNpemU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByOyhyPXUpLmZvcm1hdHRlci50b2dnbGUoImZvbnRzaXplIix7dmFsdWU6VzEocixuKX0pLHIubm9kZUNoYW5nZWQoKX0sTGluZUhlaWdodDpmdW5jdGlvbihlLHQsbil7dmFyIHI7KHI9dSkuZm9ybWF0dGVyLnRvZ2dsZSgibGluZWhlaWdodCIse3ZhbHVlOlN0cmluZyhuKX0pLHIubm9kZUNoYW5nZWQoKX0sTGFuZzpmdW5jdGlvbihlLHQsbil7by50b2dnbGVGb3JtYXQoZSx7dmFsdWU6bi5jb2RlLGN1c3RvbVZhbHVlOm4uY3VzdG9tQ29kZX0pfSxSZW1vdmVGb3JtYXQ6ZnVuY3Rpb24oZSl7dS5mb3JtYXR0ZXIucmVtb3ZlKGUpfSxtY2VCbG9ja1F1b3RlOmZ1bmN0aW9uKCl7by50b2dnbGVGb3JtYXQoImJsb2NrcXVvdGUiKX0sRm9ybWF0QmxvY2s6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvLnRvZ2dsZUZvcm1hdChufHwicCIpfSxtY2VDbGVhbnVwOmZ1bmN0aW9uKCl7dmFyIGU9dS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTt1LnNldENvbnRlbnQodS5nZXRDb250ZW50KCkpLHUuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKGUpfSxtY2VSZW1vdmVOb2RlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1ufHx1LnNlbGVjdGlvbi5nZXROb2RlKCk7ciE9PXUuZ2V0Qm9keSgpJiYoby5zdG9yZVNlbGVjdGlvbigpLHUuZG9tLnJlbW92ZShyLCEwKSxvLnJlc3RvcmVTZWxlY3Rpb24oKSl9LG1jZVNlbGVjdE5vZGVEZXB0aDpmdW5jdGlvbihlLHQsbil7dmFyIHI9MDt1LmRvbS5nZXRQYXJlbnQodS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLGZ1bmN0aW9uKGUpe2lmKDE9PT1lLm5vZGVUeXBlJiZyKys9PT1uKXJldHVybiB1LnNlbGVjdGlvbi5zZWxlY3QoZSksITF9LHUuZ2V0Qm9keSgpKX0sbWNlU2VsZWN0Tm9kZTpmdW5jdGlvbihlLHQsbil7dS5zZWxlY3Rpb24uc2VsZWN0KG4pfSxtY2VJbnNlcnRDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtyPXUsbz1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJue2NvbnRlbnQ6ZSxkZXRhaWxzOnt9fTt2YXIgdD1OdC5leHRlbmQoe3Bhc3RlOmUucGFzdGUsZGF0YTp7cGFzdGU6ZS5wYXN0ZX19LGUpO3JldHVybntjb250ZW50OmUuY29udGVudCxkZXRhaWxzOnR9fShuKSxpPW8uY29udGVudCxhPW8uZGV0YWlscyxiaChyKS5lZGl0b3IuaW5zZXJ0Q29udGVudChpLGEpfSxtY2VJbnNlcnRSYXdIVE1MOmZ1bmN0aW9uKGUsdCxuKXt1LnNlbGVjdGlvbi5zZXRDb250ZW50KCJ0aW55X21jZV9tYXJrZXIiKTt2YXIgcj11LmdldENvbnRlbnQoKTt1LnNldENvbnRlbnQoci5yZXBsYWNlKC90aW55X21jZV9tYXJrZXIvZyxmdW5jdGlvbigpe3JldHVybiBufSkpfSxtY2VJbnNlcnROZXdMaW5lOmZ1bmN0aW9uKGUsdCxuKXtWQyh1LG4pfSxtY2VUb2dnbGVGb3JtYXQ6ZnVuY3Rpb24oZSx0LG4pe28udG9nZ2xlRm9ybWF0KG4pfSxtY2VTZXRDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXt1LnNldENvbnRlbnQobil9LCJJbmRlbnQsT3V0ZGVudCI6ZnVuY3Rpb24oZSl7STAodSxlKX0sbWNlUmVwYWludDp0ZSxJbnNlcnRIb3Jpem9udGFsUnVsZTpmdW5jdGlvbigpe3UuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLCI8aHIgLz4iKX0sbWNlVG9nZ2xlVmlzdWFsQWlkOmZ1bmN0aW9uKCl7dS5oYXNWaXN1YWw9IXUuaGFzVmlzdWFsLHUuYWRkVmlzdWFsKCl9LG1jZVJlcGxhY2VDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXt1LmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxuLnJlcGxhY2UoL1x7XCRzZWxlY3Rpb25cfS9nLHUuc2VsZWN0aW9uLmdldENvbnRlbnQoe2Zvcm1hdDoidGV4dCJ9KSkpfSxtY2VJbnNlcnRMaW5rOmZ1bmN0aW9uKGUsdCxuKXsic3RyaW5nIj09dHlwZW9mIG4mJihuPXtocmVmOm59KTt2YXIgcj11LmRvbS5nZXRQYXJlbnQodS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJhIik7bi5ocmVmPW4uaHJlZi5yZXBsYWNlKC8gL2csIiUyMCIpLHImJm4uaHJlZnx8dS5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIiksbi5ocmVmJiZ1LmZvcm1hdHRlci5hcHBseSgibGluayIsbixyKX0sc2VsZWN0QWxsOmZ1bmN0aW9uKCl7dmFyIGUsdD11LmRvbS5nZXRQYXJlbnQodS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxZbik7dCYmKChlPXUuZG9tLmNyZWF0ZVJuZygpKS5zZWxlY3ROb2RlQ29udGVudHModCksdS5zZWxlY3Rpb24uc2V0Um5nKGUpKX0sbWNlTmV3RG9jdW1lbnQ6ZnVuY3Rpb24oKXt1LnNldENvbnRlbnQoIiIpfSxJbnNlcnRMaW5lQnJlYWs6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBUQyh1LG4pLCEwfX0pLG8uYWRkQ29tbWFuZHMoe0p1c3RpZnlMZWZ0OmUoImFsaWdubGVmdCIpLEp1c3RpZnlDZW50ZXI6ZSgiYWxpZ25jZW50ZXIiKSxKdXN0aWZ5UmlnaHQ6ZSgiYWxpZ25yaWdodCIpLEp1c3RpZnlGdWxsOmUoImFsaWduanVzdGlmeSIpLCJCb2xkLEl0YWxpYyxVbmRlcmxpbmUsU3RyaWtldGhyb3VnaCxTdXBlcnNjcmlwdCxTdWJzY3JpcHQiOmZ1bmN0aW9uKGUpe3JldHVybiBvLmlzRm9ybWF0TWF0Y2goZSl9LG1jZUJsb2NrUXVvdGU6ZnVuY3Rpb24oKXtyZXR1cm4gby5pc0Zvcm1hdE1hdGNoKCJibG9ja3F1b3RlIil9LE91dGRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gUDAodSl9LCJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjpmdW5jdGlvbihlKXt2YXIgdD11LmRvbS5nZXRQYXJlbnQodS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCJ1bCxvbCIpO3JldHVybiB0JiYoImluc2VydHVub3JkZXJlZGxpc3QiPT09ZSYmIlVMIj09PXQudGFnTmFtZXx8Imluc2VydG9yZGVyZWRsaXN0Ij09PWUmJiJPTCI9PT10LnRhZ05hbWUpfX0sInN0YXRlIiksby5hZGRDb21tYW5kcyh7VW5kbzpmdW5jdGlvbigpe3UudW5kb01hbmFnZXIudW5kbygpfSxSZWRvOmZ1bmN0aW9uKCl7dS51bmRvTWFuYWdlci5yZWRvKCl9fSksby5hZGRRdWVyeVZhbHVlSGFuZGxlcigiRm9udE5hbWUiLGZ1bmN0aW9uKCl7cmV0dXJuICQxKHQ9dSxmdW5jdGlvbihlKXtyZXR1cm4gaXgodC5nZXRCb2R5KCksZS5kb20pfSkuZ2V0T3IoIiIpO3ZhciB0fSx0aGlzKSxvLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKCJGb250U2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gJDEodD11LGZ1bmN0aW9uKGUpe3JldHVybiBveCh0LmdldEJvZHkoKSxlLmRvbSl9KS5nZXRPcigiIik7dmFyIHR9LHRoaXMpLG8uYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkxpbmVIZWlnaHQiLGZ1bmN0aW9uKCl7cmV0dXJuICQxKHQ9dSxmdW5jdGlvbihuKXt2YXIgZT1FdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKTtyZXR1cm4gVGcobixmdW5jdGlvbihlKXtyZXR1cm4gU24oZSwibGluZS1oZWlnaHQiKX0sUihqZSxlKSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3ZhciBlPXBhcnNlRmxvYXQod24obiwibGluZS1oZWlnaHQiKSksdD1wYXJzZUZsb2F0KHduKG4sImZvbnQtc2l6ZSIpKTtyZXR1cm4gU3RyaW5nKGUvdCl9KX0pLmdldE9yKCIiKTt2YXIgdH0sdGhpcyl9LGx4KTtmdW5jdGlvbiBseChlKXt0aGlzLmNvbW1hbmRzPXtzdGF0ZTp7fSxleGVjOnt9LHZhbHVlOnt9fSx0aGlzLmVkaXRvcj1lLHRoaXMuc2V0dXBDb21tYW5kcyhlKX1mdW5jdGlvbiBmeChlLHQsbil7dmFyIHIsbyxpLGEsdSxzO2J1KGUsdCkmJiExPT09bj8obz10LGh1KHI9ZSk/ci5kb20uY2xhc3NMaXN0LnJlbW92ZShvKToodT1vLDA8KHM9VShwdShhPXIsImNsYXNzIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT11fSkpLmxlbmd0aD9wbihhLCJjbGFzcyIscy5qb2luKCIgIikpOkNuKGEsImNsYXNzIikpLDA9PT0oaHUoaT1yKT9pLmRvbS5jbGFzc0xpc3Q6cHUoaSwiY2xhc3MiKSkubGVuZ3RoJiZDbihpLCJjbGFzcyIpKTpuJiZ2dShlLHQpfWZ1bmN0aW9uIGR4KGUsdCxuKXt0cnl7ZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCExLFN0cmluZyhuKSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBteChlLHQpe2UuZG9tLmNvbnRlbnRFZGl0YWJsZT10PyJ0cnVlIjoiZmFsc2UifWZ1bmN0aW9uIGd4KGUsdCl7dmFyIG4scixvPUV0LmZyb21Eb20oZS5nZXRCb2R5KCkpO2Z4KG8sIm1jZS1jb250ZW50LXJlYWRvbmx5Iix0KSx0PyhlLnNlbGVjdGlvbi5jb250cm9sU2VsZWN0aW9uLmhpZGVSZXNpemVSZWN0KCksZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSx2ZS5mcm9tKGUuc2VsZWN0aW9uLmdldE5vZGUoKSkuZWFjaChmdW5jdGlvbihlKXtlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKX0pLG14KG8sIShlLnJlYWRvbmx5PSEwKSksWSh5dShvLCcqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJyksZnVuY3Rpb24oZSl7cG4oZSx2eCwidHJ1ZSIpLG14KGUsITEpfSkpOihteChvLCEoZS5yZWFkb25seT0hMSkpLFkoeXUobywiKlsiK3Z4Kyc9InRydWUiXScpLGZ1bmN0aW9uKGUpe0NuKGUsdngpLG14KGUsITApfSksZHgoZSwiU3R5bGVXaXRoQ1NTIiwhMSksZHgoZSwiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSksZHgoZSwiZW5hYmxlT2JqZWN0UmVzaXppbmciLCExKSwoQ2Qobj1lKXx8KHI9bixvZChQbihFdC5mcm9tRG9tKHIuZ2V0RWxlbWVudCgpKSkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hKHZvaWQgMCE9PSh0PWUuZG9tLmNsYXNzTGlzdCkmJih0LmNvbnRhaW5zKCJ0b3gtZWRpdC1hcmVhIil8fHQuY29udGFpbnMoInRveC1lZGl0LWFyZWFfX2lmcmFtZSIpfHx0LmNvbnRhaW5zKCJtY2UtY29udGVudC1ib2R5IikpKSYmcGQocixlLmRvbSk7dmFyIHR9KS5pc1NvbWUoKSkpJiZlLmZvY3VzKCksZS5zZWxlY3Rpb24uc2V0Um5nKGUuc2VsZWN0aW9uLmdldFJuZygpKSxlLm5vZGVDaGFuZ2VkKCkpfWZ1bmN0aW9uIHB4KGUpe3JldHVybiBlLnJlYWRvbmx5fWZ1bmN0aW9uIGh4KHQpe3QucGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcigiY29udGVudGVkaXRhYmxlIixmdW5jdGlvbihlKXtweCh0KSYmWShlLGZ1bmN0aW9uKGUpe2UuYXR0cih2eCxlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpKSxlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsImZhbHNlIil9KX0pLHQuc2VyaWFsaXplci5hZGRBdHRyaWJ1dGVGaWx0ZXIodngsZnVuY3Rpb24oZSl7cHgodCkmJlkoZSxmdW5jdGlvbihlKXtlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsZS5hdHRyKHZ4KSl9KX0pLHQuc2VyaWFsaXplci5hZGRUZW1wQXR0cih2eCl9dmFyIHZ4PSJkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUiLGJ4PU50Lm1ha2VNYXAoImZvY3VzIGJsdXIgZm9jdXNpbiBmb2N1c291dCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIGJlZm9yZXBhc3RlIHBhc3RlIGN1dCBjb3B5IHNlbGVjdGlvbmNoYW5nZSBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgd2hlZWwga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBpbnB1dCBiZWZvcmVpbnB1dCBjb250ZXh0bWVudSBkcmFnc3RhcnQgZHJhZ2VuZCBkcmFnb3ZlciBkcmFnZ2VzdHVyZSBkcmFnZHJvcCBkcm9wIGRyYWcgc3VibWl0IGNvbXBvc2l0aW9uc3RhcnQgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb251cGRhdGUgdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwiLCIgIikseXg9KEN4LmlzTmF0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiEhYnhbZS50b0xvd2VyQ2FzZSgpXX0sQ3gucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCkscj1zbyhuLHR8fHt9LHRoaXMuc2NvcGUpO3RoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZSYmdGhpcy5zZXR0aW5ncy5iZWZvcmVGaXJlKHIpO3ZhciBvPXRoaXMuYmluZGluZ3Nbbl07aWYobylmb3IodmFyIGk9MCxhPW8ubGVuZ3RoO2k8YTtpKyspe3ZhciB1PW9baV07aWYoIXUucmVtb3ZlZCl7aWYodS5vbmNlJiZ0aGlzLm9mZihuLHUuZnVuYyksci5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXJldHVybiByO2lmKCExPT09dS5mdW5jLmNhbGwodGhpcy5zY29wZSxyKSlyZXR1cm4gci5wcmV2ZW50RGVmYXVsdCgpLHJ9fXJldHVybiByfSxDeC5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LG4scil7aWYodD0hMT09PXQ/RDp0KXt2YXIgbz17ZnVuYzp0LHJlbW92ZWQ6ITF9O3ImJk50LmV4dGVuZChvLHIpO2Zvcih2YXIgaT1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSxhPWkubGVuZ3RoO2EtLTspe3ZhciB1PWlbYV0scz10aGlzLmJpbmRpbmdzW3VdO3N8fChzPVtdLHRoaXMudG9nZ2xlRXZlbnQodSwhMCkpLHM9bj9BZShbb10scywhMCk6QWUoQWUoW10scywhMCksW29dLCExKSx0aGlzLmJpbmRpbmdzW3VdPXN9fXJldHVybiB0aGlzfSxDeC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZihlKWZvcih2YXIgcj1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSxvPXIubGVuZ3RoO28tLTspe3ZhciBpLGE9cltvXSx1PXRoaXMuYmluZGluZ3NbYV07aWYoIWEpcmV0dXJuIG5lKHRoaXMuYmluZGluZ3MsZnVuY3Rpb24oZSx0KXtuLnRvZ2dsZUV2ZW50KHQsITEpLGRlbGV0ZSBuLmJpbmRpbmdzW3RdfSksdGhpczt1JiYodD8odT0oaT1CKHUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZnVuYz09PXR9KSkuZmFpbCx0aGlzLmJpbmRpbmdzW2FdPXUsWShpLnBhc3MsZnVuY3Rpb24oZSl7ZS5yZW1vdmVkPSEwfSkpOnUubGVuZ3RoPTAsdS5sZW5ndGh8fCh0aGlzLnRvZ2dsZUV2ZW50KGUsITEpLGRlbGV0ZSB0aGlzLmJpbmRpbmdzW2FdKSl9ZWxzZSBuZSh0aGlzLmJpbmRpbmdzLGZ1bmN0aW9uKGUsdCl7bi50b2dnbGVFdmVudCh0LCExKX0pLHRoaXMuYmluZGluZ3M9e307cmV0dXJuIHRoaXN9LEN4LnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbix7b25jZTohMH0pfSxDeC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhKCF0aGlzLmJpbmRpbmdzW2VdfHwwPT09dGhpcy5iaW5kaW5nc1tlXS5sZW5ndGgpfSxDeCk7ZnVuY3Rpb24gQ3goZSl7dGhpcy5iaW5kaW5ncz17fSx0aGlzLnNldHRpbmdzPWV8fHt9LHRoaXMuc2NvcGU9dGhpcy5zZXR0aW5ncy5zY29wZXx8dGhpcyx0aGlzLnRvZ2dsZUV2ZW50PXRoaXMuc2V0dGluZ3MudG9nZ2xlRXZlbnR8fER9ZnVuY3Rpb24geHgobil7cmV0dXJuIG4uX2V2ZW50RGlzcGF0Y2hlcnx8KG4uX2V2ZW50RGlzcGF0Y2hlcj1uZXcgeXgoe3Njb3BlOm4sdG9nZ2xlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt5eC5pc05hdGl2ZShlKSYmbi50b2dnbGVOYXRpdmVFdmVudCYmbi50b2dnbGVOYXRpdmVFdmVudChlLHQpfX0pKSxuLl9ldmVudERpc3BhdGNoZXJ9ZnVuY3Rpb24gd3goZSx0KXtpZigic2VsZWN0aW9uY2hhbmdlIj09PXQpcmV0dXJuIGUuZ2V0RG9jKCk7aWYoIWUuaW5saW5lJiYvXm1vdXNlfHRvdWNofGNsaWNrfGNvbnRleHRtZW51fGRyb3B8ZHJhZ292ZXJ8ZHJhZ2VuZC8udGVzdCh0KSlyZXR1cm4gZS5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQ7dmFyIG49THMoZSk7cmV0dXJuIG4/KGUuZXZlbnRSb290fHwoZS5ldmVudFJvb3Q9Unguc2VsZWN0KG4pWzBdKSxlLmV2ZW50Um9vdCk6ZS5nZXRCb2R5KCl9ZnVuY3Rpb24gU3goZSx0LG4pe3ZhciByLG8saSxhO2UuaGlkZGVufHxweChlKT9weChlKSYmKHI9ZSwiY2xpY2siIT09KG89bikudHlwZXx8SWYubWV0YUtleVByZXNzZWQobyl8fChpPUV0LmZyb21Eb20oby50YXJnZXQpLGE9cix5cihpLCJhIixmdW5jdGlvbihlKXtyZXR1cm4gamUoZSxFdC5mcm9tRG9tKGEuZ2V0Qm9keSgpKSl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBibihlLCJocmVmIil9KS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG47by5wcmV2ZW50RGVmYXVsdCgpLC9eIy8udGVzdChlKT8odD1yLmRvbS5zZWxlY3QoZSsnLFtuYW1lPSInKyhHZShuPWUsIiMiKT9uLnN1YnN0cmluZygiIyIubGVuZ3RoKTpuKSsnIl0nKSkubGVuZ3RoJiZyLnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyh0WzBdLCEwKTp3aW5kb3cub3BlbihlLCJfYmxhbmsiLCJyZWw9bm9vcGVuZXIgbm9yZWZlcnJlcixtZW51YmFyPXllcyx0b29sYmFyPXllcyxsb2NhdGlvbj15ZXMsc3RhdHVzPXllcyxyZXNpemFibGU9eWVzLHNjcm9sbGJhcnM9eWVzIil9KSkpOmUuZmlyZSh0LG4pfWZ1bmN0aW9uIE54KGksYSl7dmFyIGUsdDtpLmRlbGVnYXRlc3x8KGkuZGVsZWdhdGVzPXt9KSxpLmRlbGVnYXRlc1thXXx8aS5yZW1vdmVkfHwodD13eChpLGEpLExzKGkpPyhfeHx8KF94PXt9LGkuZWRpdG9yTWFuYWdlci5vbigicmVtb3ZlRWRpdG9yIixmdW5jdGlvbigpe2kuZWRpdG9yTWFuYWdlci5hY3RpdmVFZGl0b3J8fF94JiYobmUoX3gsZnVuY3Rpb24oZSx0KXtpLmRvbS51bmJpbmQod3goaSx0KSl9KSxfeD1udWxsKX0pKSxfeFthXXx8KF94W2FdPWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUudGFyZ2V0LG49aS5lZGl0b3JNYW5hZ2VyLmdldCgpLHI9bi5sZW5ndGg7ci0tOyl7dmFyIG89bltyXS5nZXRCb2R5KCk7byE9PXQmJiFSeC5pc0NoaWxkT2YodCxvKXx8U3gobltyXSxhLGUpfX0sUnguYmluZCh0LGEsZSkpKTooUnguYmluZCh0LGEsZT1mdW5jdGlvbihlKXtTeChpLGEsZSl9KSxpLmRlbGVnYXRlc1thXT1lKSl9ZnVuY3Rpb24gRXgoZSx0LG4scil7dmFyIG89blt0LmdldCgpXSxpPW5bcl07dHJ5e2kuYWN0aXZhdGUoKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJwcm9ibGVtIHdoaWxlIGFjdGl2YXRpbmcgZWRpdG9yIG1vZGUgIityKyI6IixlKX1vLmRlYWN0aXZhdGUoKSxvLmVkaXRvclJlYWRPbmx5IT09aS5lZGl0b3JSZWFkT25seSYmZ3goZSxpLmVkaXRvclJlYWRPbmx5KSx0LnNldChyKSxlLmZpcmUoIlN3aXRjaE1vZGUiLHttb2RlOnJ9KX1mdW5jdGlvbiBreChlKXt2YXIgdCxuPXt9O094KEJ4KGUudG9Mb3dlckNhc2UoKSwiKyIpLGZ1bmN0aW9uKGUpe2UgaW4gTHg/bltlXT0hMDovXlswLTldezIsfSQvLnRlc3QoZSk/bi5rZXlDb2RlPXBhcnNlSW50KGUsMTApOihuLmNoYXJDb2RlPWUuY2hhckNvZGVBdCgwKSxuLmtleUNvZGU9UHhbZV18fGUudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKX0pO3ZhciByPVtuLmtleUNvZGVdO2Zvcih0IGluIEx4KW5bdF0/ci5wdXNoKHQpOm5bdF09ITE7cmV0dXJuIG4uaWQ9ci5qb2luKCIsIiksbi5hY2Nlc3MmJihuLmFsdD0hMCx4dC5tYWM/bi5jdHJsPSEwOm4uc2hpZnQ9ITApLG4ubWV0YSYmKHh0Lm1hYz9uLm1ldGE9ITA6KG4uY3RybD0hMCxuLm1ldGE9ITEpKSxufXZhciBfeCxBeD17ZmlyZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5yZW1vdmVkJiYicmVtb3ZlIiE9PWUmJiJkZXRhY2giIT09ZSlyZXR1cm4gdDt2YXIgcj14eCh0aGlzKS5maXJlKGUsdCk7aWYoITEhPT1uJiZ0aGlzLnBhcmVudClmb3IodmFyIG89dGhpcy5wYXJlbnQoKTtvJiYhci5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylvLmZpcmUoZSxyLCExKSxvPW8ucGFyZW50KCk7cmV0dXJuIHJ9LG9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geHgodGhpcykub24oZSx0LG4pfSxvZmY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geHgodGhpcykub2ZmKGUsdCl9LG9uY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geHgodGhpcykub25jZShlLHQpfSxoYXNFdmVudExpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4geHgodGhpcykuaGFzKGUpfX0sUng9ZXUuRE9NLER4PV9lKF9lKHt9LEF4KSx7YmluZFBlbmRpbmdFdmVudERlbGVnYXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7TnQuZWFjaCh0Ll9wZW5kaW5nTmF0aXZlRXZlbnRzLGZ1bmN0aW9uKGUpe054KHQsZSl9KX0sdG9nZ2xlTmF0aXZlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzOyJmb2N1cyIhPT1lJiYiYmx1ciIhPT1lJiYobi5yZW1vdmVkfHwodD9uLmluaXRpYWxpemVkP054KG4sZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz9uLl9wZW5kaW5nTmF0aXZlRXZlbnRzLnB1c2goZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz1bZV06bi5pbml0aWFsaXplZCYmKG4uZG9tLnVuYmluZCh3eChuLGUpLGUsbi5kZWxlZ2F0ZXNbZV0pLGRlbGV0ZSBuLmRlbGVnYXRlc1tlXSkpKX0sdW5iaW5kQWxsTmF0aXZlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxlPW4uZ2V0Qm9keSgpLHQ9bi5kb207bi5kZWxlZ2F0ZXMmJihuZShuLmRlbGVnYXRlcyxmdW5jdGlvbihlLHQpe24uZG9tLnVuYmluZCh3eChuLHQpLHQsZSl9KSxkZWxldGUgbi5kZWxlZ2F0ZXMpLCFuLmlubGluZSYmZSYmdCYmKGUub25sb2FkPW51bGwsdC51bmJpbmQobi5nZXRXaW4oKSksdC51bmJpbmQobi5nZXREb2MoKSkpLHQmJih0LnVuYmluZChlKSx0LnVuYmluZChuLmdldENvbnRhaW5lcigpKSl9fSksVHg9WyJkZXNpZ24iLCJyZWFkb25seSJdLE94PU50LmVhY2gsQng9TnQuZXhwbG9kZSxQeD17ZjE6MTEyLGYyOjExMyxmMzoxMTQsZjQ6MTE1LGY1OjExNixmNjoxMTcsZjc6MTE4LGY4OjExOSxmOToxMjAsZjEwOjEyMSxmMTE6MTIyLGYxMjoxMjN9LEx4PU50Lm1ha2VNYXAoImFsdCxjdHJsLHNoaWZ0LG1ldGEsYWNjZXNzIiksSXg9KE14LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSxuLHQscil7dmFyIG89dGhpcyxpPW8ubm9ybWFsaXplQ29tbWFuZEZ1bmModCk7cmV0dXJuIE94KEJ4KE50LnRyaW0oZSkpLGZ1bmN0aW9uKGUpe3ZhciB0PW8uY3JlYXRlU2hvcnRjdXQoZSxuLGkscik7by5zaG9ydGN1dHNbdC5pZF09dH0pLCEwfSxNeC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3JlYXRlU2hvcnRjdXQoZSk7cmV0dXJuISF0aGlzLnNob3J0Y3V0c1t0LmlkXSYmKGRlbGV0ZSB0aGlzLnNob3J0Y3V0c1t0LmlkXSwhMCl9LE14LnByb3RvdHlwZS5ub3JtYWxpemVDb21tYW5kRnVuYz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/ZnVuY3Rpb24oKXt0LmVkaXRvci5leGVjQ29tbWFuZChuLCExLG51bGwpfTpOdC5pc0FycmF5KG4pP2Z1bmN0aW9uKCl7dC5lZGl0b3IuZXhlY0NvbW1hbmQoblswXSxuWzFdLG5bMl0pfTpufSxNeC5wcm90b3R5cGUuY3JlYXRlU2hvcnRjdXQ9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89TnQubWFwKEJ4KGUsIj4iKSxreCk7cmV0dXJuIG9bby5sZW5ndGgtMV09TnQuZXh0ZW5kKG9bby5sZW5ndGgtMV0se2Z1bmM6bixzY29wZTpyfHx0aGlzLmVkaXRvcn0pLE50LmV4dGVuZChvWzBdLHtkZXNjOnRoaXMuZWRpdG9yLnRyYW5zbGF0ZSh0KSxzdWJwYXR0ZXJuczpvLnNsaWNlKDEpfSl9LE14LnByb3RvdHlwZS5oYXNNb2RpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5fSxNeC5wcm90b3R5cGUuaXNGdW5jdGlvbktleT1mdW5jdGlvbihlKXtyZXR1cm4ia2V5ZG93biI9PT1lLnR5cGUmJjExMjw9ZS5rZXlDb2RlJiZlLmtleUNvZGU8PTEyM30sTXgucHJvdG90eXBlLm1hdGNoU2hvcnRjdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXQmJnQuY3RybD09PWUuY3RybEtleSYmdC5tZXRhPT09ZS5tZXRhS2V5JiZ0LmFsdD09PWUuYWx0S2V5JiZ0LnNoaWZ0PT09ZS5zaGlmdEtleSYmISEoZS5rZXlDb2RlPT09dC5rZXlDb2RlfHxlLmNoYXJDb2RlJiZlLmNoYXJDb2RlPT09dC5jaGFyQ29kZSkmJihlLnByZXZlbnREZWZhdWx0KCksITApfSxNeC5wcm90b3R5cGUuZXhlY3V0ZVNob3J0Y3V0QWN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZ1bmM/ZS5mdW5jLmNhbGwoZS5zY29wZSk6bnVsbH0sTXgpO2Z1bmN0aW9uIE14KGUpe3RoaXMuc2hvcnRjdXRzPXt9LHRoaXMucGVuZGluZ1BhdHRlcm5zPVtdLHRoaXMuZWRpdG9yPWU7dmFyIG49dGhpcztlLm9uKCJrZXl1cCBrZXlwcmVzcyBrZXlkb3duIixmdW5jdGlvbih0KXshbi5oYXNNb2RpZmllcih0KSYmIW4uaXNGdW5jdGlvbktleSh0KXx8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KE94KG4uc2hvcnRjdXRzLGZ1bmN0aW9uKGUpe2lmKG4ubWF0Y2hTaG9ydGN1dCh0LGUpKXJldHVybiBuLnBlbmRpbmdQYXR0ZXJucz1lLnN1YnBhdHRlcm5zLnNsaWNlKDApLCJrZXlkb3duIj09PXQudHlwZSYmbi5leGVjdXRlU2hvcnRjdXRBY3Rpb24oZSksITB9KSxuLm1hdGNoU2hvcnRjdXQodCxuLnBlbmRpbmdQYXR0ZXJuc1swXSkmJigxPT09bi5wZW5kaW5nUGF0dGVybnMubGVuZ3RoJiYia2V5ZG93biI9PT10LnR5cGUmJm4uZXhlY3V0ZVNob3J0Y3V0QWN0aW9uKG4ucGVuZGluZ1BhdHRlcm5zWzBdKSxuLnBlbmRpbmdQYXR0ZXJucy5zaGlmdCgpKSl9KX12YXIgRng9ZXUuRE9NLFV4PU50LmV4dGVuZCx6eD1OdC5lYWNoLEh4PU50LnJlc29sdmUsang9eHQuaWUsVng9KHF4LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXshZnVuY3Rpb24odCl7dmFyIGU9dC5pZDtsdS5zZXRDb2RlKFRzKHQpKTt2YXIgbixyLG8saSxhPWZ1bmN0aW9uKCl7bngudW5iaW5kKHdpbmRvdywicmVhZHkiLGEpLHQucmVuZGVyKCl9O2NpLkV2ZW50LmRvbUxvYWRlZD90LmdldEVsZW1lbnQoKSYmeHQuY29udGVudEVkaXRhYmxlJiYobj1FdC5mcm9tRG9tKHQuZ2V0RWxlbWVudCgpKSxyPUwobi5kb20uYXR0cmlidXRlcyxmdW5jdGlvbihlLHQpe3JldHVybiBlW3QubmFtZV09dC52YWx1ZSxlfSx7fSksdC5vbigicmVtb3ZlIixmdW5jdGlvbigpe08obi5kb20uYXR0cmlidXRlcyxmdW5jdGlvbihlKXtyZXR1cm4gQ24obixlLm5hbWUpLDB9KSxobihuLHIpfSksdC51aS5zdHlsZVNoZWV0TG9hZGVyPVJyLmZvckVsZW1lbnQobix7Y29udGVudENzc0NvcnM6KG89dCkuZ2V0UGFyYW0oImNvbnRlbnRfY3NzX2NvcnMiKSxyZWZlcnJlclBvbGljeTpEcyhvKX0pLHQuZ2V0UGFyYW0oImlubGluZSIpP3QuaW5saW5lPSEwOih0Lm9yZ1Zpc2liaWxpdHk9dC5nZXRFbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eSx0LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKSwoaT10LmdldEVsZW1lbnQoKS5mb3JtfHxueC5nZXRQYXJlbnQoZSwiZm9ybSIpKSYmKHQuZm9ybUVsZW1lbnQ9aSx0LmdldFBhcmFtKCJoaWRkZW5faW5wdXQiKSYmIWpuKHQuZ2V0RWxlbWVudCgpKSYmKG54Lmluc2VydEFmdGVyKG54LmNyZWF0ZSgiaW5wdXQiLHt0eXBlOiJoaWRkZW4iLG5hbWU6ZX0pLGUpLHQuaGFzSGlkZGVuSW5wdXQ9ITApLHQuZm9ybUV2ZW50RGVsZWdhdGU9ZnVuY3Rpb24oZSl7dC5maXJlKGUudHlwZSxlKX0sbnguYmluZChpLCJzdWJtaXQgcmVzZXQiLHQuZm9ybUV2ZW50RGVsZWdhdGUpLHQub24oInJlc2V0IixmdW5jdGlvbigpe3QucmVzZXRDb250ZW50KCl9KSwhdC5nZXRQYXJhbSgic3VibWl0X3BhdGNoIil8fGkuc3VibWl0Lm5vZGVUeXBlfHxpLnN1Ym1pdC5sZW5ndGh8fGkuX21jZU9sZFN1Ym1pdHx8KGkuX21jZU9sZFN1Ym1pdD1pLnN1Ym1pdCxpLnN1Ym1pdD1mdW5jdGlvbigpe3JldHVybiB0LmVkaXRvck1hbmFnZXIudHJpZ2dlclNhdmUoKSx0LnNldERpcnR5KCExKSxpLl9tY2VPbGRTdWJtaXQoaSl9KSksdC53aW5kb3dNYW5hZ2VyPUd2KHQpLHQubm90aWZpY2F0aW9uTWFuYWdlcj1Fdih0KSwieG1sIj09PXQuZ2V0UGFyYW0oImVuY29kaW5nIikmJnQub24oIkdldENvbnRlbnQiLGZ1bmN0aW9uKGUpe2Uuc2F2ZSYmKGUuY29udGVudD1ueC5lbmNvZGUoZS5jb250ZW50KSl9KSx0LmdldFBhcmFtKCJhZGRfZm9ybV9zdWJtaXRfdHJpZ2dlciIpJiZ0Lm9uKCJzdWJtaXQiLGZ1bmN0aW9uKCl7dC5pbml0aWFsaXplZCYmdC5zYXZlKCl9KSx0LmdldFBhcmFtKCJhZGRfdW5sb2FkX3RyaWdnZXIiKSYmKHQuX2JlZm9yZVVubG9hZD1mdW5jdGlvbigpeyF0LmluaXRpYWxpemVkfHx0LmRlc3Ryb3llZHx8dC5pc0hpZGRlbigpfHx0LnNhdmUoe2Zvcm1hdDoicmF3Iixub19ldmVudHM6ITAsc2V0X2RpcnR5OiExfSl9LHQuZWRpdG9yTWFuYWdlci5vbigiQmVmb3JlVW5sb2FkIix0Ll9iZWZvcmVVbmxvYWQpKSx0LmVkaXRvck1hbmFnZXIuYWRkKHQpLGoxKHQsdC5zdWZmaXgpKTpueC5iaW5kKHdpbmRvdywicmVhZHkiLGEpfSh0aGlzKX0scXgucHJvdG90eXBlLmZvY3VzPWZ1bmN0aW9uKGUpe3RoaXMuZXhlY0NvbW1hbmQoIm1jZUZvY3VzIiwhMSxlKX0scXgucHJvdG90eXBlLmhhc0ZvY3VzPWZ1bmN0aW9uKCl7cmV0dXJuIENkKHRoaXMpfSxxeC5wcm90b3R5cGUuZXhlY0NhbGxiYWNrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByLG89dGhpcy5zZXR0aW5nc1tlXTtpZihvKXJldHVybiB0aGlzLmNhbGxiYWNrTG9va3VwJiYocj10aGlzLmNhbGxiYWNrTG9va3VwW2VdKSYmKG89ci5mdW5jLHI9ci5zY29wZSksInN0cmluZyI9PXR5cGVvZiBvJiYocj0ocj1vLnJlcGxhY2UoL1wuXHcrJC8sIiIpKT9IeChyKTowLG89SHgobyksdGhpcy5jYWxsYmFja0xvb2t1cD10aGlzLmNhbGxiYWNrTG9va3VwfHx7fSx0aGlzLmNhbGxiYWNrTG9va3VwW2VdPXtmdW5jOm8sc2NvcGU6cn0pLG8uYXBwbHkocnx8dGhpcyx0KX0scXgucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbHUudHJhbnNsYXRlKGUpfSxxeC5wcm90b3R5cGUuZ2V0UGFyYW09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpPXQsYT1uLGw9KG89ZSlpbihyPXRoaXMpLnNldHRpbmdzP3Iuc2V0dGluZ3Nbb106aSwiaGFzaCI9PT1hPyhjPXt9LCJzdHJpbmciPT10eXBlb2Yocz1sKT9ZKDA8cy5pbmRleE9mKCI9Iik/cy5zcGxpdCgvWzssXSg/IVtePTssXSooPzpbOyxdfCQpKS8pOnMuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCI9Iik7MTx0Lmxlbmd0aD9jW050LnRyaW0odFswXSldPU50LnRyaW0odFsxXSk6Y1tOdC50cmltKHRbMF0pXT1OdC50cmltKHRbMF0pfSk6Yz1zLGMpOiJzdHJpbmciPT09YT94dihYLHIsbykuZ2V0T3IoaSk6Im51bWJlciI9PT1hP3h2KE4scixvKS5nZXRPcihpKToiYm9vbGVhbiI9PT1hP3h2KHYscixvKS5nZXRPcihpKToib2JqZWN0Ij09PWE/eHYoaCxyLG8pLmdldE9yKGkpOiJhcnJheSI9PT1hP3h2KFMscixvKS5nZXRPcihpKToic3RyaW5nW10iPT09YT94digodT1YLGZ1bmN0aW9uKGUpe3JldHVybiBTKGUpJiZqKGUsdSl9KSxyLG8pLmdldE9yKGkpOiJmdW5jdGlvbiI9PT1hP3h2KHkscixvKS5nZXRPcihpKTpsO3ZhciByLG8saSxhLHUscyxjLGx9LHF4LnByb3RvdHlwZS5oYXNQbHVnaW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFUKEZzKHRoaXMpLnNwbGl0KC9bICxdLyksZSl8fHQmJnZvaWQgMD09PVh2LmdldChlKSl9LHF4LnByb3RvdHlwZS5ub2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt0aGlzLl9ub2RlQ2hhbmdlRGlzcGF0Y2hlci5ub2RlQ2hhbmdlZChlKX0scXgucHJvdG90eXBlLmFkZENvbW1hbmQ9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZWRpdG9yQ29tbWFuZHMuYWRkQ29tbWFuZChlLHQsbil9LHF4LnByb3RvdHlwZS5hZGRRdWVyeVN0YXRlSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVN0YXRlSGFuZGxlcihlLHQsbil9LHF4LnByb3RvdHlwZS5hZGRRdWVyeVZhbHVlSGFuZGxlcj1mdW5jdGlvbihlLHQsbil7dGhpcy5lZGl0b3JDb21tYW5kcy5hZGRRdWVyeVZhbHVlSGFuZGxlcihlLHQsbil9LHF4LnByb3RvdHlwZS5hZGRTaG9ydGN1dD1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnNob3J0Y3V0cy5hZGQoZSx0LG4scil9LHF4LnByb3RvdHlwZS5leGVjQ29tbWFuZD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5leGVjQ29tbWFuZChlLHQsbixyKX0scXgucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpfSxxeC5wcm90b3R5cGUucXVlcnlDb21tYW5kVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kVmFsdWUoZSl9LHF4LnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpfSxxeC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuaGlkZGVuJiYodGhpcy5oaWRkZW49ITEsdGhpcy5pbmxpbmU/dGhpcy5nZXRCb2R5KCkuY29udGVudEVkaXRhYmxlPSJ0cnVlIjooRnguc2hvdyh0aGlzLmdldENvbnRhaW5lcigpKSxGeC5oaWRlKHRoaXMuaWQpKSx0aGlzLmxvYWQoKSx0aGlzLmZpcmUoInNob3ciKSl9LHF4LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuZ2V0RG9jKCk7ZS5oaWRkZW58fChqeCYmdCYmIWUuaW5saW5lJiZ0LmV4ZWNDb21tYW5kKCJTZWxlY3RBbGwiKSxlLnNhdmUoKSxlLmlubGluZT8oZS5nZXRCb2R5KCkuY29udGVudEVkaXRhYmxlPSJmYWxzZSIsZT09PWUuZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yJiYoZS5lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3I9bnVsbCkpOihGeC5oaWRlKGUuZ2V0Q29udGFpbmVyKCkpLEZ4LnNldFN0eWxlKGUuaWQsImRpc3BsYXkiLGUub3JnRGlzcGxheSkpLGUuaGlkZGVuPSEwLGUuZmlyZSgiaGlkZSIpKX0scXgucHJvdG90eXBlLmlzSGlkZGVuPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmhpZGRlbn0scXgucHJvdG90eXBlLnNldFByb2dyZXNzU3RhdGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmZpcmUoIlByb2dyZXNzU3RhdGUiLHtzdGF0ZTplLHRpbWU6dH0pfSxxeC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEVsZW1lbnQoKTtpZih0aGlzLnJlbW92ZWQpcmV0dXJuIiI7aWYodCl7KGU9ZXx8e30pLmxvYWQ9ITA7dmFyIG49am4odCk/dC52YWx1ZTp0LmlubmVySFRNTCxyPXRoaXMuc2V0Q29udGVudChuLGUpO3JldHVybiBlLmVsZW1lbnQ9dCxlLm5vX2V2ZW50c3x8dGhpcy5maXJlKCJMb2FkQ29udGVudCIsZSksZS5lbGVtZW50PXQ9bnVsbCxyfX0scXgucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMsbz1yLmdldEVsZW1lbnQoKTtpZihvJiZyLmluaXRpYWxpemVkJiYhci5yZW1vdmVkKXJldHVybihlPWV8fHt9KS5zYXZlPSEwLGUuZWxlbWVudD1vLGUuY29udGVudD1yLmdldENvbnRlbnQoZSksZS5ub19ldmVudHN8fHIuZmlyZSgiU2F2ZUNvbnRlbnQiLGUpLCJyYXciPT09ZS5mb3JtYXQmJnIuZmlyZSgiUmF3U2F2ZUNvbnRlbnQiLGUpLHQ9ZS5jb250ZW50LGpuKG8pP28udmFsdWU9dDooIWUuaXNfcmVtb3ZpbmcmJnIuaW5saW5lfHwoby5pbm5lckhUTUw9dCksKG49RnguZ2V0UGFyZW50KHIuaWQsImZvcm0iKSkmJnp4KG4uZWxlbWVudHMsZnVuY3Rpb24oZSl7aWYoZS5uYW1lPT09ci5pZClyZXR1cm4gZS52YWx1ZT10LCExfSkpLGUuZWxlbWVudD1vPW51bGwsITEhPT1lLnNldF9kaXJ0eSYmci5zZXREaXJ0eSghMSksdH0scXgucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbXYodGhpcyxlLHQpfSxxeC5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbihlKXtyZXR1cm4gdD10aGlzLHI9KG49dm9pZCAwPT09KG49ZSk/e306bikuZm9ybWF0fHwiaHRtbCIsbz1uLGJoKHQpLmVkaXRvci5nZXRDb250ZW50KG8scik7dmFyIHQsbixyLG99LHF4LnByb3RvdHlwZS5pbnNlcnRDb250ZW50PWZ1bmN0aW9uKGUsdCl7dCYmKGU9VXgoe2NvbnRlbnQ6ZX0sdCkpLHRoaXMuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLGUpfSxxeC5wcm90b3R5cGUucmVzZXRDb250ZW50PWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWU/bXYodGhpcyx0aGlzLnN0YXJ0Q29udGVudCx7Zm9ybWF0OiJyYXcifSk6bXYodGhpcyxlKSx0aGlzLnVuZG9NYW5hZ2VyLnJlc2V0KCksdGhpcy5zZXREaXJ0eSghMSksdGhpcy5ub2RlQ2hhbmdlZCgpfSxxeC5wcm90b3R5cGUuaXNEaXJ0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTm90RGlydHl9LHF4LnByb3RvdHlwZS5zZXREaXJ0eT1mdW5jdGlvbihlKXt2YXIgdD0hdGhpcy5pc05vdERpcnR5O3RoaXMuaXNOb3REaXJ0eT0hZSxlJiZlIT09dCYmdGhpcy5maXJlKCJkaXJ0eSIpfSxxeC5wcm90b3R5cGUuZ2V0Q29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyfHwodGhpcy5jb250YWluZXI9RnguZ2V0KHRoaXMuZWRpdG9yQ29udGFpbmVyfHx0aGlzLmlkKyJfcGFyZW50IikpLHRoaXMuY29udGFpbmVyfSxxeC5wcm90b3R5cGUuZ2V0Q29udGVudEFyZWFDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZW50QXJlYUNvbnRhaW5lcn0scXgucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXRFbG18fCh0aGlzLnRhcmdldEVsbT1GeC5nZXQodGhpcy5pZCkpLHRoaXMudGFyZ2V0RWxtfSxxeC5wcm90b3R5cGUuZ2V0V2luPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuY29udGVudFdpbmRvd3x8KGU9dGhpcy5pZnJhbWVFbGVtZW50KSYmKHRoaXMuY29udGVudFdpbmRvdz1lLmNvbnRlbnRXaW5kb3cpLHRoaXMuY29udGVudFdpbmRvd30scXgucHJvdG90eXBlLmdldERvYz1mdW5jdGlvbigpe3ZhciBlO3JldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudHx8KGU9dGhpcy5nZXRXaW4oKSkmJih0aGlzLmNvbnRlbnREb2N1bWVudD1lLmRvY3VtZW50KSx0aGlzLmNvbnRlbnREb2N1bWVudH0scXgucHJvdG90eXBlLmdldEJvZHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldERvYygpO3JldHVybiB0aGlzLmJvZHlFbGVtZW50fHwoZT9lLmJvZHk6bnVsbCl9LHF4LnByb3RvdHlwZS5jb252ZXJ0VVJMPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNldHRpbmdzO3JldHVybiByLnVybGNvbnZlcnRlcl9jYWxsYmFjaz90aGlzLmV4ZWNDYWxsYmFjaygidXJsY29udmVydGVyX2NhbGxiYWNrIixlLG4sITAsdCk6IXIuY29udmVydF91cmxzfHxuJiYiTElOSyI9PT1uLm5vZGVOYW1lfHwwPT09ZS5pbmRleE9mKCJmaWxlOiIpfHwwPT09ZS5sZW5ndGg/ZTpyLnJlbGF0aXZlX3VybHM/dGhpcy5kb2N1bWVudEJhc2VVUkkudG9SZWxhdGl2ZShlKTp0aGlzLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGUsci5yZW1vdmVfc2NyaXB0X2hvc3QpfSxxeC5wcm90b3R5cGUuYWRkVmlzdWFsPWZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSx5aCh0aGlzKS5lZGl0b3IuYWRkVmlzdWFsKHQpfSxxeC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbzsoZT10aGlzKS5yZW1vdmVkfHwodD1lLl9zZWxlY3Rpb25PdmVycmlkZXMsbj1lLmVkaXRvclVwbG9hZCxyPWUuZ2V0Qm9keSgpLG89ZS5nZXRFbGVtZW50KCksciYmZS5zYXZlKHtpc19yZW1vdmluZzohMH0pLGUucmVtb3ZlZD0hMCxlLnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpLGUuaGFzSGlkZGVuSW5wdXQmJm8mJk92LnJlbW92ZShvLm5leHRTaWJsaW5nKSxlLmZpcmUoInJlbW92ZSIpLGUuZWRpdG9yTWFuYWdlci5yZW1vdmUoZSksIWUuaW5saW5lJiZyJiZPdi5zZXRTdHlsZShlLmlkLCJkaXNwbGF5IixlLm9yZ0Rpc3BsYXkpLGUuZmlyZSgiZGV0YWNoIiksT3YucmVtb3ZlKGUuZ2V0Q29udGFpbmVyKCkpLGd2KHQpLGd2KG4pLGUuZGVzdHJveSgpKX0scXgucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHU7bj1lLGE9KHQ9dGhpcykuc2VsZWN0aW9uLHU9dC5kb20sdC5kZXN0cm95ZWR8fChufHx0LnJlbW92ZWQ/KG58fCh0LmVkaXRvck1hbmFnZXIub2ZmKCJiZWZvcmV1bmxvYWQiLHQuX2JlZm9yZVVubG9hZCksdC50aGVtZSYmdC50aGVtZS5kZXN0cm95JiZ0LnRoZW1lLmRlc3Ryb3koKSxndihhKSxndih1KSksKG89KHI9dCkuZm9ybUVsZW1lbnQpJiYoby5fbWNlT2xkU3VibWl0JiYoby5zdWJtaXQ9by5fbWNlT2xkU3VibWl0LG8uX21jZU9sZFN1Ym1pdD1udWxsKSxPdi51bmJpbmQobywic3VibWl0IHJlc2V0IixyLmZvcm1FdmVudERlbGVnYXRlKSksKGk9dCkuY29udGVudEFyZWFDb250YWluZXI9aS5mb3JtRWxlbWVudD1pLmNvbnRhaW5lcj1pLmVkaXRvckNvbnRhaW5lcj1udWxsLGkuYm9keUVsZW1lbnQ9aS5jb250ZW50RG9jdW1lbnQ9aS5jb250ZW50V2luZG93PW51bGwsaS5pZnJhbWVFbGVtZW50PWkudGFyZ2V0RWxtPW51bGwsaS5zZWxlY3Rpb24mJihpLnNlbGVjdGlvbj1pLnNlbGVjdGlvbi53aW49aS5zZWxlY3Rpb24uZG9tPWkuc2VsZWN0aW9uLmRvbS5kb2M9bnVsbCksdC5kZXN0cm95ZWQ9ITApOnQucmVtb3ZlKCkpfSxxeC5wcm90b3R5cGUudXBsb2FkSW1hZ2VzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC51cGxvYWRJbWFnZXMoZSl9LHF4LnByb3RvdHlwZS5fc2NhbkZvckltYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvclVwbG9hZC5zY2FuRm9ySW1hZ2VzKCl9LHF4LnByb3RvdHlwZS5hZGRCdXR0b249ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRCdXR0b24gaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZEJ1dHRvbiBvciBlZGl0b3IudWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uIG9yIGVkaXRvci51aS5yZWdpc3RyeS5hZGRTcGxpdEJ1dHRvbiBpbnN0ZWFkIil9LHF4LnByb3RvdHlwZS5hZGRTaWRlYmFyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkU2lkZWJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkU2lkZWJhciBpbnN0ZWFkIil9LHF4LnByb3RvdHlwZS5hZGRNZW51SXRlbT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZE1lbnVJdGVtIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRNZW51SXRlbSBpbnN0ZWFkIil9LHF4LnByb3RvdHlwZS5hZGRDb250ZXh0VG9vbGJhcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZENvbnRleHRUb29sYmFyIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRDb250ZXh0VG9vbGJhciBpbnN0ZWFkIil9LHF4KTtmdW5jdGlvbiBxeChlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxnLHAsaCx2LGIseSxDLHg9dGhpcztmdW5jdGlvbiB3KG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5bZS50b0xvd2VyQ2FzZSgpXT1fZShfZSh7fSx0KSx7dHlwZTpyfSl9fXRoaXMucGx1Z2lucz17fSx0aGlzLmNvbnRlbnRDU1M9W10sdGhpcy5jb250ZW50U3R5bGVzPVtdLHRoaXMubG9hZGVkQ1NTPXt9LHRoaXMuaXNOb3REaXJ0eT0hMSx0aGlzLmVkaXRvck1hbmFnZXI9bix0aGlzLmRvY3VtZW50QmFzZVVybD1uLmRvY3VtZW50QmFzZVVSTCxVeCh0aGlzLER4KSx0aGlzLnNldHRpbmdzPShkPShmPXRoaXMpLmRvY3VtZW50QmFzZVVybCxtPW4uZGVmYXVsdFNldHRpbmdzLHA9ZCxoPUZ2LHY9ZixiPXtpZDplLHRoZW1lOiJzaWx2ZXIiLHRvb2xiYXJfbW9kZTpidihnPXQsImZsb2F0aW5nIikscGx1Z2luczoiIixkb2N1bWVudF9iYXNlX3VybDpwLGFkZF9mb3JtX3N1Ym1pdF90cmlnZ2VyOiEwLHN1Ym1pdF9wYXRjaDohMCxhZGRfdW5sb2FkX3RyaWdnZXI6ITAsY29udmVydF91cmxzOiEwLHJlbGF0aXZlX3VybHM6ITAscmVtb3ZlX3NjcmlwdF9ob3N0OiEwLG9iamVjdF9yZXNpemluZzohMCxkb2N0eXBlOiI8IURPQ1RZUEUgaHRtbD4iLHZpc3VhbDohMCxmb250X3NpemVfbGVnYWN5X3ZhbHVlczoieHgtc21hbGwsc21hbGwsbWVkaXVtLGxhcmdlLHgtbGFyZ2UseHgtbGFyZ2UsMzAwJSIsZm9yY2VkX3Jvb3RfYmxvY2s6InAiLGhpZGRlbl9pbnB1dDohMCxpbmxpbmVfc3R5bGVzOiEwLGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6ITAsaW5kZW50OiEwLGluZGVudF9iZWZvcmU6InAsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLHRmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QiLGluZGVudF9hZnRlcjoicCxoMSxoMixoMyxoNCxoNSxoNixibG9ja3F1b3RlLGRpdix0aXRsZSxzdHlsZSxwcmUsc2NyaXB0LHRkLHRoLHVsLG9sLGxpLGRsLGR0LGRkLGFyZWEsdGFibGUsdGhlYWQsdGZvb3QsdGJvZHksdHIsc2VjdGlvbixzdW1tYXJ5LGFydGljbGUsaGdyb3VwLGFzaWRlLGZpZ3VyZSxmaWdjYXB0aW9uLG9wdGlvbixvcHRncm91cCxkYXRhbGlzdCIsZW50aXR5X2VuY29kaW5nOiJuYW1lZCIsdXJsX2NvbnZlcnRlcjp2LmNvbnZlcnRVUkwsdXJsX2NvbnZlcnRlcl9zY29wZTp2fSx5PV9lKF9lKHt9LGIpLGg/anY6e30pLCExIT09KEM9Q3YoVXZ8fHp2LFV2LHksbSxnKSkuZGVwcmVjYXRpb25fd2FybmluZ3MmJnB2KGcsQyksQyksdGhpcy5zZXR0aW5ncy5zdWZmaXgmJihuLnN1ZmZpeD10aGlzLnNldHRpbmdzLnN1ZmZpeCksdGhpcy5zdWZmaXg9bi5zdWZmaXgsdGhpcy5zZXR0aW5ncy5iYXNlX3VybCYmbi5fc2V0QmFzZVVybCh0aGlzLnNldHRpbmdzLmJhc2VfdXJsKSx0aGlzLmJhc2VVcmk9bi5iYXNlVVJJLHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5JiYob3UuU2NyaXB0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSksZXUuRE9NLnN0eWxlU2hlZXRMb2FkZXIuX3NldFJlZmVycmVyUG9saWN5KHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5KSksZnUubGFuZ3VhZ2VMb2FkPXRoaXMuc2V0dGluZ3MubGFuZ3VhZ2VfbG9hZCxmdS5iYXNlVVJMPW4uYmFzZVVSTCx0aGlzLmlkPWUsdGhpcy5zZXREaXJ0eSghMSksdGhpcy5kb2N1bWVudEJhc2VVUkk9bmV3IG52KHRoaXMuc2V0dGluZ3MuZG9jdW1lbnRfYmFzZV91cmwse2Jhc2VfdXJpOnRoaXMuYmFzZVVyaX0pLHRoaXMuYmFzZVVSST10aGlzLmJhc2VVcmksdGhpcy5pbmxpbmU9ISF0aGlzLnNldHRpbmdzLmlubGluZSx0aGlzLnNob3J0Y3V0cz1uZXcgSXgodGhpcyksdGhpcy5lZGl0b3JDb21tYW5kcz1uZXcgY3godGhpcyksdGhpcy5zZXR0aW5ncy5jYWNoZV9zdWZmaXgmJih4dC5jYWNoZVN1ZmZpeD10aGlzLnNldHRpbmdzLmNhY2hlX3N1ZmZpeC5yZXBsYWNlKC9eW1w/XCZdKy8sIiIpKSx0aGlzLnVpPXtyZWdpc3RyeTp7YWRkQXV0b2NvbXBsZXRlcjoodT17fSwocj17YWRkQnV0dG9uOncobz17fSwiYnV0dG9uIiksYWRkR3JvdXBUb29sYmFyQnV0dG9uOncobywiZ3JvdXB0b29sYmFyYnV0dG9uIiksYWRkVG9nZ2xlQnV0dG9uOncobywidG9nZ2xlYnV0dG9uIiksYWRkTWVudUJ1dHRvbjp3KG8sIm1lbnVidXR0b24iKSxhZGRTcGxpdEJ1dHRvbjp3KG8sInNwbGl0YnV0dG9uIiksYWRkTWVudUl0ZW06dyhpPXt9LCJtZW51aXRlbSIpLGFkZE5lc3RlZE1lbnVJdGVtOncoaSwibmVzdGVkbWVudWl0ZW0iKSxhZGRUb2dnbGVNZW51SXRlbTp3KGksInRvZ2dsZW1lbnVpdGVtIiksYWRkQXV0b2NvbXBsZXRlcjp3KGE9e30sImF1dG9jb21wbGV0ZXIiKSxhZGRDb250ZXh0TWVudTp3KHM9e30sImNvbnRleHRtZW51IiksYWRkQ29udGV4dFRvb2xiYXI6dyhjPXt9LCJjb250ZXh0dG9vbGJhciIpLGFkZENvbnRleHRGb3JtOncoYywiY29udGV4dGZvcm0iKSxhZGRTaWRlYmFyOncobD17fSwic2lkZWJhciIpLGFkZEljb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdVtlLnRvTG93ZXJDYXNlKCldPXR9LGdldEFsbDpmdW5jdGlvbigpe3JldHVybntidXR0b25zOm8sbWVudUl0ZW1zOmksaWNvbnM6dSxwb3B1cHM6YSxjb250ZXh0TWVudXM6cyxjb250ZXh0VG9vbGJhcnM6YyxzaWRlYmFyczpsfX19KS5hZGRBdXRvY29tcGxldGVyKSxhZGRCdXR0b246ci5hZGRCdXR0b24sYWRkQ29udGV4dEZvcm06ci5hZGRDb250ZXh0Rm9ybSxhZGRDb250ZXh0TWVudTpyLmFkZENvbnRleHRNZW51LGFkZENvbnRleHRUb29sYmFyOnIuYWRkQ29udGV4dFRvb2xiYXIsYWRkSWNvbjpyLmFkZEljb24sYWRkTWVudUJ1dHRvbjpyLmFkZE1lbnVCdXR0b24sYWRkTWVudUl0ZW06ci5hZGRNZW51SXRlbSxhZGROZXN0ZWRNZW51SXRlbTpyLmFkZE5lc3RlZE1lbnVJdGVtLGFkZFNpZGViYXI6ci5hZGRTaWRlYmFyLGFkZFNwbGl0QnV0dG9uOnIuYWRkU3BsaXRCdXR0b24sYWRkVG9nZ2xlQnV0dG9uOnIuYWRkVG9nZ2xlQnV0dG9uLGFkZEdyb3VwVG9vbGJhckJ1dHRvbjpyLmFkZEdyb3VwVG9vbGJhckJ1dHRvbixhZGRUb2dnbGVNZW51SXRlbTpyLmFkZFRvZ2dsZU1lbnVJdGVtLGdldEFsbDpyLmdldEFsbH0sc3R5bGVTaGVldExvYWRlcjp2b2lkIDAsc2hvdzp0ZSxoaWRlOnRlLGVuYWJsZTp0ZSxkaXNhYmxlOnRlLGlzRGlzYWJsZWQ6RH07dmFyIFMsTixFLGssXyxBPShrPWF1KCJkZXNpZ24iKSxfPWF1KHtkZXNpZ246e2FjdGl2YXRlOnRlLGRlYWN0aXZhdGU6dGUsZWRpdG9yUmVhZE9ubHk6ITF9LHJlYWRvbmx5OnthY3RpdmF0ZTp0ZSxkZWFjdGl2YXRlOnRlLGVkaXRvclJlYWRPbmx5OiEwfX0pLChOPVM9dGhpcykuc2VyaWFsaXplcj9oeChOKTpOLm9uKCJQcmVJbml0IixmdW5jdGlvbigpe2h4KE4pfSksKEU9Uykub24oIlNob3dDYXJldCIsZnVuY3Rpb24oZSl7cHgoRSkmJmUucHJldmVudERlZmF1bHQoKX0pLEUub24oIk9iamVjdFNlbGVjdGVkIixmdW5jdGlvbihlKXtweChFKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSkse2lzUmVhZE9ubHk6ZnVuY3Rpb24oKXtyZXR1cm4gcHgoUyl9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7aWYociE9PW4uZ2V0KCkpe2lmKCFFZSh0LHIpKXRocm93IG5ldyBFcnJvcigiRWRpdG9yIG1vZGUgJyIrcisiJyBpcyBpbnZhbGlkIik7ZS5pbml0aWFsaXplZD9FeChlLG4sdCxyKTplLm9uKCJpbml0IixmdW5jdGlvbigpe3JldHVybiBFeChlLG4sdCxyKX0pfX0oUyxfLmdldCgpLGssZSl9LGdldDpmdW5jdGlvbigpe3JldHVybiBrLmdldCgpfSxyZWdpc3RlcjpmdW5jdGlvbihlLHQpe18uc2V0KGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihUKFR4LHQpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IG92ZXJyaWRlIGRlZmF1bHQgbW9kZSAiK3QpO3JldHVybiBfZShfZSh7fSxlKSwoKHI9e30pW3RdPV9lKF9lKHt9LG4pLHtkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dHJ5e24uZGVhY3RpdmF0ZSgpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgZGVhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIrdCsiOiIsZSl9fX0pLHIpKX0oXy5nZXQoKSxlLHQpKX19KTt0aGlzLm1vZGU9QSx0aGlzLnNldE1vZGU9QS5zZXQsbi5maXJlKCJTZXR1cEVkaXRvciIse2VkaXRvcjp0aGlzfSksdGhpcy5leGVjQ2FsbGJhY2soInNldHVwIix0aGlzKSx0aGlzLiQ9WWEub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbigpe3JldHVybntjb250ZXh0OnguaW5saW5lP3guZ2V0Qm9keSgpOnguZ2V0RG9jKCksZWxlbWVudDp4LmdldEJvZHkoKX19KX1mdW5jdGlvbiAkeCh0KXt2YXIgbj10LnR5cGU7Sngob3cuZ2V0KCksZnVuY3Rpb24oZSl7c3dpdGNoKG4pe2Nhc2Uic2Nyb2xsIjplLmZpcmUoIlNjcm9sbFdpbmRvdyIsdCk7YnJlYWs7Y2FzZSJyZXNpemUiOmUuZmlyZSgiUmVzaXplV2luZG93Iix0KX19KX1mdW5jdGlvbiBXeChlKXtlIT09ZXcmJihlP1lhKHdpbmRvdykub24oInJlc2l6ZSBzY3JvbGwiLCR4KTpZYSh3aW5kb3cpLm9mZigicmVzaXplIHNjcm9sbCIsJHgpLGV3PWUpfWZ1bmN0aW9uIEt4KHQpe3ZhciBlPW53O2RlbGV0ZSB0d1t0LmlkXTtmb3IodmFyIG49MDtuPHR3Lmxlbmd0aDtuKyspaWYodHdbbl09PT10KXt0dy5zcGxpY2UobiwxKTticmVha31yZXR1cm4gbnc9VShudyxmdW5jdGlvbihlKXtyZXR1cm4gdCE9PWV9KSxvdy5hY3RpdmVFZGl0b3I9PT10JiYob3cuYWN0aXZlRWRpdG9yPTA8bncubGVuZ3RoP253WzBdOm51bGwpLG93LmZvY3VzZWRFZGl0b3I9PT10JiYob3cuZm9jdXNlZEVkaXRvcj1udWxsKSxlLmxlbmd0aCE9PW53Lmxlbmd0aH12YXIgWHgsWXg9ZXUuRE9NLEd4PU50LmV4cGxvZGUsSng9TnQuZWFjaCxReD1OdC5leHRlbmQsWng9MCxldz0hMSx0dz1bXSxudz1bXSxydz0iQ1NTMUNvbXBhdCIhPT1kb2N1bWVudC5jb21wYXRNb2RlLG93PV9lKF9lKHt9LEF4KSx7YmFzZVVSSTpudWxsLGJhc2VVUkw6bnVsbCxkZWZhdWx0U2V0dGluZ3M6e30sZG9jdW1lbnRCYXNlVVJMOm51bGwsc3VmZml4Om51bGwsJDpZYSxtYWpvclZlcnNpb246IjUiLG1pbm9yVmVyc2lvbjoiMTAuOSIscmVsZWFzZURhdGU6IjIwMjMtMTEtMTUiLGVkaXRvcnM6dHcsaTE4bjpsdSxhY3RpdmVFZGl0b3I6bnVsbCxmb2N1c2VkRWRpdG9yOm51bGwsc2V0dGluZ3M6e30sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgZSx0PSIiLG49bnYuZ2V0RG9jdW1lbnRCYXNlVXJsKGRvY3VtZW50LmxvY2F0aW9uKTsvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdChuKSYmKG49bi5yZXBsYWNlKC9bXD8jXS4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCIiKSwvW1wvXFxdJC8udGVzdChuKXx8KG4rPSIvIikpO3ZhciByPXdpbmRvdy50aW55bWNlfHx3aW5kb3cudGlueU1DRVByZUluaXQ7aWYocillPXIuYmFzZXx8ci5iYXNlVVJMLHQ9ci5zdWZmaXg7ZWxzZXtmb3IodmFyIG8saT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksYT0wO2E8aS5sZW5ndGg7YSsrKWlmKCIiIT09KG89aVthXS5zcmN8fCIiKSl7dmFyIHU9by5zdWJzdHJpbmcoby5sYXN0SW5kZXhPZigiLyIpKTtpZigvdGlueW1jZShcLmZ1bGx8XC5qcXVlcnl8KShcLm1pbnxcLmRldnwpXC5qcy8udGVzdChvKSl7LTEhPT11LmluZGV4T2YoIi5taW4iKSYmKHQ9Ii5taW4iKSxlPW8uc3Vic3RyaW5nKDAsby5sYXN0SW5kZXhPZigiLyIpKTticmVha319IWUmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJigtMSE9PShvPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKS5pbmRleE9mKCIubWluIikmJih0PSIubWluIiksZT1vLnN1YnN0cmluZygwLG8ubGFzdEluZGV4T2YoIi8iKSkpfXRoaXMuYmFzZVVSTD1uZXcgbnYobikudG9BYnNvbHV0ZShlKSx0aGlzLmRvY3VtZW50QmFzZVVSTD1uLHRoaXMuYmFzZVVSST1uZXcgbnYodGhpcy5iYXNlVVJMKSx0aGlzLnN1ZmZpeD10LHRoaXMub24oIkFkZEVkaXRvciIsUihoZCx0aGlzKSksdGhpcy5vbigiUmVtb3ZlRWRpdG9yIixSKHZkLHRoaXMpKX0sb3ZlcnJpZGVEZWZhdWx0czpmdW5jdGlvbihlKXt2YXIgdD1lLmJhc2VfdXJsO3QmJnRoaXMuX3NldEJhc2VVcmwodCk7dmFyIG49ZS5zdWZmaXg7ZS5zdWZmaXgmJih0aGlzLnN1ZmZpeD1uKTt2YXIgcj0odGhpcy5kZWZhdWx0U2V0dGluZ3M9ZSkucGx1Z2luX2Jhc2VfdXJsczt2b2lkIDAhPT1yJiZuZShyLGZ1bmN0aW9uKGUsdCl7ZnUuUGx1Z2luTWFuYWdlci51cmxzW3RdPWV9KX0saW5pdDpmdW5jdGlvbihyKXtmdW5jdGlvbiB1KGUpe3ZhciB0PWUuaWQ7cmV0dXJuIHR8fCh0PXVlKGUsIm5hbWUiKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIVl4LmdldChlKX0pLmdldE9yVGh1bmsoWXgudW5pcXVlSWQpLGUuc2V0QXR0cmlidXRlKCJpZCIsdCkpLHR9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiB0LmNvbnN0cnVjdG9yPT09UmVnRXhwP3QudGVzdChlLmNsYXNzTmFtZSk6WXguaGFzQ2xhc3MoZSx0KX12YXIgbixjPXRoaXMsbD1OdC5tYWtlTWFwKCJhcmVhIGJhc2UgYmFzZWZvbnQgYnIgY29sIGZyYW1lIGhyIGltZyBpbnB1dCBpc2luZGV4IGxpbmsgbWV0YSBwYXJhbSBlbWJlZCBzb3VyY2Ugd2JyIHRyYWNrIGNvbGdyb3VwIG9wdGlvbiB0YWJsZSB0Ym9keSB0Zm9vdCB0aGVhZCB0ciB0aCB0ZCBzY3JpcHQgbm9zY3JpcHQgc3R5bGUgdGV4dGFyZWEgdmlkZW8gYXVkaW8gaWZyYW1lIG9iamVjdCBtZW51IiwiICIpLGY9ZnVuY3Rpb24oZSl7bj1lfSx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlLHQsbil7dmFyIHI9bmV3IFZ4KGUsdCxjKTthLnB1c2gociksci5vbigiaW5pdCIsZnVuY3Rpb24oKXsrK2k9PT1vLmxlbmd0aCYmZihhKX0pLHIudGFyZ2V0RWxtPXIudGFyZ2V0RWxtfHxuLHIucmVuZGVyKCl9dmFyIG8sZSxpPTAsYT1bXTtZeC51bmJpbmQod2luZG93LCJyZWFkeSIsdCksKGU9ci5vbnBhZ2Vsb2FkKSYmZS5hcHBseShjLFtdKSxvPVlhLnVuaXF1ZShmdW5jdGlvbih0KXt2YXIgbj1bXTtpZih4dC5icm93c2VyLmlzSUUoKSYmeHQuYnJvd3Nlci52ZXJzaW9uLm1ham9yPDExKXJldHVybiB3eSgiVGlueU1DRSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBicm93c2VyIHlvdSBhcmUgdXNpbmcuIEZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzIHBsZWFzZSBzZWU6IGh0dHBzOi8vd3d3LnRpbnltY2UuY29tL2RvY3MvZ2V0LXN0YXJ0ZWQvc3lzdGVtLXJlcXVpcmVtZW50cy8iKSxbXTtpZihydylyZXR1cm4gd3koIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBlZGl0b3IgYXMgdGhlIGRvY3VtZW50IGlzIG5vdCBpbiBzdGFuZGFyZHMgbW9kZS4gVGlueU1DRSByZXF1aXJlcyBzdGFuZGFyZHMgbW9kZS4iKSxbXTtpZih0LnR5cGVzKXJldHVybiBKeCh0LnR5cGVzLGZ1bmN0aW9uKGUpe249bi5jb25jYXQoWXguc2VsZWN0KGUuc2VsZWN0b3IpKX0pLG47aWYodC5zZWxlY3RvcilyZXR1cm4gWXguc2VsZWN0KHQuc2VsZWN0b3IpO2lmKHQudGFyZ2V0KXJldHVyblt0LnRhcmdldF07c3dpdGNoKHQubW9kZSl7Y2FzZSJleGFjdCI6dmFyIGU9dC5lbGVtZW50c3x8IiI7MDxlLmxlbmd0aCYmSngoR3goZSksZnVuY3Rpb24odCl7dmFyIGU9WXguZ2V0KHQpO2U/bi5wdXNoKGUpOkp4KGRvY3VtZW50LmZvcm1zLGZ1bmN0aW9uKGUpe0p4KGUuZWxlbWVudHMsZnVuY3Rpb24oZSl7ZS5uYW1lPT09dCYmKHQ9Im1jZV9lZGl0b3JfIitaeCsrLFl4LnNldEF0dHJpYihlLCJpZCIsdCksbi5wdXNoKGUpKX0pfSl9KTticmVhaztjYXNlInRleHRhcmVhcyI6Y2FzZSJzcGVjaWZpY190ZXh0YXJlYXMiOkp4KFl4LnNlbGVjdCgidGV4dGFyZWEiKSxmdW5jdGlvbihlKXt0LmVkaXRvcl9kZXNlbGVjdG9yJiZzKGUsdC5lZGl0b3JfZGVzZWxlY3Rvcil8fHQuZWRpdG9yX3NlbGVjdG9yJiYhcyhlLHQuZWRpdG9yX3NlbGVjdG9yKXx8bi5wdXNoKGUpfSl9cmV0dXJuIG59KHIpKSxyLnR5cGVzP0p4KHIudHlwZXMsZnVuY3Rpb24odCl7TnQuZWFjaChvLGZ1bmN0aW9uKGUpe3JldHVybiFZeC5pcyhlLHQuc2VsZWN0b3IpfHwobih1KGUpLFF4KHt9LHIsdCksZSksITEpfSl9KTooTnQuZWFjaChvLGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PWMuZ2V0KGUuaWQpKSYmdC5pbml0aWFsaXplZCYmISh0LmdldENvbnRhaW5lcigpfHx0LmdldEJvZHkoKSkucGFyZW50Tm9kZSYmKEt4KHQpLHQudW5iaW5kQWxsTmF0aXZlRXZlbnRzKCksdC5kZXN0cm95KCEwKSx0LnJlbW92ZWQ9ITApfSksMD09PShvPU50LmdyZXAobyxmdW5jdGlvbihlKXtyZXR1cm4hYy5nZXQoZS5pZCl9KSkubGVuZ3RoP2YoW10pOkp4KG8sZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyLmlubGluZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKClpbiBsP3d5KCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBpbmxpbmUgZWRpdG9yIG9uIGludmFsaWQgaW5saW5lIHRhcmdldCBlbGVtZW50IixlKTpuKHUoZSkscixlKX0pKX07cmV0dXJuIGMuc2V0dGluZ3M9cixZeC5iaW5kKHdpbmRvdywicmVhZHkiLHQpLG5ldyBfcihmdW5jdGlvbih0KXtuP3Qobik6Zj1mdW5jdGlvbihlKXt0KGUpfX0pfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP253LnNsaWNlKDApOlgodCk/TShudyxmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXR9KS5nZXRPcihudWxsKTpOKHQpJiZud1t0XXx8bnVsbH0sYWRkOmZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIHR3W2UuaWRdPT09ZXx8KG51bGw9PT1uLmdldChlLmlkKSYmKCJsZW5ndGgiIT09ZS5pZCYmKHR3W2UuaWRdPWUpLHR3LnB1c2goZSksbncucHVzaChlKSksV3goITApLG4uYWN0aXZlRWRpdG9yPWUsbi5maXJlKCJBZGRFZGl0b3IiLHtlZGl0b3I6ZX0pLFh4fHwoWHg9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5maXJlKCJCZWZvcmVVbmxvYWQiKTtpZih0LnJldHVyblZhbHVlKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5yZXR1cm5WYWx1ZT10LnJldHVyblZhbHVlLHQucmV0dXJuVmFsdWV9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLFh4KSkpLGV9LGNyZWF0ZUVkaXRvcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFkZChuZXcgVngoZSx0LHRoaXMpKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzO2lmKGUpe2lmKCFYKGUpKXJldHVybiBuPWUsbChyLmdldChuLmlkKSk/bnVsbDooS3gobikmJnIuZmlyZSgiUmVtb3ZlRWRpdG9yIix7ZWRpdG9yOm59KSwwPT09bncubGVuZ3RoJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIixYeCksbi5yZW1vdmUoKSxXeCgwPG53Lmxlbmd0aCksbik7SngoWXguc2VsZWN0KGUpLGZ1bmN0aW9uKGUpeyhuPXIuZ2V0KGUuaWQpKSYmci5yZW1vdmUobil9KX1lbHNlIGZvcih0PW53Lmxlbmd0aC0xOzA8PXQ7dC0tKXIucmVtb3ZlKG53W3RdKX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuZ2V0KG4pO3N3aXRjaChlKXtjYXNlIm1jZUFkZEVkaXRvciI6cmV0dXJuIHRoaXMuZ2V0KG4pfHxuZXcgVngobix0aGlzLnNldHRpbmdzLHRoaXMpLnJlbmRlcigpLCEwO2Nhc2UibWNlUmVtb3ZlRWRpdG9yIjpyZXR1cm4gciYmci5yZW1vdmUoKSwhMDtjYXNlIm1jZVRvZ2dsZUVkaXRvciI6cmV0dXJuIHI/ci5pc0hpZGRlbigpP3Iuc2hvdygpOnIuaGlkZSgpOnRoaXMuZXhlY0NvbW1hbmQoIm1jZUFkZEVkaXRvciIsITEsbiksITB9cmV0dXJuISF0aGlzLmFjdGl2ZUVkaXRvciYmdGhpcy5hY3RpdmVFZGl0b3IuZXhlY0NvbW1hbmQoZSx0LG4pfSx0cmlnZ2VyU2F2ZTpmdW5jdGlvbigpe0p4KG53LGZ1bmN0aW9uKGUpe2Uuc2F2ZSgpfSl9LGFkZEkxOG46ZnVuY3Rpb24oZSx0KXtsdS5hZGQoZSx0KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBsdS50cmFuc2xhdGUoZSl9LHNldEFjdGl2ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFjdGl2ZUVkaXRvcjt0aGlzLmFjdGl2ZUVkaXRvciE9PWUmJih0JiZ0LmZpcmUoImRlYWN0aXZhdGUiLHtyZWxhdGVkVGFyZ2V0OmV9KSxlLmZpcmUoImFjdGl2YXRlIix7cmVsYXRlZFRhcmdldDp0fSkpLHRoaXMuYWN0aXZlRWRpdG9yPWV9LF9zZXRCYXNlVXJsOmZ1bmN0aW9uKGUpe3RoaXMuYmFzZVVSTD1uZXcgbnYodGhpcy5kb2N1bWVudEJhc2VVUkwpLnRvQWJzb2x1dGUoZS5yZXBsYWNlKC9cLyskLywiIikpLHRoaXMuYmFzZVVSST1uZXcgbnYodGhpcy5iYXNlVVJMKX19KTtmdW5jdGlvbiBpdyhlLHQsbil7dmFyIHI9dC54LG89dC55LGk9ZS53LGE9ZS5oLHU9dC53LHM9dC5oLGM9KG58fCIiKS5zcGxpdCgiIik7cmV0dXJuImIiPT09Y1swXSYmKG8rPXMpLCJyIj09PWNbMV0mJihyKz11KSwiYyI9PT1jWzBdJiYobys9Z3cocy8yKSksImMiPT09Y1sxXSYmKHIrPWd3KHUvMikpLCJiIj09PWNbM10mJihvLT1hKSwiciI9PT1jWzRdJiYoci09aSksImMiPT09Y1szXSYmKG8tPWd3KGEvMikpLCJjIj09PWNbNF0mJihyLT1ndyhpLzIpKSx1dyhyLG8saSxhKX1mdW5jdGlvbiBhdygpe31vdy5zZXR1cCgpO2Z1bmN0aW9uIHV3KGUsdCxuLHIpe3JldHVybnt4OmUseTp0LHc6bixoOnJ9fXZhciBzdyxjdyxsdyxmdyxkdz1NYXRoLm1pbixtdz1NYXRoLm1heCxndz1NYXRoLnJvdW5kLHB3PXtpbmZsYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdXcoZS54LXQsZS55LW4sZS53KzIqdCxlLmgrMipuKX0scmVsYXRpdmVQb3NpdGlvbjppdyxmaW5kQmVzdFJlbGF0aXZlUG9zaXRpb246ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvLGk9MDtpPHIubGVuZ3RoO2krKylpZigobz1pdyhlLHQscltpXSkpLng+PW4ueCYmby54K28udzw9bi53K24ueCYmby55Pj1uLnkmJm8ueStvLmg8PW4uaCtuLnkpcmV0dXJuIHJbaV07cmV0dXJuIG51bGx9LGludGVyc2VjdDpmdW5jdGlvbihlLHQpe3ZhciBuPW13KGUueCx0LngpLHI9bXcoZS55LHQueSksbz1kdyhlLngrZS53LHQueCt0LncpLGk9ZHcoZS55K2UuaCx0LnkrdC5oKTtyZXR1cm4gby1uPDB8fGktcjwwP251bGw6dXcobixyLG8tbixpLXIpfSxjbGFtcDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS54LG89ZS55LGk9ZS54K2UudyxhPWUueStlLmgsdT10LngrdC53LHM9dC55K3QuaCxjPW13KDAsdC54LXIpLGw9bXcoMCx0LnktbyksZj1tdygwLGktdSksZD1tdygwLGEtcyk7cmV0dXJuIHIrPWMsbys9bCxuJiYoaSs9YyxhKz1sLHItPWYsby09ZCksdXcocixvLChpLT1mKS1yLChhLT1kKS1vKX0sY3JlYXRlOnV3LGZyb21DbGllbnRSZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB1dyhlLmxlZnQsZS50b3AsZS53aWR0aCxlLmhlaWdodCl9fSxodz0oc3c9e30sY3c9e30se2xvYWQ6ZnVuY3Rpb24ocixvKXt2YXIgaT0nU2NyaXB0IGF0IFVSTCAiJytvKyciIGZhaWxlZCB0byBsb2FkJyxhPSdTY3JpcHQgYXQgVVJMICInK28rIlwiIGRpZCBub3QgY2FsbCBgdGlueW1jZS5SZXNvdXJjZS5hZGQoJyIrcisiJywgZGF0YSlgIHdpdGhpbiAxIHNlY29uZCI7aWYodm9pZCAwIT09c3dbcl0pcmV0dXJuIHN3W3JdO3ZhciBlPW5ldyBfcihmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtvfHwobz0hMCxudWxsIT09aSYmKGNsZWFyVGltZW91dChpKSxpPW51bGwpLG4uYXBwbHkobnVsbCxlKSl9fXZvaWQgMD09PW4mJihuPTFlMyk7dmFyIG89ITEsaT1udWxsLGE9cihlKSx1PXIodCk7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO298fG51bGwhPT1pfHwoaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkobnVsbCxlKX0sbikpfSxyZXNvbHZlOmEscmVqZWN0OnV9fShlLHQpO2N3W3JdPW4ucmVzb2x2ZSxvdS5TY3JpcHRMb2FkZXIubG9hZFNjcmlwdChvLGZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhcnQoYSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVqZWN0KGkpfSl9KTtyZXR1cm4gc3dbcl09ZX0sYWRkOmZ1bmN0aW9uKGUsdCl7dm9pZCAwIT09Y3dbZV0mJihjd1tlXSh0KSxkZWxldGUgY3dbZV0pLHN3W2VdPV9yLnJlc29sdmUodCl9fSksdnc9TnQuZWFjaCxidz1OdC5leHRlbmQ7YXcuZXh0ZW5kPWx3PWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIoKXt2YXIgZSx0LG47aWYoIWZ3JiYodGhpcy5pbml0JiZ0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQ9dGhpcy5NaXhpbnMpKWZvcihlPXQubGVuZ3RoO2UtLTspKG49dFtlXSkuaW5pdCYmbi5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXN9dmFyIG89dGhpcy5wcm90b3R5cGU7Znc9ITA7dmFyIGk9bmV3IHRoaXM7cmV0dXJuIGZ3PSExLG4uTWl4aW5zJiYodncobi5NaXhpbnMsZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpImluaXQiIT09dCYmKG5bdF09ZVt0XSl9KSxvLk1peGlucyYmKG4uTWl4aW5zPW8uTWl4aW5zLmNvbmNhdChuLk1peGlucykpKSxuLk1ldGhvZHMmJnZ3KG4uTWV0aG9kcy5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe25bZV09dH0pLG4uUHJvcGVydGllcyYmdncobi5Qcm9wZXJ0aWVzLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7dmFyIHQ9Il8iK2U7bltlXT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZT8odGhpc1t0XT1lLHRoaXMpOnRoaXNbdF19fSksbi5TdGF0aWNzJiZ2dyhuLlN0YXRpY3MsZnVuY3Rpb24oZSx0KXtyW3RdPWV9KSxuLkRlZmF1bHRzJiZvLkRlZmF1bHRzJiYobi5EZWZhdWx0cz1idyh7fSxvLkRlZmF1bHRzLG4uRGVmYXVsdHMpKSxuZShuLGZ1bmN0aW9uKGUsdCl7dmFyIG4scjsiZnVuY3Rpb24iPT10eXBlb2YgZSYmb1t0XT9pW3RdPShuPXQscj1lLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3VwZXI7dGhpcy5fc3VwZXI9b1tuXTt2YXIgdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fc3VwZXI9ZSx0fSk6aVt0XT1lfSksci5wcm90b3R5cGU9aSwoci5jb25zdHJ1Y3Rvcj1yKS5leHRlbmQ9bHcscn07dmFyIHl3LEN3LHh3LHd3PU1hdGgubWluLFN3PU1hdGgubWF4LE53PU1hdGgucm91bmQsRXc9e3NlcmlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgdD1KU09OLnN0cmluZ2lmeShlKTtyZXR1cm4gWCh0KT90LnJlcGxhY2UoL1tcdTAwODAtXHVGRkZGXS9nLGZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7cmV0dXJuIlxcdSIrIjAwMDAiLnN1YnN0cmluZyh0Lmxlbmd0aCkrdH0pOnR9LHBhcnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXt9fX0sa3c9e2NhbGxiYWNrczp7fSxjb3VudDowLHNlbmQ6ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxyPWV1LkRPTSxvPSh2b2lkIDAhPT10LmNvdW50P3Q6bikuY291bnQsaT0idGlueW1jZV9qc29ucF8iK287bi5jYWxsYmFja3Nbb109ZnVuY3Rpb24oZSl7ci5yZW1vdmUoaSksZGVsZXRlIG4uY2FsbGJhY2tzW29dLHQuY2FsbGJhY2soZSl9LHIuYWRkKHIuZG9jLmJvZHksInNjcmlwdCIse2lkOmksc3JjOnQudXJsLHR5cGU6InRleHQvamF2YXNjcmlwdCJ9KSxuLmNvdW50Kyt9fSxfdz1fZShfZSh7fSxBeCkse3NlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj0wLHI9ZnVuY3Rpb24oKXshZS5hc3luY3x8ND09PXQucmVhZHlTdGF0ZXx8MWU0PG4rKz8oZS5zdWNjZXNzJiZuPDFlNCYmMjAwPT09dC5zdGF0dXM/ZS5zdWNjZXNzLmNhbGwoZS5zdWNjZXNzX3Njb3BlLCIiK3QucmVzcG9uc2VUZXh0LHQsZSk6ZS5lcnJvciYmZS5lcnJvci5jYWxsKGUuZXJyb3Jfc2NvcGUsMWU0PG4/IlRJTUVEX09VVCI6IkdFTkVSQUwiLHQsZSksdD1udWxsKTpBci5zZXRUaW1lb3V0KHIsMTApfTtpZihlLnNjb3BlPWUuc2NvcGV8fHRoaXMsZS5zdWNjZXNzX3Njb3BlPWUuc3VjY2Vzc19zY29wZXx8ZS5zY29wZSxlLmVycm9yX3Njb3BlPWUuZXJyb3Jfc2NvcGV8fGUuc2NvcGUsZS5hc3luYz0hMSE9PWUuYXN5bmMsZS5kYXRhPWUuZGF0YXx8IiIsX3cuZmlyZSgiYmVmb3JlSW5pdGlhbGl6ZSIse3NldHRpbmdzOmV9KSwodD1uZXcgWE1MSHR0cFJlcXVlc3QpLm92ZXJyaWRlTWltZVR5cGUmJnQub3ZlcnJpZGVNaW1lVHlwZShlLmNvbnRlbnRfdHlwZSksdC5vcGVuKGUudHlwZXx8KGUuZGF0YT8iUE9TVCI6IkdFVCIpLGUudXJsLGUuYXN5bmMpLGUuY3Jvc3NEb21haW4mJih0LndpdGhDcmVkZW50aWFscz0hMCksZS5jb250ZW50X3R5cGUmJnQuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixlLmNvbnRlbnRfdHlwZSksZS5yZXF1ZXN0aGVhZGVycyYmTnQuZWFjaChlLnJlcXVlc3RoZWFkZXJzLGZ1bmN0aW9uKGUpe3Quc2V0UmVxdWVzdEhlYWRlcihlLmtleSxlLnZhbHVlKX0pLHQuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksKHQ9X3cuZmlyZSgiYmVmb3JlU2VuZCIse3hocjp0LHNldHRpbmdzOmV9KS54aHIpLnNlbmQoZS5kYXRhKSwhZS5hc3luYylyZXR1cm4gcigpO0FyLnNldFRpbWVvdXQociwxMCl9fSksQXc9TnQuZXh0ZW5kLFJ3PShEdy5zZW5kUlBDPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgRHcpLnNlbmQoZSl9LER3LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZXJyb3Iscj1lLnN1Y2Nlc3Msbz1Bdyh0aGlzLnNldHRpbmdzLGUpO28uc3VjY2Vzcz1mdW5jdGlvbihlLHQpeyhlPXZvaWQgMD09PShlPUV3LnBhcnNlKGUpKT97ZXJyb3I6IkpTT04gUGFyc2UgZXJyb3IuIn06ZSkuZXJyb3I/bi5jYWxsKG8uZXJyb3Jfc2NvcGV8fG8uc2NvcGUsZS5lcnJvcix0KTpyLmNhbGwoby5zdWNjZXNzX3Njb3BlfHxvLnNjb3BlLGUucmVzdWx0KX0sby5lcnJvcj1mdW5jdGlvbihlLHQpe24mJm4uY2FsbChvLmVycm9yX3Njb3BlfHxvLnNjb3BlLGUsdCl9LG8uZGF0YT1Fdy5zZXJpYWxpemUoe2lkOmUuaWR8fCJjIit0aGlzLmNvdW50KyssbWV0aG9kOmUubWV0aG9kLHBhcmFtczplLnBhcmFtc30pLG8uY29udGVudF90eXBlPSJhcHBsaWNhdGlvbi9qc29uIixfdy5zZW5kKG8pfSxEdyk7ZnVuY3Rpb24gRHcoZSl7dGhpcy5zZXR0aW5ncz1Bdyh7fSxlKSx0aGlzLmNvdW50PTB9dHJ5e3ZhciBUdyxPdz0iX19zdG9yYWdlX3Rlc3RfXyI7KFR3PXdpbmRvdy5sb2NhbFN0b3JhZ2UpLnNldEl0ZW0oT3csT3cpLFR3LnJlbW92ZUl0ZW0oT3cpfWNhdGNoKGUpe3l3PXt9LEN3PVtdLHh3PXtnZXRJdGVtOmZ1bmN0aW9uKGUpe3JldHVybiB5d1tlXXx8bnVsbH0sc2V0SXRlbTpmdW5jdGlvbihlLHQpe0N3LnB1c2goZSkseXdbZV09U3RyaW5nKHQpfSxrZXk6ZnVuY3Rpb24oZSl7cmV0dXJuIEN3W2VdfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKHQpe0N3PUN3LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSxkZWxldGUgeXdbdF19LGNsZWFyOmZ1bmN0aW9uKCl7Q3c9W10seXc9e319LGxlbmd0aDowfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoeHcsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiBDdy5sZW5ndGh9LGNvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExfSksVHc9eHd9dmFyIEJ3PXtnZW9tOntSZWN0OnB3fSx1dGlsOntQcm9taXNlOl9yLERlbGF5OkFyLFRvb2xzOk50LFZLOklmLFVSSTpudixDbGFzczphdyxFdmVudERpc3BhdGNoZXI6eXgsT2JzZXJ2YWJsZTpBeCxJMThuOmx1LFhIUjpfdyxKU09OOkV3LEpTT05SZXF1ZXN0OlJ3LEpTT05QOmt3LExvY2FsU3RvcmFnZTpUdyxDb2xvcjpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0O3JldHVybiJvYmplY3QiPT10eXBlb2YgZT8iciJpbiBlPyh1PWUucixzPWUuZyxjPWUuYik6InYiaW4gZSYmZnVuY3Rpb24oZSx0LG4pe2lmKGU9KHBhcnNlSW50KGUsMTApfHwwKSUzNjAsdD1wYXJzZUludCh0LDEwKS8xMDAsbj1wYXJzZUludChuLDEwKS8xMDAsdD1TdygwLHd3KHQsMSkpLG49U3coMCx3dyhuLDEpKSwwIT09dCl7dmFyIHI9ZS82MCxvPW4qdCxpPW8qKDEtTWF0aC5hYnMociUyLTEpKSxhPW4tbztzd2l0Y2goTWF0aC5mbG9vcihyKSl7Y2FzZSAwOnU9byxzPWksYz0wO2JyZWFrO2Nhc2UgMTp1PWkscz1vLGM9MDticmVhaztjYXNlIDI6dT0wLHM9byxjPWk7YnJlYWs7Y2FzZSAzOnU9MCxzPWksYz1vO2JyZWFrO2Nhc2UgNDp1PWkscz0wLGM9bzticmVhaztjYXNlIDU6dT1vLHM9MCxjPWk7YnJlYWs7ZGVmYXVsdDp1PXM9Yz0wfXU9TncoMjU1Kih1K2EpKSxzPU53KDI1NSoocythKSksYz1OdygyNTUqKGMrYSkpfWVsc2UgdT1zPWM9TncoMjU1Km4pfShlLmgsZS5zLGUudik6KHQ9L3JnYlxzKlwoXHMqKFswLTldKylccyosXHMqKFswLTldKylccyosXHMqKFswLTldKylbXlwpXSpcKS9naS5leGVjKGUpKT8odT1wYXJzZUludCh0WzFdLDEwKSxzPXBhcnNlSW50KHRbMl0sMTApLGM9cGFyc2VJbnQodFszXSwxMCkpOih0PS8jKFswLUZdezJ9KShbMC1GXXsyfSkoWzAtRl17Mn0pL2dpLmV4ZWMoZSkpPyh1PXBhcnNlSW50KHRbMV0sMTYpLHM9cGFyc2VJbnQodFsyXSwxNiksYz1wYXJzZUludCh0WzNdLDE2KSk6KHQ9LyMoWzAtRl0pKFswLUZdKShbMC1GXSkvZ2kuZXhlYyhlKSkmJih1PXBhcnNlSW50KHRbMV0rdFsxXSwxNikscz1wYXJzZUludCh0WzJdK3RbMl0sMTYpLGM9cGFyc2VJbnQodFszXSt0WzNdLDE2KSksdT11PDA/MDoyNTU8dT8yNTU6dSxzPXM8MD8wOjI1NTxzPzI1NTpzLGM9YzwwPzA6MjU1PGM/MjU1OmMsbn12YXIgbj17fSx1PTAscz0wLGM9MDtyZXR1cm4gZSYmdChlKSxuLnRvUmdiPWZ1bmN0aW9uKCl7cmV0dXJue3I6dSxnOnMsYjpjfX0sbi50b0hzdj1mdW5jdGlvbigpe3JldHVybiBlPXUsdD1zLG49YyxvPTAsKGk9d3coZS89MjU1LHd3KHQvPTI1NSxuLz0yNTUpKSk9PT0oYT1TdyhlLFN3KHQsbikpKT97aDowLHM6MCx2OjEwMCoobz1pKX06KHI9KGEtaSkvYSx7aDpOdyg2MCooKGU9PT1pPzM6bj09PWk/MTo1KS0oZT09PWk/dC1uOm49PT1pP2UtdDpuLWUpLygobz1hKS1pKSkpLHM6TncoMTAwKnIpLHY6TncoMTAwKm8pfSk7dmFyIGUsdCxuLHIsbyxpLGF9LG4udG9IZXg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3JldHVybiAxPChlPXBhcnNlSW50KGUsMTApLnRvU3RyaW5nKDE2KSkubGVuZ3RoP2U6IjAiK2V9cmV0dXJuIiMiK2UodSkrZShzKStlKGMpfSxuLnBhcnNlPXQsbn0sSW1hZ2VVcGxvYWRlcjpmdW5jdGlvbihuKXt2YXIgZT1yYigpLHI9c2IobixlKTtyZXR1cm57dXBsb2FkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIudXBsb2FkKGUsKHQ9dm9pZCAwPT09dHx8dCk/dWIobik6dm9pZCAwKX19fX0sZG9tOntFdmVudFV0aWxzOmNpLFNpenpsZTpjYSxEb21RdWVyeTpZYSxUcmVlV2Fsa2VyOkRyLFRleHRTZWVrZXI6QXUsRE9NVXRpbHM6ZXUsU2NyaXB0TG9hZGVyOm91LFJhbmdlVXRpbHM6TGYsU2VyaWFsaXplcjpkdixTdHlsZVNoZWV0TG9hZGVyOlNyLENvbnRyb2xTZWxlY3Rpb246U2YsQm9va21hcmtNYW5hZ2VyOkhsLFNlbGVjdGlvbjpGaCxFdmVudDpjaS5FdmVudH0saHRtbDp7U3R5bGVzOmFvLEVudGl0aWVzOlpvLE5vZGU6amQsU2NoZW1hOm9vLFNheFBhcnNlcjppdixEb21QYXJzZXI6Y3YsV3JpdGVyOm5tLFNlcmlhbGl6ZXI6cm19LEVudjp4dCxBZGRPbk1hbmFnZXI6ZnUsQW5ub3RhdG9yOnpsLEZvcm1hdHRlcjptYixVbmRvTWFuYWdlcjpwYixFZGl0b3JDb21tYW5kczpjeCxXaW5kb3dNYW5hZ2VyOkd2LE5vdGlmaWNhdGlvbk1hbmFnZXI6RXYsRWRpdG9yT2JzZXJ2YWJsZTpEeCxTaG9ydGN1dHM6SXgsRWRpdG9yOlZ4LEZvY3VzTWFuYWdlcjpGZCxFZGl0b3JNYW5hZ2VyOm93LERPTTpldS5ET00sU2NyaXB0TG9hZGVyOm91LlNjcmlwdExvYWRlcixQbHVnaW5NYW5hZ2VyOlh2LFRoZW1lTWFuYWdlcjpZdixJY29uTWFuYWdlcjpWdixSZXNvdXJjZTpodyx0cmltOk50LnRyaW0saXNBcnJheTpOdC5pc0FycmF5LGlzOk50LmlzLHRvQXJyYXk6TnQudG9BcnJheSxtYWtlTWFwOk50Lm1ha2VNYXAsZWFjaDpOdC5lYWNoLG1hcDpOdC5tYXAsZ3JlcDpOdC5ncmVwLGluQXJyYXk6TnQuaW5BcnJheSxleHRlbmQ6TnQuZXh0ZW5kLGNyZWF0ZTpOdC5jcmVhdGUsd2FsazpOdC53YWxrLGNyZWF0ZU5TOk50LmNyZWF0ZU5TLHJlc29sdmU6TnQucmVzb2x2ZSxleHBsb2RlOk50LmV4cGxvZGUsX2FkZENhY2hlU3VmZml4Ok50Ll9hZGRDYWNoZVN1ZmZpeCxpc09wZXJhOnh0Lm9wZXJhLGlzV2ViS2l0Onh0LndlYmtpdCxpc0lFOnh0LmllLGlzR2Vja286eHQuZ2Vja28saXNNYWM6eHQubWFjfSxQdz1OdC5leHRlbmQob3csQncpLEx3PVB3O3dpbmRvdy50aW55bWNlPUx3LHdpbmRvdy50aW55TUNFPUx3LGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgbW9kdWxlKXRyeXttb2R1bGUuZXhwb3J0cz1lfWNhdGNoKGUpe319KFB3KX0oKTsNCg==","CacheKey":"5RMoc6TyNhZd7U4hqhm_yKi7_nc"}